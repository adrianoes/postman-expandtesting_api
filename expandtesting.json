{
	"info": {
		"_postman_id": "4cca9cd0-d669-4e1e-9a59-f29d1e8c21e0",
		"name": "expandtesting",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "17862371"
	},
	"item": [
		{
			"name": "TC001 - Check the health of the API Notes services",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"let responseCAPIH = pm.response.json();\r",
							"\r",
							"pm.test(\"1 - Check api health success\", function () {\r",
							"    pm.expect(responseCAPIH.success).to.be.equal(true);\r",
							"});\r",
							"pm.test(\"1 - Check api health status\", function () {\r",
							"    pm.expect(responseCAPIH.status).to.be.equal(200);\r",
							"});\r",
							"pm.test(\"1 - Check api health message\", function () {\r",
							"    pm.expect(responseCAPIH.message).to.be.equal(\"Notes API is Running\");\r",
							"});\r",
							"\r",
							""
						],
						"type": "text/javascript",
						"packages": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							""
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "",
						"value": "",
						"type": "text"
					}
				],
				"url": {
					"raw": "{{base_url}}/health-check",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"health-check"
					]
				}
			},
			"response": []
		},
		{
			"name": "TC002 - Creates a new user account",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"let responseCU = pm.response.json();\r",
							"let requestCU = JSON.parse(pm.request.body.raw);\r",
							"\r",
							"// Persistir só o que é relevante para os asserts do create\r",
							"pm.environment.set(\"user_id\", responseCU.data.id);\r",
							"pm.environment.set(\"user_name\", responseCU.data.name);\r",
							"pm.environment.set(\"user_email\", responseCU.data.email);\r",
							"pm.environment.set(\"user_password\", requestCU.password);\r",
							"\r",
							"// Testes apenas do endpoint 2.1\r",
							"pm.test(\"2.1 - Check creates a new user account success\", function () {\r",
							"    pm.expect(responseCU.success).to.be.equal(true);\r",
							"});\r",
							"pm.test(\"2.1 - Check creates a new user account status\", function () {\r",
							"    pm.expect(responseCU.status).to.be.equal(201);\r",
							"});\r",
							"pm.test(\"2.1 - Check creates a new user account message\", function () {\r",
							"    pm.expect(responseCU.message).to.be.equal(\"User account created successfully\");\r",
							"});\r",
							"pm.test(\"2.1 - Assert created name\", function () {\r",
							"    pm.expect(responseCU.data.name).to.be.equal(requestCU.name);\r",
							"});\r",
							"pm.test(\"2.1 - Assert created e-mail\", function () {\r",
							"    pm.expect(responseCU.data.email).to.be.equal(requestCU.email);\r",
							"});\r",
							"\r",
							"// Cleanup: login e delete sem novos testes (somente fluxo de limpeza)\r",
							"const baseUrl = pm.environment.get(\"base_url\");\r",
							"const email = pm.environment.get(\"user_email\");\r",
							"const password = pm.environment.get(\"user_password\");\r",
							"\r",
							"pm.sendRequest({\r",
							"    url: baseUrl + \"/users/login\",\r",
							"    method: \"POST\",\r",
							"    header: { \"Content-Type\": \"application/json\" },\r",
							"    body: { mode: \"raw\", raw: JSON.stringify({ email, password }) }\r",
							"}, function (err, res) {\r",
							"    if (err || res.code !== 200) {\r",
							"        return;\r",
							"    }\r",
							"    const login = res.json();\r",
							"    const token = login && login.data && login.data.token;\r",
							"    if (!token) {\r",
							"        return;\r",
							"    }\r",
							"\r",
							"    pm.sendRequest({\r",
							"        url: baseUrl + \"/users/delete-account\",\r",
							"        method: \"DELETE\",\r",
							"        header: { \"X-Auth-Token\": token }\r",
							"    }, function () {\r",
							"        // Limpar variáveis para não poluir o ambiente\r",
							"        pm.environment.unset(\"user_id\");\r",
							"        pm.environment.unset(\"user_name\");\r",
							"        pm.environment.unset(\"user_email\");\r",
							"        pm.environment.unset(\"user_password\");\r",
							"    });\r",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							"const randomEmail = pm.variables.replaceIn(\"{{$randomEmail}}\").toLowerCase();\r",
							"pm.environment.set(\"user_email\", randomEmail);"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"protocolProfileBehavior": {
				"disabledSystemHeaders": {}
			},
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\r\n    \"name\":\"{{$randomFullName}}\",\r\n    \"email\":\"{{user_email}}\",\r\n    \"password\":\"{{$randomPassword}}\"\r\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{base_url}}/users/register",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"users",
						"register"
					]
				}
			},
			"response": []
		},
		{
			"name": "TC003 - Creates a new user account - bad request [negative] [br]",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"let responseCUBR = pm.response.json();\r",
							"\r",
							"pm.test(\"2.2 - Check creates a new user account - bad request success\", function () {\r",
							"    pm.expect(responseCUBR.success).to.be.equal(false);\r",
							"});\r",
							"pm.test(\"2.2 - Check creates a new user account - bad request status\", function () {\r",
							"    pm.expect(responseCUBR.status).to.be.equal(400);\r",
							"});\r",
							"pm.test(\"2.2 - Check creates a new user account - bad request message\", function () {\r",
							"    pm.expect(responseCUBR.message).to.be.equal(\"A valid email address is required\");\r",
							"});\r",
							"\r",
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							"const randomEmail = pm.variables.replaceIn(\"{{$randomEmail}}\").toLowerCase();\r",
							"pm.environment.set(\"user_email\", randomEmail);"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"protocolProfileBehavior": {
				"disabledSystemHeaders": {}
			},
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\r\n    \"name\":\"{{$randomFullName}}\",\r\n    \"email\":\"@{{user_email}}\",\r\n    \"password\":\"{{$randomPassword}}\"\r\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{base_url}}/users/register",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"users",
						"register"
					]
				}
			},
			"response": []
		},
		{
			"name": "TC004 - Log in as an existing user",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"let responseLU = pm.response.json();\r",
							"\r",
							"// Testes somente do endpoint de login\r",
							"pm.test(\"3.1 - Check log in as an existing user success\", function () {\r",
							"    pm.expect(responseLU.success).to.be.equal(true);\r",
							"});\r",
							"pm.test(\"3.1 - Check log in as an existing user status\", function () {\r",
							"    pm.expect(responseLU.status).to.be.equal(200);\r",
							"});\r",
							"pm.test(\"3.1 - Check log in as an existing user message\", function () {\r",
							"    pm.expect(responseLU.message).to.be.equal(\"Login successful\");\r",
							"});\r",
							"pm.test(\"3.1 - Assert user id\", function () {\r",
							"    pm.expect(pm.environment.get(\"user_id\")).to.be.equal(responseLU.data.id);\r",
							"});\r",
							"pm.test(\"3.1 - Assert user name\", function () {\r",
							"    pm.expect(pm.environment.get(\"user_name\")).to.be.equal(responseLU.data.name);\r",
							"});\r",
							"pm.test(\"3.1 - Assert user e-mail\", function () {\r",
							"    pm.expect(pm.environment.get(\"user_email\")).to.be.equal(responseLU.data.email);\r",
							"});\r",
							"\r",
							"// Cleanup: deletar usuário criado e limpar variáveis\r",
							"const baseUrl = pm.environment.get(\"base_url\");\r",
							"const token = responseLU.data && responseLU.data.token;\r",
							"\r",
							"if (token) {\r",
							"    pm.sendRequest({\r",
							"        url: baseUrl + \"/users/delete-account\",\r",
							"        method: \"DELETE\",\r",
							"        header: { \"X-Auth-Token\": token }\r",
							"    }, function () {\r",
							"        pm.environment.unset(\"user_id\");\r",
							"        pm.environment.unset(\"user_name\");\r",
							"        pm.environment.unset(\"user_email\");\r",
							"        pm.environment.unset(\"user_password\");\r",
							"        pm.environment.unset(\"user_token\");\r",
							"    });\r",
							"} else {\r",
							"    // Se não houver token, ainda assim limpar para não poluir\r",
							"    pm.environment.unset(\"user_id\");\r",
							"    pm.environment.unset(\"user_name\");\r",
							"    pm.environment.unset(\"user_email\");\r",
							"    pm.environment.unset(\"user_password\");\r",
							"    pm.environment.unset(\"user_token\");\r",
							"}"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							"const baseUrl = pm.environment.get(\"base_url\");\r",
							"\r",
							"// Gerar dados randômicos usando variáveis dinâmicas do Postman\r",
							"const randomName = pm.variables.replaceIn(\"{{$randomFullName}}\");\r",
							"const randomEmail = pm.variables.replaceIn(\"{{$randomEmail}}\").toLowerCase();\r",
							"const randomPassword = pm.variables.replaceIn(\"{{$randomPassword}}\");\r",
							"\r",
							"// Enviar criação de usuário\r",
							"pm.sendRequest({\r",
							"    url: baseUrl + \"/users/register\",\r",
							"    method: \"POST\",\r",
							"    header: { \"Content-Type\": \"application/json\" },\r",
							"    body: {\r",
							"        mode: \"raw\",\r",
							"        raw: JSON.stringify({\r",
							"            name: randomName,\r",
							"            email: randomEmail,\r",
							"            password: randomPassword\r",
							"        })\r",
							"    }\r",
							"}, function (err, res) {\r",
							"    if (err || !res || res.code !== 201) {\r",
							"        // Se falhar, aborta a requisição principal para evitar login sem usuário válido\r",
							"        postman.setNextRequest(null);\r",
							"        return;\r",
							"    }\r",
							"\r",
							"    const body = res.json();\r",
							"    // Persistir para o login e para asserções do pós-script\r",
							"    pm.environment.set(\"user_id\", body.data.id);\r",
							"    pm.environment.set(\"user_name\", body.data.name);\r",
							"    pm.environment.set(\"user_email\", body.data.email);\r",
							"    pm.environment.set(\"user_password\", randomPassword);\r",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\r\n    \"email\":\"{{user_email}}\",\r\n    \"password\":\"{{user_password}}\"\r\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{base_url}}/users/login",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"users",
						"login"
					]
				}
			},
			"response": []
		},
		{
			"name": "TC005 - Log in as an existing user - bad request [negative] [br]",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"let responseLUBR = pm.response.json();\r",
							"\r",
							"// Testes do endpoint 3.2 (bad request)\r",
							"pm.test(\"3.2 - Check log in as an existing user - bad request success\", function () {\r",
							"    pm.expect(responseLUBR.success).to.be.equal(false);\r",
							"});\r",
							"pm.test(\"3.2 - Check log in as an existing user - bad request status\", function () {\r",
							"    pm.expect(responseLUBR.status).to.be.equal(400);\r",
							"});\r",
							"pm.test(\"3.2 - Check log in as an existing user - bad request message\", function () {\r",
							"    pm.expect(responseLUBR.message).to.be.equal(\"A valid email address is required\");\r",
							"});\r",
							"\r",
							"// Cleanup: login correto e delete do usuário\r",
							"const baseUrl = pm.environment.get(\"base_url\");\r",
							"const email = pm.environment.get(\"user_email\");      // presume e-mail válido já criado no pre-script\r",
							"const password = pm.environment.get(\"user_password\");\r",
							"\r",
							"if (baseUrl && email && password) {\r",
							"    pm.sendRequest({\r",
							"        url: baseUrl + \"/users/login\",\r",
							"        method: \"POST\",\r",
							"        header: { \"Content-Type\": \"application/json\" },\r",
							"        body: { mode: \"raw\", raw: JSON.stringify({ email, password }) }\r",
							"    }, function (err, res) {\r",
							"        if (err || !res || res.code !== 200) {\r",
							"            // limpeza mínima mesmo em falha\r",
							"            pm.environment.unset(\"user_id\");\r",
							"            pm.environment.unset(\"user_name\");\r",
							"            pm.environment.unset(\"user_email\");\r",
							"            pm.environment.unset(\"user_password\");\r",
							"            pm.environment.unset(\"user_token\");\r",
							"            return;\r",
							"        }\r",
							"\r",
							"        const login = res.json();\r",
							"        const token = login && login.data && login.data.token;\r",
							"        pm.environment.set(\"user_token\", token || \"\");\r",
							"\r",
							"        if (!token) {\r",
							"            pm.environment.unset(\"user_id\");\r",
							"            pm.environment.unset(\"user_name\");\r",
							"            pm.environment.unset(\"user_email\");\r",
							"            pm.environment.unset(\"user_password\");\r",
							"            pm.environment.unset(\"user_token\");\r",
							"            return;\r",
							"        }\r",
							"\r",
							"        pm.sendRequest({\r",
							"            url: baseUrl + \"/users/delete-account\",\r",
							"            method: \"DELETE\",\r",
							"            header: { \"X-Auth-Token\": token }\r",
							"        }, function () {\r",
							"            // Limpar variáveis para não poluir o ambiente\r",
							"            pm.environment.unset(\"user_id\");\r",
							"            pm.environment.unset(\"user_name\");\r",
							"            pm.environment.unset(\"user_email\");\r",
							"            pm.environment.unset(\"user_password\");\r",
							"            pm.environment.unset(\"user_token\");\r",
							"        });\r",
							"    });\r",
							"} else {\r",
							"    // fallback de limpeza se não houver dados suficientes\r",
							"    pm.environment.unset(\"user_id\");\r",
							"    pm.environment.unset(\"user_name\");\r",
							"    pm.environment.unset(\"user_email\");\r",
							"    pm.environment.unset(\"user_password\");\r",
							"    pm.environment.unset(\"user_token\");\r",
							"}"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							"const baseUrl = pm.environment.get(\"base_url\");\r",
							"\r",
							"// Gerar dados randômicos usando variáveis dinâmicas do Postman\r",
							"const randomName = pm.variables.replaceIn(\"{{$randomFullName}}\");\r",
							"const randomEmail = pm.variables.replaceIn(\"{{$randomEmail}}\").toLowerCase();\r",
							"const randomPassword = pm.variables.replaceIn(\"{{$randomPassword}}\");\r",
							"\r",
							"// Enviar criação de usuário\r",
							"pm.sendRequest({\r",
							"    url: baseUrl + \"/users/register\",\r",
							"    method: \"POST\",\r",
							"    header: { \"Content-Type\": \"application/json\" },\r",
							"    body: {\r",
							"        mode: \"raw\",\r",
							"        raw: JSON.stringify({\r",
							"            name: randomName,\r",
							"            email: randomEmail,\r",
							"            password: randomPassword\r",
							"        })\r",
							"    }\r",
							"}, function (err, res) {\r",
							"    if (err || !res || res.code !== 201) {\r",
							"        // Se falhar, aborta a requisição principal para evitar login sem usuário válido\r",
							"        postman.setNextRequest(null);\r",
							"        return;\r",
							"    }\r",
							"\r",
							"    const body = res.json();\r",
							"    // Persistir para o login e para asserções do pós-script\r",
							"    pm.environment.set(\"user_id\", body.data.id);\r",
							"    pm.environment.set(\"user_name\", body.data.name);\r",
							"    pm.environment.set(\"user_email\", body.data.email);\r",
							"    pm.environment.set(\"user_password\", randomPassword);\r",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\r\n    \"email\":\"@{{user_email}}\",\r\n    \"password\":\"{{user_password}}\"\r\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{base_url}}/users/login",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"users",
						"login"
					]
				}
			},
			"response": []
		},
		{
			"name": "TC006 - Log in as an existing user - unauthorized request [negative] [ur]",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"let responseLUUR = pm.response.json();\r",
							"\r",
							"// Testes do endpoint 3.3 (unauthorized)\r",
							"pm.test(\"3.3 - Check log in as an existing user - unauthorized request success\", function () {\r",
							"    pm.expect(responseLUUR.success).to.be.equal(false);\r",
							"});\r",
							"pm.test(\"3.3 - Check log in as an existing user - unauthorized request status\", function () {\r",
							"    pm.expect(responseLUUR.status).to.be.equal(401);\r",
							"});\r",
							"pm.test(\"3.3 - Check log in as an existing user - unauthorized request message\", function () {\r",
							"    pm.expect(responseLUUR.message).to.be.equal(\"Incorrect email address or password\");\r",
							"});\r",
							"\r",
							"// Cleanup: login válido e delete do usuário\r",
							"const baseUrl = pm.environment.get(\"base_url\");\r",
							"const email = pm.environment.get(\"user_email\");      // gerado no pre-script\r",
							"const password = pm.environment.get(\"user_password\");\r",
							"\r",
							"if (baseUrl && email && password) {\r",
							"    pm.sendRequest({\r",
							"        url: baseUrl + \"/users/login\",\r",
							"        method: \"POST\",\r",
							"        header: { \"Content-Type\": \"application/json\" },\r",
							"        body: { mode: \"raw\", raw: JSON.stringify({ email, password }) }\r",
							"    }, function (err, res) {\r",
							"        if (err || !res || res.code !== 200) {\r",
							"            pm.environment.unset(\"user_id\");\r",
							"            pm.environment.unset(\"user_name\");\r",
							"            pm.environment.unset(\"user_email\");\r",
							"            pm.environment.unset(\"user_password\");\r",
							"            pm.environment.unset(\"user_token\");\r",
							"            return;\r",
							"        }\r",
							"\r",
							"        const login = res.json();\r",
							"        const token = login && login.data && login.data.token;\r",
							"        pm.environment.set(\"user_token\", token || \"\");\r",
							"\r",
							"        if (!token) {\r",
							"            pm.environment.unset(\"user_id\");\r",
							"            pm.environment.unset(\"user_name\");\r",
							"            pm.environment.unset(\"user_email\");\r",
							"            pm.environment.unset(\"user_password\");\r",
							"            pm.environment.unset(\"user_token\");\r",
							"            return;\r",
							"        }\r",
							"\r",
							"        pm.sendRequest({\r",
							"            url: baseUrl + \"/users/delete-account\",\r",
							"            method: \"DELETE\",\r",
							"            header: { \"X-Auth-Token\": token }\r",
							"        }, function () {\r",
							"            pm.environment.unset(\"user_id\");\r",
							"            pm.environment.unset(\"user_name\");\r",
							"            pm.environment.unset(\"user_email\");\r",
							"            pm.environment.unset(\"user_password\");\r",
							"            pm.environment.unset(\"user_token\");\r",
							"        });\r",
							"    });\r",
							"} else {\r",
							"    // fallback de limpeza\r",
							"    pm.environment.unset(\"user_id\");\r",
							"    pm.environment.unset(\"user_name\");\r",
							"    pm.environment.unset(\"user_email\");\r",
							"    pm.environment.unset(\"user_password\");\r",
							"    pm.environment.unset(\"user_token\");\r",
							"}"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							"const baseUrl = pm.environment.get(\"base_url\");\r",
							"\r",
							"// Gerar dados randômicos usando variáveis dinâmicas do Postman\r",
							"const randomName = pm.variables.replaceIn(\"{{$randomFullName}}\");\r",
							"const randomEmail = pm.variables.replaceIn(\"{{$randomEmail}}\").toLowerCase();\r",
							"const randomPassword = pm.variables.replaceIn(\"{{$randomPassword}}\");\r",
							"\r",
							"// Enviar criação de usuário\r",
							"pm.sendRequest({\r",
							"    url: baseUrl + \"/users/register\",\r",
							"    method: \"POST\",\r",
							"    header: { \"Content-Type\": \"application/json\" },\r",
							"    body: {\r",
							"        mode: \"raw\",\r",
							"        raw: JSON.stringify({\r",
							"            name: randomName,\r",
							"            email: randomEmail,\r",
							"            password: randomPassword\r",
							"        })\r",
							"    }\r",
							"}, function (err, res) {\r",
							"    if (err || !res || res.code !== 201) {\r",
							"        // Se falhar, aborta a requisição principal para evitar login sem usuário válido\r",
							"        postman.setNextRequest(null);\r",
							"        return;\r",
							"    }\r",
							"\r",
							"    const body = res.json();\r",
							"    // Persistir para o login e para asserções do pós-script\r",
							"    pm.environment.set(\"user_id\", body.data.id);\r",
							"    pm.environment.set(\"user_name\", body.data.name);\r",
							"    pm.environment.set(\"user_email\", body.data.email);\r",
							"    pm.environment.set(\"user_password\", randomPassword);\r",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\r\n    \"email\":\"{{user_email}}\",\r\n    \"password\":\"@{{user_password}}\"\r\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{base_url}}/users/login",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"users",
						"login"
					]
				}
			},
			"response": []
		},
		{
			"name": "TC007 - Retrieve user profile information",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"let responseRU = pm.response.json();\r",
							"\r",
							"pm.test(\"4.1 - Check retrieve user profile information success\", function () {\r",
							"    pm.expect(responseRU.success).to.be.equal(true);\r",
							"});\r",
							"pm.test(\"4.1 - Check retrieve user profile information status\", function () {\r",
							"    pm.expect(responseRU.status).to.be.equal(200);\r",
							"});\r",
							"pm.test(\"4.1 - Check retrieve user profile information message\", function () {\r",
							"    pm.expect(responseRU.message).to.be.equal(\"Profile successful\");\r",
							"});\r",
							"pm.test(\"4.1 - Assert user id\", function () {\r",
							"    pm.expect(pm.environment.get(\"user_id\")).to.be.equal(responseRU.data.id);\r",
							"});\r",
							"pm.test(\"4.1 - Assert user name\", function () {\r",
							"    pm.expect(pm.environment.get(\"user_name\")).to.be.equal(responseRU.data.name);\r",
							"});\r",
							"pm.test(\"4 - Assert user e-mail\", function () {\r",
							"    pm.expect(pm.environment.get(\"user_email\")).to.be.equal(responseRU.data.email);\r",
							"});\r",
							"\r",
							"// Cleanup: deletar usuário e limpar variáveis\r",
							"const baseUrl = pm.environment.get(\"base_url\");\r",
							"const token = pm.environment.get(\"user_token\");\r",
							"\r",
							"if (baseUrl && token) {\r",
							"    pm.sendRequest({\r",
							"        url: baseUrl + \"/users/delete-account\",\r",
							"        method: \"DELETE\",\r",
							"        header: { \"X-Auth-Token\": token }\r",
							"    }, function () {\r",
							"        pm.environment.unset(\"user_id\");\r",
							"        pm.environment.unset(\"user_name\");\r",
							"        pm.environment.unset(\"user_email\");\r",
							"        pm.environment.unset(\"user_password\");\r",
							"        pm.environment.unset(\"user_token\");\r",
							"    });\r",
							"} else {\r",
							"    pm.environment.unset(\"user_id\");\r",
							"    pm.environment.unset(\"user_name\");\r",
							"    pm.environment.unset(\"user_email\");\r",
							"    pm.environment.unset(\"user_password\");\r",
							"    pm.environment.unset(\"user_token\");\r",
							"}"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							"const baseUrl = pm.environment.get(\"base_url\");\r",
							"\r",
							"// Gerar dados randômicos com helpers do Postman\r",
							"const randomName = pm.variables.replaceIn(\"{{$randomFullName}}\");\r",
							"const randomEmail = pm.variables.replaceIn(\"{{$randomEmail}}\").toLowerCase();\r",
							"const randomPassword = pm.variables.replaceIn(\"{{$randomPassword}}\");\r",
							"\r",
							"// Criar usuário\r",
							"pm.sendRequest({\r",
							"    url: baseUrl + \"/users/register\",\r",
							"    method: \"POST\",\r",
							"    header: { \"Content-Type\": \"application/json\" },\r",
							"    body: {\r",
							"        mode: \"raw\",\r",
							"        raw: JSON.stringify({\r",
							"            name: randomName,\r",
							"            email: randomEmail,\r",
							"            password: randomPassword\r",
							"        })\r",
							"    }\r",
							"}, function (err, res) {\r",
							"    if (err || !res || res.code !== 201) {\r",
							"        postman.setNextRequest(null); // aborta se não criar\r",
							"        return;\r",
							"    }\r",
							"\r",
							"    const body = res.json();\r",
							"    pm.environment.set(\"user_id\", body.data.id);\r",
							"    pm.environment.set(\"user_name\", body.data.name);\r",
							"    pm.environment.set(\"user_email\", body.data.email);\r",
							"    pm.environment.set(\"user_password\", randomPassword);\r",
							"\r",
							"    // Login para obter token\r",
							"    pm.sendRequest({\r",
							"        url: baseUrl + \"/users/login\",\r",
							"        method: \"POST\",\r",
							"        header: { \"Content-Type\": \"application/json\" },\r",
							"        body: { mode: \"raw\", raw: JSON.stringify({ email: randomEmail, password: randomPassword }) }\r",
							"    }, function (err2, res2) {\r",
							"        if (err2 || !res2 || res2.code !== 200) {\r",
							"            postman.setNextRequest(null); // aborta se não logar\r",
							"            return;\r",
							"        }\r",
							"        const login = res2.json();\r",
							"        const token = login && login.data && login.data.token;\r",
							"        if (!token) {\r",
							"            postman.setNextRequest(null);\r",
							"            return;\r",
							"        }\r",
							"        pm.environment.set(\"user_token\", token);\r",
							"    });\r",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "X-Auth-Token",
						"value": "{{user_token}}"
					}
				],
				"url": {
					"raw": "{{base_url}}/users/profile",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"users",
						"profile"
					]
				}
			},
			"response": []
		},
		{
			"name": "TC008 - Retrieve user profile information - bad request [negative] [br]",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"let responseRUBR = pm.response.json();\r",
							"\r",
							"// Testes do endpoint 4.2 (bad request)\r",
							"pm.test(\"4.2 - Check retrieve user profile information - bad request success\", function () {\r",
							"    pm.expect(responseRUBR.success).to.be.equal(false);\r",
							"});\r",
							"pm.test(\"4.2 - Check retrieve user profile information - bad request status\", function () {\r",
							"    pm.expect(responseRUBR.status).to.be.equal(400);\r",
							"});\r",
							"pm.test(\"4.2 - Check retrieve user profile information - bad request message\", function () {\r",
							"    pm.expect(responseRUBR.message).to.be.equal(\"Invalid X-Content-Format header, Only application/json is supported.\");\r",
							"});\r",
							"\r",
							"// Cleanup: login válido e delete do usuário criado no pre-script\r",
							"const baseUrl = pm.environment.get(\"base_url\");\r",
							"const email = pm.environment.get(\"user_email\");\r",
							"const password = pm.environment.get(\"user_password\");\r",
							"\r",
							"if (baseUrl && email && password) {\r",
							"    pm.sendRequest({\r",
							"        url: baseUrl + \"/users/login\",\r",
							"        method: \"POST\",\r",
							"        header: { \"Content-Type\": \"application/json\" },\r",
							"        body: { mode: \"raw\", raw: JSON.stringify({ email, password }) }\r",
							"    }, function (err, res) {\r",
							"        if (err || !res || res.code !== 200) {\r",
							"            pm.environment.unset(\"user_id\");\r",
							"            pm.environment.unset(\"user_name\");\r",
							"            pm.environment.unset(\"user_email\");\r",
							"            pm.environment.unset(\"user_password\");\r",
							"            pm.environment.unset(\"user_token\");\r",
							"            return;\r",
							"        }\r",
							"\r",
							"        const login = res.json();\r",
							"        const token = login && login.data && login.data.token;\r",
							"        pm.environment.set(\"user_token\", token || \"\");\r",
							"\r",
							"        if (!token) {\r",
							"            pm.environment.unset(\"user_id\");\r",
							"            pm.environment.unset(\"user_name\");\r",
							"            pm.environment.unset(\"user_email\");\r",
							"            pm.environment.unset(\"user_password\");\r",
							"            pm.environment.unset(\"user_token\");\r",
							"            return;\r",
							"        }\r",
							"\r",
							"        pm.sendRequest({\r",
							"            url: baseUrl + \"/users/delete-account\",\r",
							"            method: \"DELETE\",\r",
							"            header: { \"X-Auth-Token\": token }\r",
							"        }, function () {\r",
							"            pm.environment.unset(\"user_id\");\r",
							"            pm.environment.unset(\"user_name\");\r",
							"            pm.environment.unset(\"user_email\");\r",
							"            pm.environment.unset(\"user_password\");\r",
							"            pm.environment.unset(\"user_token\");\r",
							"        });\r",
							"    });\r",
							"} else {\r",
							"    // fallback de limpeza\r",
							"    pm.environment.unset(\"user_id\");\r",
							"    pm.environment.unset(\"user_name\");\r",
							"    pm.environment.unset(\"user_email\");\r",
							"    pm.environment.unset(\"user_password\");\r",
							"    pm.environment.unset(\"user_token\");\r",
							"}"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							"const baseUrl = pm.environment.get(\"base_url\");\r",
							"\r",
							"// Gerar dados randômicos com helpers do Postman\r",
							"const randomName = pm.variables.replaceIn(\"{{$randomFullName}}\");\r",
							"const randomEmail = pm.variables.replaceIn(\"{{$randomEmail}}\").toLowerCase();\r",
							"const randomPassword = pm.variables.replaceIn(\"{{$randomPassword}}\");\r",
							"\r",
							"// Criar usuário\r",
							"pm.sendRequest({\r",
							"    url: baseUrl + \"/users/register\",\r",
							"    method: \"POST\",\r",
							"    header: { \"Content-Type\": \"application/json\" },\r",
							"    body: {\r",
							"        mode: \"raw\",\r",
							"        raw: JSON.stringify({\r",
							"            name: randomName,\r",
							"            email: randomEmail,\r",
							"            password: randomPassword\r",
							"        })\r",
							"    }\r",
							"}, function (err, res) {\r",
							"    if (err || !res || res.code !== 201) {\r",
							"        postman.setNextRequest(null); // aborta se não criar\r",
							"        return;\r",
							"    }\r",
							"\r",
							"    const body = res.json();\r",
							"    pm.environment.set(\"user_id\", body.data.id);\r",
							"    pm.environment.set(\"user_name\", body.data.name);\r",
							"    pm.environment.set(\"user_email\", body.data.email);\r",
							"    pm.environment.set(\"user_password\", randomPassword);\r",
							"\r",
							"    // Login para obter token\r",
							"    pm.sendRequest({\r",
							"        url: baseUrl + \"/users/login\",\r",
							"        method: \"POST\",\r",
							"        header: { \"Content-Type\": \"application/json\" },\r",
							"        body: { mode: \"raw\", raw: JSON.stringify({ email: randomEmail, password: randomPassword }) }\r",
							"    }, function (err2, res2) {\r",
							"        if (err2 || !res2 || res2.code !== 200) {\r",
							"            postman.setNextRequest(null); // aborta se não logar\r",
							"            return;\r",
							"        }\r",
							"        const login = res2.json();\r",
							"        const token = login && login.data && login.data.token;\r",
							"        if (!token) {\r",
							"            postman.setNextRequest(null);\r",
							"            return;\r",
							"        }\r",
							"        pm.environment.set(\"user_token\", token);\r",
							"    });\r",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "X-Auth-Token",
						"value": "{{user_token}}"
					},
					{
						"key": "x-content-format",
						"value": "badRequest",
						"type": "text"
					}
				],
				"url": {
					"raw": "{{base_url}}/users/profile",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"users",
						"profile"
					]
				}
			},
			"response": []
		},
		{
			"name": "TC009 - Retrieve user profile information - unauthorized request [negative] [ur]",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"let responseRUUR = pm.response.json();\r",
							"\r",
							"// Testes do endpoint 4.3 (unauthorized)\r",
							"pm.test(\"4.3 - Check retrieve user profile information - unauthorized request success\", function () {\r",
							"    pm.expect(responseRUUR.success).to.be.equal(false);\r",
							"});\r",
							"pm.test(\"4.3 - Check retrieve user profile information - unauthorized request status\", function () {\r",
							"    pm.expect(responseRUUR.status).to.be.equal(401);\r",
							"});\r",
							"pm.test(\"4.3 - Check retrieve user profile information - unauthorized request message\", function () {\r",
							"    pm.expect(responseRUUR.message).to.be.equal(\"Access token is not valid or has expired, you will need to login\");\r",
							"});\r",
							"\r",
							"// Cleanup: login válido e delete do usuário criado no pre-script\r",
							"const baseUrl = pm.environment.get(\"base_url\");\r",
							"const email = pm.environment.get(\"user_email\");\r",
							"const password = pm.environment.get(\"user_password\");\r",
							"\r",
							"if (baseUrl && email && password) {\r",
							"    pm.sendRequest({\r",
							"        url: baseUrl + \"/users/login\",\r",
							"        method: \"POST\",\r",
							"        header: { \"Content-Type\": \"application/json\" },\r",
							"        body: { mode: \"raw\", raw: JSON.stringify({ email, password }) }\r",
							"    }, function (err, res) {\r",
							"        if (err || !res || res.code !== 200) {\r",
							"            pm.environment.unset(\"user_id\");\r",
							"            pm.environment.unset(\"user_name\");\r",
							"            pm.environment.unset(\"user_email\");\r",
							"            pm.environment.unset(\"user_password\");\r",
							"            pm.environment.unset(\"user_token\");\r",
							"            return;\r",
							"        }\r",
							"\r",
							"        const login = res.json();\r",
							"        const token = login && login.data && login.data.token;\r",
							"        pm.environment.set(\"user_token\", token || \"\");\r",
							"\r",
							"        if (!token) {\r",
							"            pm.environment.unset(\"user_id\");\r",
							"            pm.environment.unset(\"user_name\");\r",
							"            pm.environment.unset(\"user_email\");\r",
							"            pm.environment.unset(\"user_password\");\r",
							"            pm.environment.unset(\"user_token\");\r",
							"            return;\r",
							"        }\r",
							"\r",
							"        pm.sendRequest({\r",
							"            url: baseUrl + \"/users/delete-account\",\r",
							"            method: \"DELETE\",\r",
							"            header: { \"X-Auth-Token\": token }\r",
							"        }, function () {\r",
							"            pm.environment.unset(\"user_id\");\r",
							"            pm.environment.unset(\"user_name\");\r",
							"            pm.environment.unset(\"user_email\");\r",
							"            pm.environment.unset(\"user_password\");\r",
							"            pm.environment.unset(\"user_token\");\r",
							"        });\r",
							"    });\r",
							"} else {\r",
							"    // fallback de limpeza\r",
							"    pm.environment.unset(\"user_id\");\r",
							"    pm.environment.unset(\"user_name\");\r",
							"    pm.environment.unset(\"user_email\");\r",
							"    pm.environment.unset(\"user_password\");\r",
							"    pm.environment.unset(\"user_token\");\r",
							"}"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							"const baseUrl = pm.environment.get(\"base_url\");\r",
							"\r",
							"// Gerar dados randômicos com helpers do Postman\r",
							"const randomName = pm.variables.replaceIn(\"{{$randomFullName}}\");\r",
							"const randomEmail = pm.variables.replaceIn(\"{{$randomEmail}}\").toLowerCase();\r",
							"const randomPassword = pm.variables.replaceIn(\"{{$randomPassword}}\");\r",
							"\r",
							"// Criar usuário\r",
							"pm.sendRequest({\r",
							"    url: baseUrl + \"/users/register\",\r",
							"    method: \"POST\",\r",
							"    header: { \"Content-Type\": \"application/json\" },\r",
							"    body: {\r",
							"        mode: \"raw\",\r",
							"        raw: JSON.stringify({\r",
							"            name: randomName,\r",
							"            email: randomEmail,\r",
							"            password: randomPassword\r",
							"        })\r",
							"    }\r",
							"}, function (err, res) {\r",
							"    if (err || !res || res.code !== 201) {\r",
							"        postman.setNextRequest(null); // aborta se não criar\r",
							"        return;\r",
							"    }\r",
							"\r",
							"    const body = res.json();\r",
							"    pm.environment.set(\"user_id\", body.data.id);\r",
							"    pm.environment.set(\"user_name\", body.data.name);\r",
							"    pm.environment.set(\"user_email\", body.data.email);\r",
							"    pm.environment.set(\"user_password\", randomPassword);\r",
							"\r",
							"    // Login para obter token\r",
							"    pm.sendRequest({\r",
							"        url: baseUrl + \"/users/login\",\r",
							"        method: \"POST\",\r",
							"        header: { \"Content-Type\": \"application/json\" },\r",
							"        body: { mode: \"raw\", raw: JSON.stringify({ email: randomEmail, password: randomPassword }) }\r",
							"    }, function (err2, res2) {\r",
							"        if (err2 || !res2 || res2.code !== 200) {\r",
							"            postman.setNextRequest(null); // aborta se não logar\r",
							"            return;\r",
							"        }\r",
							"        const login = res2.json();\r",
							"        const token = login && login.data && login.data.token;\r",
							"        if (!token) {\r",
							"            postman.setNextRequest(null);\r",
							"            return;\r",
							"        }\r",
							"        pm.environment.set(\"user_token\", token);\r",
							"    });\r",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "X-Auth-Token",
						"value": "@{{user_token}}"
					},
					{
						"key": "x-content-format",
						"value": "badRequest",
						"type": "text"
					}
				],
				"url": {
					"raw": "{{base_url}}/users/profile",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"users",
						"profile"
					]
				}
			},
			"response": []
		},
		{
			"name": "TC010 - Update the user profile information",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"let responseUU = pm.response.json();\r",
							"let requestUU = JSON.parse(pm.request.body.raw);\r",
							"\r",
							"// Atualizar ambiente com os valores enviados/retornados\r",
							"pm.environment.set(\"user_name\", requestUU.name);\r",
							"pm.environment.set(\"user_phone\", requestUU.phone);\r",
							"pm.environment.set(\"user_company\", requestUU.company);\r",
							"\r",
							"// Testes do endpoint 5.1\r",
							"pm.test(\"5.1 - Check update the user profile information success\", function () {\r",
							"    pm.expect(responseUU.success).to.be.equal(true);\r",
							"});\r",
							"pm.test(\"5.1 - Check update the user profile information status\", function () {\r",
							"    pm.expect(responseUU.status).to.be.equal(200);\r",
							"});\r",
							"pm.test(\"5.1 - Check update the user profile information message\", function () {\r",
							"    pm.expect(responseUU.message).to.be.equal(\"Profile updated successful\");\r",
							"});\r",
							"pm.test(\"5.1 - Assert user id\", function () {\r",
							"    pm.expect(pm.environment.get(\"user_id\")).to.be.equal(responseUU.data.id);\r",
							"});\r",
							"pm.test(\"5.1 - Assert user name\", function () {\r",
							"    pm.expect(pm.environment.get(\"user_name\")).to.be.equal(responseUU.data.name);\r",
							"});\r",
							"pm.test(\"5.1 - Assert user e-mail\", function () {\r",
							"    pm.expect(pm.environment.get(\"user_email\")).to.be.equal(responseUU.data.email);\r",
							"});\r",
							"pm.test(\"5.1 - Assert user phone\", function () {\r",
							"    pm.expect(pm.environment.get(\"user_phone\")).to.be.equal(responseUU.data.phone);\r",
							"});\r",
							"pm.test(\"5.1 - Assert user company\", function () {\r",
							"    pm.expect(pm.environment.get(\"user_company\")).to.be.equal(responseUU.data.company);\r",
							"});\r",
							"\r",
							"// Cleanup: deletar usuário e limpar variáveis\r",
							"const baseUrl = pm.environment.get(\"base_url\");\r",
							"const token = pm.environment.get(\"user_token\");\r",
							"\r",
							"function unsetAll() {\r",
							"    pm.environment.unset(\"user_id\");\r",
							"    pm.environment.unset(\"user_name\");\r",
							"    pm.environment.unset(\"user_email\");\r",
							"    pm.environment.unset(\"user_password\");\r",
							"    pm.environment.unset(\"user_phone\");\r",
							"    pm.environment.unset(\"user_company\");\r",
							"    pm.environment.unset(\"user_token\");\r",
							"}\r",
							"\r",
							"if (baseUrl && token) {\r",
							"    pm.sendRequest({\r",
							"        url: baseUrl + \"/users/delete-account\",\r",
							"        method: \"DELETE\",\r",
							"        header: { \"X-Auth-Token\": token }\r",
							"    }, function () {\r",
							"        unsetAll();\r",
							"    });\r",
							"} else {\r",
							"    unsetAll();\r",
							"}"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							"const baseUrl = pm.environment.get(\"base_url\");\r",
							"\r",
							"// Gerar dados randômicos com helpers do Postman\r",
							"const randomName = pm.variables.replaceIn(\"{{$randomFullName}}\");\r",
							"const randomEmail = pm.variables.replaceIn(\"{{$randomEmail}}\").toLowerCase();\r",
							"const randomPassword = pm.variables.replaceIn(\"{{$randomPassword}}\");\r",
							"const randomCompany = pm.variables.replaceIn(\"{{$randomCompanyName}}\");\r",
							"const randomPhone = _.random(10000000, 999999999999).toString();\r",
							"\r",
							"// Persistir para o body e asserts\r",
							"pm.environment.set(\"user_name\", randomName);\r",
							"pm.environment.set(\"user_email\", randomEmail);\r",
							"pm.environment.set(\"user_password\", randomPassword);\r",
							"pm.environment.set(\"user_phone\", randomPhone);\r",
							"pm.environment.set(\"user_company\", randomCompany);\r",
							"\r",
							"// Criar usuário\r",
							"pm.sendRequest({\r",
							"    url: baseUrl + \"/users/register\",\r",
							"    method: \"POST\",\r",
							"    header: { \"Content-Type\": \"application/json\" },\r",
							"    body: {\r",
							"        mode: \"raw\",\r",
							"        raw: JSON.stringify({\r",
							"            name: randomName,\r",
							"            email: randomEmail,\r",
							"            password: randomPassword\r",
							"        })\r",
							"    }\r",
							"}, function (err, res) {\r",
							"    if (err || !res || res.code !== 201) {\r",
							"        postman.setNextRequest(null);\r",
							"        return;\r",
							"    }\r",
							"\r",
							"    const body = res.json();\r",
							"    pm.environment.set(\"user_id\", body.data.id);\r",
							"\r",
							"    // Login para obter token\r",
							"    pm.sendRequest({\r",
							"        url: baseUrl + \"/users/login\",\r",
							"        method: \"POST\",\r",
							"        header: { \"Content-Type\": \"application/json\" },\r",
							"        body: { mode: \"raw\", raw: JSON.stringify({ email: randomEmail, password: randomPassword }) }\r",
							"    }, function (err2, res2) {\r",
							"        if (err2 || !res2 || res2.code !== 200) {\r",
							"            postman.setNextRequest(null);\r",
							"            return;\r",
							"        }\r",
							"        const login = res2.json();\r",
							"        const token = login && login.data && login.data.token;\r",
							"        if (!token) {\r",
							"            postman.setNextRequest(null);\r",
							"            return;\r",
							"        }\r",
							"        pm.environment.set(\"user_token\", token);\r",
							"    });\r",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"method": "PATCH",
				"header": [
					{
						"key": "X-Auth-Token",
						"value": "{{user_token}}"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\r\n    \"name\":\"{{$randomFullName}}\",\r\n    \"phone\":\"{{user_phone}}\",\r\n    \"company\":\"{{$randomCompanyName}}\"\r\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{base_url}}/users/profile",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"users",
						"profile"
					]
				}
			},
			"response": []
		},
		{
			"name": "TC011 - Update the user profile information - bad request [negative] [br]",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"let responseUUBR = pm.response.json();\r",
							"\r",
							"// Testes do endpoint 5.2\r",
							"pm.test(\"5.2 - Check update the user profile information - bad request success\", function () {\r",
							"    pm.expect(responseUUBR.success).to.be.equal(false);\r",
							"});\r",
							"pm.test(\"5.2 - Check update the user profile information - bad request status\", function () {\r",
							"    pm.expect(responseUUBR.status).to.be.equal(400);\r",
							"});\r",
							"pm.test(\"5.2 - Check update the user profile information - bad request message\", function () {\r",
							"    pm.expect(responseUUBR.message).to.be.equal(\"User name must be between 4 and 30 characters\");\r",
							"});\r",
							"\r",
							"// Cleanup: login com credenciais válidas e deletar o usuário\r",
							"const baseUrl = pm.environment.get(\"base_url\");\r",
							"const email = pm.environment.get(\"user_email\");\r",
							"const password = pm.environment.get(\"user_password\");\r",
							"\r",
							"function unsetAll() {\r",
							"    pm.environment.unset(\"user_id\");\r",
							"    pm.environment.unset(\"user_name\");\r",
							"    pm.environment.unset(\"user_email\");\r",
							"    pm.environment.unset(\"user_password\");\r",
							"    pm.environment.unset(\"user_phone\");\r",
							"    pm.environment.unset(\"user_company\");\r",
							"    pm.environment.unset(\"user_token\");\r",
							"}\r",
							"\r",
							"if (baseUrl && email && password) {\r",
							"    pm.sendRequest({\r",
							"        url: baseUrl + \"/users/login\",\r",
							"        method: \"POST\",\r",
							"        header: { \"Content-Type\": \"application/json\" },\r",
							"        body: { mode: \"raw\", raw: JSON.stringify({ email, password }) }\r",
							"    }, function (err, res) {\r",
							"        if (err || !res || res.code !== 200) {\r",
							"            unsetAll();\r",
							"            return;\r",
							"        }\r",
							"        const login = res.json();\r",
							"        const token = login && login.data && login.data.token;\r",
							"        pm.environment.set(\"user_token\", token || \"\");\r",
							"        if (!token) {\r",
							"            unsetAll();\r",
							"            return;\r",
							"        }\r",
							"        pm.sendRequest({\r",
							"            url: baseUrl + \"/users/delete-account\",\r",
							"            method: \"DELETE\",\r",
							"            header: { \"X-Auth-Token\": token }\r",
							"        }, function () {\r",
							"            unsetAll();\r",
							"        });\r",
							"    });\r",
							"} else {\r",
							"    unsetAll();\r",
							"}"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							"const baseUrl = pm.environment.get(\"base_url\");\r",
							"\r",
							"// Gerar dados randômicos com helpers do Postman\r",
							"const randomName = pm.variables.replaceIn(\"{{$randomFullName}}\");\r",
							"const randomEmail = pm.variables.replaceIn(\"{{$randomEmail}}\").toLowerCase();\r",
							"const randomPassword = pm.variables.replaceIn(\"{{$randomPassword}}\");\r",
							"const randomCompany = pm.variables.replaceIn(\"{{$randomCompanyName}}\");\r",
							"const randomPhone = _.random(10000000, 999999999999).toString();\r",
							"\r",
							"// Persistir para o body e asserts\r",
							"pm.environment.set(\"user_name\", randomName);\r",
							"pm.environment.set(\"user_email\", randomEmail);\r",
							"pm.environment.set(\"user_password\", randomPassword);\r",
							"pm.environment.set(\"user_phone\", randomPhone);\r",
							"pm.environment.set(\"user_company\", randomCompany);\r",
							"\r",
							"// Criar usuário\r",
							"pm.sendRequest({\r",
							"    url: baseUrl + \"/users/register\",\r",
							"    method: \"POST\",\r",
							"    header: { \"Content-Type\": \"application/json\" },\r",
							"    body: {\r",
							"        mode: \"raw\",\r",
							"        raw: JSON.stringify({\r",
							"            name: randomName,\r",
							"            email: randomEmail,\r",
							"            password: randomPassword\r",
							"        })\r",
							"    }\r",
							"}, function (err, res) {\r",
							"    if (err || !res || res.code !== 201) {\r",
							"        postman.setNextRequest(null);\r",
							"        return;\r",
							"    }\r",
							"\r",
							"    const body = res.json();\r",
							"    pm.environment.set(\"user_id\", body.data.id);\r",
							"\r",
							"    // Login para obter token\r",
							"    pm.sendRequest({\r",
							"        url: baseUrl + \"/users/login\",\r",
							"        method: \"POST\",\r",
							"        header: { \"Content-Type\": \"application/json\" },\r",
							"        body: { mode: \"raw\", raw: JSON.stringify({ email: randomEmail, password: randomPassword }) }\r",
							"    }, function (err2, res2) {\r",
							"        if (err2 || !res2 || res2.code !== 200) {\r",
							"            postman.setNextRequest(null);\r",
							"            return;\r",
							"        }\r",
							"        const login = res2.json();\r",
							"        const token = login && login.data && login.data.token;\r",
							"        if (!token) {\r",
							"            postman.setNextRequest(null);\r",
							"            return;\r",
							"        }\r",
							"        pm.environment.set(\"user_token\", token);\r",
							"    });\r",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"method": "PATCH",
				"header": [
					{
						"key": "X-Auth-Token",
						"value": "{{user_token}}"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\r\n    \"name\":\"6@#\",\r\n    \"phone\":\"{{user_phone}}\",\r\n    \"company\":\"{{$randomCompanyName}}\"\r\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{base_url}}/users/profile",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"users",
						"profile"
					]
				}
			},
			"response": []
		},
		{
			"name": "TC012 - Update the user profile information - unauthorized request [negative] [ur]",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"let responseUUUR = pm.response.json();\r",
							"\r",
							"// Testes do endpoint 5.3\r",
							"pm.test(\"5.3 - Check update the user profile information - unauthorized request success\", function () {\r",
							"    pm.expect(responseUUUR.success).to.be.equal(false);\r",
							"});\r",
							"pm.test(\"5.3 - Check update the user profile information - unauthorized request status\", function () {\r",
							"    pm.expect(responseUUUR.status).to.be.equal(401);\r",
							"});\r",
							"pm.test(\"5.3 - Check update the user profile information - unauthorized request message\", function () {\r",
							"    pm.expect(responseUUUR.message).to.be.equal(\"Access token is not valid or has expired, you will need to login\");\r",
							"});\r",
							"\r",
							"// Cleanup: login válido e delete do usuário\r",
							"const baseUrl = pm.environment.get(\"base_url\");\r",
							"const email = pm.environment.get(\"user_email\");\r",
							"const password = pm.environment.get(\"user_password\");\r",
							"\r",
							"function unsetAll() {\r",
							"    pm.environment.unset(\"user_id\");\r",
							"    pm.environment.unset(\"user_name\");\r",
							"    pm.environment.unset(\"user_email\");\r",
							"    pm.environment.unset(\"user_password\");\r",
							"    pm.environment.unset(\"user_phone\");\r",
							"    pm.environment.unset(\"user_company\");\r",
							"    pm.environment.unset(\"user_token\");\r",
							"}\r",
							"\r",
							"if (baseUrl && email && password) {\r",
							"    pm.sendRequest({\r",
							"        url: baseUrl + \"/users/login\",\r",
							"        method: \"POST\",\r",
							"        header: { \"Content-Type\": \"application/json\" },\r",
							"        body: { mode: \"raw\", raw: JSON.stringify({ email, password }) }\r",
							"    }, function (err, res) {\r",
							"        if (err || !res || res.code !== 200) {\r",
							"            unsetAll();\r",
							"            return;\r",
							"        }\r",
							"        const login = res.json();\r",
							"        const token = login && login.data && login.data.token;\r",
							"        pm.environment.set(\"user_token\", token || \"\");\r",
							"        if (!token) {\r",
							"            unsetAll();\r",
							"            return;\r",
							"        }\r",
							"        pm.sendRequest({\r",
							"            url: baseUrl + \"/users/delete-account\",\r",
							"            method: \"DELETE\",\r",
							"            header: { \"X-Auth-Token\": token }\r",
							"        }, function () {\r",
							"            unsetAll();\r",
							"        });\r",
							"    });\r",
							"} else {\r",
							"    unsetAll();\r",
							"}"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							"const baseUrl = pm.environment.get(\"base_url\");\r",
							"\r",
							"// Gerar dados randômicos com helpers do Postman\r",
							"const randomName = pm.variables.replaceIn(\"{{$randomFullName}}\");\r",
							"const randomEmail = pm.variables.replaceIn(\"{{$randomEmail}}\").toLowerCase();\r",
							"const randomPassword = pm.variables.replaceIn(\"{{$randomPassword}}\");\r",
							"const randomCompany = pm.variables.replaceIn(\"{{$randomCompanyName}}\");\r",
							"const randomPhone = _.random(10000000, 999999999999).toString();\r",
							"\r",
							"// Persistir para o body e asserts\r",
							"pm.environment.set(\"user_name\", randomName);\r",
							"pm.environment.set(\"user_email\", randomEmail);\r",
							"pm.environment.set(\"user_password\", randomPassword);\r",
							"pm.environment.set(\"user_phone\", randomPhone);\r",
							"pm.environment.set(\"user_company\", randomCompany);\r",
							"\r",
							"// Criar usuário\r",
							"pm.sendRequest({\r",
							"    url: baseUrl + \"/users/register\",\r",
							"    method: \"POST\",\r",
							"    header: { \"Content-Type\": \"application/json\" },\r",
							"    body: {\r",
							"        mode: \"raw\",\r",
							"        raw: JSON.stringify({\r",
							"            name: randomName,\r",
							"            email: randomEmail,\r",
							"            password: randomPassword\r",
							"        })\r",
							"    }\r",
							"}, function (err, res) {\r",
							"    if (err || !res || res.code !== 201) {\r",
							"        postman.setNextRequest(null);\r",
							"        return;\r",
							"    }\r",
							"\r",
							"    const body = res.json();\r",
							"    pm.environment.set(\"user_id\", body.data.id);\r",
							"\r",
							"    // Login para obter token\r",
							"    pm.sendRequest({\r",
							"        url: baseUrl + \"/users/login\",\r",
							"        method: \"POST\",\r",
							"        header: { \"Content-Type\": \"application/json\" },\r",
							"        body: { mode: \"raw\", raw: JSON.stringify({ email: randomEmail, password: randomPassword }) }\r",
							"    }, function (err2, res2) {\r",
							"        if (err2 || !res2 || res2.code !== 200) {\r",
							"            postman.setNextRequest(null);\r",
							"            return;\r",
							"        }\r",
							"        const login = res2.json();\r",
							"        const token = login && login.data && login.data.token;\r",
							"        if (!token) {\r",
							"            postman.setNextRequest(null);\r",
							"            return;\r",
							"        }\r",
							"        pm.environment.set(\"user_token\", token);\r",
							"    });\r",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"method": "PATCH",
				"header": [
					{
						"key": "X-Auth-Token",
						"value": "@{{user_token}}"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\r\n    \"name\":\"{{$randomFullName}}\",\r\n    \"phone\":\"{{user_phone}}\",\r\n    \"company\":\"{{$randomCompanyName}}\"\r\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{base_url}}/users/profile",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"users",
						"profile"
					]
				}
			},
			"response": []
		},
		{
			"name": "TC013 - Change a user's password",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"let responseCUP = pm.response.json();\r",
							"let requestCUP = JSON.parse(pm.request.body.raw);\r",
							"\r",
							"// Atualiza senha no ambiente para refletir a nova\r",
							"pm.environment.set(\"user_password\", requestCUP.newPassword);\r",
							"\r",
							"// Testes do endpoint 6.1\r",
							"pm.test(\"6.1 - Check api health success\", function () {\r",
							"    pm.expect(responseCUP.success).to.be.equal(true);\r",
							"});\r",
							"pm.test(\"6.1 - Check api health status\", function () {\r",
							"    pm.expect(responseCUP.status).to.be.equal(200);\r",
							"});\r",
							"pm.test(\"6.1 - Check api health message\", function () {\r",
							"    pm.expect(responseCUP.message).to.be.equal(\"The password was successfully updated\");\r",
							"});\r",
							"\r",
							"// Cleanup: tentar usar token atual; se não tiver, logar com a nova senha e deletar usuário\r",
							"const baseUrl = pm.environment.get(\"base_url\");\r",
							"const email = pm.environment.get(\"user_email\");\r",
							"const password = pm.environment.get(\"user_password\");\r",
							"const existingToken = pm.environment.get(\"user_token\");\r",
							"\r",
							"function unsetAll() {\r",
							"    pm.environment.unset(\"user_id\");\r",
							"    pm.environment.unset(\"user_name\");\r",
							"    pm.environment.unset(\"user_email\");\r",
							"    pm.environment.unset(\"user_password\");\r",
							"    pm.environment.unset(\"user_token\");\r",
							"}\r",
							"\r",
							"function deleteWithToken(token) {\r",
							"    pm.sendRequest({\r",
							"        url: baseUrl + \"/users/delete-account\",\r",
							"        method: \"DELETE\",\r",
							"        header: { \"X-Auth-Token\": token }\r",
							"    }, function () {\r",
							"        unsetAll();\r",
							"    });\r",
							"}\r",
							"\r",
							"if (baseUrl && existingToken) {\r",
							"    deleteWithToken(existingToken);\r",
							"} else if (baseUrl && email && password) {\r",
							"    pm.sendRequest({\r",
							"        url: baseUrl + \"/users/login\",\r",
							"        method: \"POST\",\r",
							"        header: { \"Content-Type\": \"application/json\" },\r",
							"        body: { mode: \"raw\", raw: JSON.stringify({ email, password }) }\r",
							"    }, function (err, res) {\r",
							"        if (err || !res || res.code !== 200) {\r",
							"            unsetAll();\r",
							"            return;\r",
							"        }\r",
							"        const login = res.json();\r",
							"        const token = login && login.data && login.data.token;\r",
							"        if (!token) {\r",
							"            unsetAll();\r",
							"            return;\r",
							"        }\r",
							"        pm.environment.set(\"user_token\", token);\r",
							"        deleteWithToken(token);\r",
							"    });\r",
							"} else {\r",
							"    unsetAll();\r",
							"}"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							"const baseUrl = pm.environment.get(\"base_url\");\r",
							"\r",
							"// Gerar dados randômicos com helpers do Postman\r",
							"const randomName = pm.variables.replaceIn(\"{{$randomFullName}}\");\r",
							"const randomEmail = pm.variables.replaceIn(\"{{$randomEmail}}\").toLowerCase();\r",
							"const randomPassword = pm.variables.replaceIn(\"{{$randomPassword}}\");\r",
							"\r",
							"// Criar usuário\r",
							"pm.sendRequest({\r",
							"    url: baseUrl + \"/users/register\",\r",
							"    method: \"POST\",\r",
							"    header: { \"Content-Type\": \"application/json\" },\r",
							"    body: {\r",
							"        mode: \"raw\",\r",
							"        raw: JSON.stringify({\r",
							"            name: randomName,\r",
							"            email: randomEmail,\r",
							"            password: randomPassword\r",
							"        })\r",
							"    }\r",
							"}, function (err, res) {\r",
							"    if (err || !res || res.code !== 201) {\r",
							"        postman.setNextRequest(null); // aborta se não criar\r",
							"        return;\r",
							"    }\r",
							"\r",
							"    const body = res.json();\r",
							"    pm.environment.set(\"user_id\", body.data.id);\r",
							"    pm.environment.set(\"user_name\", body.data.name);\r",
							"    pm.environment.set(\"user_email\", body.data.email);\r",
							"    pm.environment.set(\"user_password\", randomPassword);\r",
							"\r",
							"    // Login para obter token\r",
							"    pm.sendRequest({\r",
							"        url: baseUrl + \"/users/login\",\r",
							"        method: \"POST\",\r",
							"        header: { \"Content-Type\": \"application/json\" },\r",
							"        body: { mode: \"raw\", raw: JSON.stringify({ email: randomEmail, password: randomPassword }) }\r",
							"    }, function (err2, res2) {\r",
							"        if (err2 || !res2 || res2.code !== 200) {\r",
							"            postman.setNextRequest(null); // aborta se não logar\r",
							"            return;\r",
							"        }\r",
							"        const login = res2.json();\r",
							"        const token = login && login.data && login.data.token;\r",
							"        if (!token) {\r",
							"            postman.setNextRequest(null);\r",
							"            return;\r",
							"        }\r",
							"        pm.environment.set(\"user_token\", token);\r",
							"    });\r",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"protocolProfileBehavior": {
				"disabledSystemHeaders": {}
			},
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "X-Auth-Token",
						"value": "{{user_token}}"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\r\n    \"currentPassword\":\"{{user_password}}\",\r\n    \"newPassword\":\"{{$randomPassword}}\"\r\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{base_url}}/users/change-password",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"users",
						"change-password"
					]
				}
			},
			"response": []
		},
		{
			"name": "TC014 - Change a user's password - bad request [negative] [br]",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"let responseCUPBR = pm.response.json();\r",
							"\r",
							"// Testes do endpoint 6.2\r",
							"pm.test(\"6.2 - Check api health - bad request success\", function () {\r",
							"    pm.expect(responseCUPBR.success).to.be.equal(false);\r",
							"});\r",
							"pm.test(\"6.2 - Check api health - bad request status\", function () {\r",
							"    pm.expect(responseCUPBR.status).to.be.equal(400);\r",
							"});\r",
							"pm.test(\"6.2 - Check api health - bad request message\", function () {\r",
							"    pm.expect(responseCUPBR.message).to.be.equal(\"New password must be between 6 and 30 characters\");\r",
							"});\r",
							"\r",
							"// Cleanup: login com senha atual (não mudou) e delete\r",
							"const baseUrl = pm.environment.get(\"base_url\");\r",
							"const email = pm.environment.get(\"user_email\");\r",
							"const password = pm.environment.get(\"user_password\");\r",
							"\r",
							"function unsetAll() {\r",
							"    pm.environment.unset(\"user_id\");\r",
							"    pm.environment.unset(\"user_name\");\r",
							"    pm.environment.unset(\"user_email\");\r",
							"    pm.environment.unset(\"user_password\");\r",
							"    pm.environment.unset(\"user_token\");\r",
							"}\r",
							"\r",
							"if (baseUrl && email && password) {\r",
							"    pm.sendRequest({\r",
							"        url: baseUrl + \"/users/login\",\r",
							"        method: \"POST\",\r",
							"        header: { \"Content-Type\": \"application/json\" },\r",
							"        body: { mode: \"raw\", raw: JSON.stringify({ email, password }) }\r",
							"    }, function (err, res) {\r",
							"        if (err || !res || res.code !== 200) {\r",
							"            unsetAll();\r",
							"            return;\r",
							"        }\r",
							"        const login = res.json();\r",
							"        const token = login && login.data && login.data.token;\r",
							"        pm.environment.set(\"user_token\", token || \"\");\r",
							"        if (!token) {\r",
							"            unsetAll();\r",
							"            return;\r",
							"        }\r",
							"        pm.sendRequest({\r",
							"            url: baseUrl + \"/users/delete-account\",\r",
							"            method: \"DELETE\",\r",
							"            header: { \"X-Auth-Token\": token }\r",
							"        }, function () {\r",
							"            unsetAll();\r",
							"        });\r",
							"    });\r",
							"} else {\r",
							"    unsetAll();\r",
							"}"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							"const baseUrl = pm.environment.get(\"base_url\");\r",
							"\r",
							"// Gerar dados randômicos com helpers do Postman\r",
							"const randomName = pm.variables.replaceIn(\"{{$randomFullName}}\");\r",
							"const randomEmail = pm.variables.replaceIn(\"{{$randomEmail}}\").toLowerCase();\r",
							"const randomPassword = pm.variables.replaceIn(\"{{$randomPassword}}\");\r",
							"\r",
							"// Criar usuário\r",
							"pm.sendRequest({\r",
							"    url: baseUrl + \"/users/register\",\r",
							"    method: \"POST\",\r",
							"    header: { \"Content-Type\": \"application/json\" },\r",
							"    body: {\r",
							"        mode: \"raw\",\r",
							"        raw: JSON.stringify({\r",
							"            name: randomName,\r",
							"            email: randomEmail,\r",
							"            password: randomPassword\r",
							"        })\r",
							"    }\r",
							"}, function (err, res) {\r",
							"    if (err || !res || res.code !== 201) {\r",
							"        postman.setNextRequest(null); // aborta se não criar\r",
							"        return;\r",
							"    }\r",
							"\r",
							"    const body = res.json();\r",
							"    pm.environment.set(\"user_id\", body.data.id);\r",
							"    pm.environment.set(\"user_name\", body.data.name);\r",
							"    pm.environment.set(\"user_email\", body.data.email);\r",
							"    pm.environment.set(\"user_password\", randomPassword);\r",
							"\r",
							"    // Login para obter token\r",
							"    pm.sendRequest({\r",
							"        url: baseUrl + \"/users/login\",\r",
							"        method: \"POST\",\r",
							"        header: { \"Content-Type\": \"application/json\" },\r",
							"        body: { mode: \"raw\", raw: JSON.stringify({ email: randomEmail, password: randomPassword }) }\r",
							"    }, function (err2, res2) {\r",
							"        if (err2 || !res2 || res2.code !== 200) {\r",
							"            postman.setNextRequest(null); // aborta se não logar\r",
							"            return;\r",
							"        }\r",
							"        const login = res2.json();\r",
							"        const token = login && login.data && login.data.token;\r",
							"        if (!token) {\r",
							"            postman.setNextRequest(null);\r",
							"            return;\r",
							"        }\r",
							"        pm.environment.set(\"user_token\", token);\r",
							"    });\r",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"protocolProfileBehavior": {
				"disabledSystemHeaders": {}
			},
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "X-Auth-Token",
						"value": "{{user_token}}"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\r\n    \"currentPassword\":\"{{user_password}}\",\r\n    \"newPassword\":\"123\"\r\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{base_url}}/users/change-password",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"users",
						"change-password"
					]
				}
			},
			"response": []
		},
		{
			"name": "TC015 - Change a user's password - unauthorized request [negative] [ur]",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"let responseCUPUR = pm.response.json();\r",
							"\r",
							"// Testes do endpoint 6.3\r",
							"pm.test(\"6.3 - Check api health - unauthorized request success\", function () {\r",
							"    pm.expect(responseCUPUR.success).to.be.equal(false);\r",
							"});\r",
							"pm.test(\"6.3 - Check api health - unauthorized request status\", function () {\r",
							"    pm.expect(responseCUPUR.status).to.be.equal(401);\r",
							"});\r",
							"pm.test(\"6.3 - Check api health - unauthorized request message\", function () {\r",
							"    pm.expect(responseCUPUR.message).to.be.equal(\"Access token is not valid or has expired, you will need to login\");\r",
							"});\r",
							"\r",
							"// Cleanup: login válido (senha atual) e delete\r",
							"const baseUrl = pm.environment.get(\"base_url\");\r",
							"const email = pm.environment.get(\"user_email\");\r",
							"const password = pm.environment.get(\"user_password\");\r",
							"\r",
							"function unsetAll() {\r",
							"    pm.environment.unset(\"user_id\");\r",
							"    pm.environment.unset(\"user_name\");\r",
							"    pm.environment.unset(\"user_email\");\r",
							"    pm.environment.unset(\"user_password\");\r",
							"    pm.environment.unset(\"user_token\");\r",
							"}\r",
							"\r",
							"if (baseUrl && email && password) {\r",
							"    pm.sendRequest({\r",
							"        url: baseUrl + \"/users/login\",\r",
							"        method: \"POST\",\r",
							"        header: { \"Content-Type\": \"application/json\" },\r",
							"        body: { mode: \"raw\", raw: JSON.stringify({ email, password }) }\r",
							"    }, function (err, res) {\r",
							"        if (err || !res || res.code !== 200) {\r",
							"            unsetAll();\r",
							"            return;\r",
							"        }\r",
							"        const login = res.json();\r",
							"        const token = login && login.data && login.data.token;\r",
							"        pm.environment.set(\"user_token\", token || \"\");\r",
							"        if (!token) {\r",
							"            unsetAll();\r",
							"            return;\r",
							"        }\r",
							"        pm.sendRequest({\r",
							"            url: baseUrl + \"/users/delete-account\",\r",
							"            method: \"DELETE\",\r",
							"            header: { \"X-Auth-Token\": token }\r",
							"        }, function () {\r",
							"            unsetAll();\r",
							"        });\r",
							"    });\r",
							"} else {\r",
							"    unsetAll();\r",
							"}"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							"const baseUrl = pm.environment.get(\"base_url\");\r",
							"\r",
							"// Gerar dados randômicos com helpers do Postman\r",
							"const randomName = pm.variables.replaceIn(\"{{$randomFullName}}\");\r",
							"const randomEmail = pm.variables.replaceIn(\"{{$randomEmail}}\").toLowerCase();\r",
							"const randomPassword = pm.variables.replaceIn(\"{{$randomPassword}}\");\r",
							"\r",
							"// Criar usuário\r",
							"pm.sendRequest({\r",
							"    url: baseUrl + \"/users/register\",\r",
							"    method: \"POST\",\r",
							"    header: { \"Content-Type\": \"application/json\" },\r",
							"    body: {\r",
							"        mode: \"raw\",\r",
							"        raw: JSON.stringify({\r",
							"            name: randomName,\r",
							"            email: randomEmail,\r",
							"            password: randomPassword\r",
							"        })\r",
							"    }\r",
							"}, function (err, res) {\r",
							"    if (err || !res || res.code !== 201) {\r",
							"        postman.setNextRequest(null); // aborta se não criar\r",
							"        return;\r",
							"    }\r",
							"\r",
							"    const body = res.json();\r",
							"    pm.environment.set(\"user_id\", body.data.id);\r",
							"    pm.environment.set(\"user_name\", body.data.name);\r",
							"    pm.environment.set(\"user_email\", body.data.email);\r",
							"    pm.environment.set(\"user_password\", randomPassword);\r",
							"\r",
							"    // Login para obter token\r",
							"    pm.sendRequest({\r",
							"        url: baseUrl + \"/users/login\",\r",
							"        method: \"POST\",\r",
							"        header: { \"Content-Type\": \"application/json\" },\r",
							"        body: { mode: \"raw\", raw: JSON.stringify({ email: randomEmail, password: randomPassword }) }\r",
							"    }, function (err2, res2) {\r",
							"        if (err2 || !res2 || res2.code !== 200) {\r",
							"            postman.setNextRequest(null); // aborta se não logar\r",
							"            return;\r",
							"        }\r",
							"        const login = res2.json();\r",
							"        const token = login && login.data && login.data.token;\r",
							"        if (!token) {\r",
							"            postman.setNextRequest(null);\r",
							"            return;\r",
							"        }\r",
							"        pm.environment.set(\"user_token\", token);\r",
							"    });\r",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"protocolProfileBehavior": {
				"disabledSystemHeaders": {}
			},
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "X-Auth-Token",
						"value": "@{{user_token}}"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\r\n    \"currentPassword\":\"{{user_password}}\",\r\n    \"newPassword\":\"{{$randomPassword}}\"\r\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{base_url}}/users/change-password",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"users",
						"change-password"
					]
				}
			},
			"response": []
		},
		{
			"name": "TC016 - Creates a new note",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"let responseCN = pm.response.json();\r",
							"let requestCN = JSON.parse(pm.request.body.raw);\r",
							"\r",
							"// Persistir dados da nota criada\r",
							"pm.environment.set(\"note_title\", requestCN.title);\r",
							"pm.environment.set(\"note_description\", requestCN.description);\r",
							"pm.environment.set(\"note_category\", requestCN.category);\r",
							"pm.environment.set(\"note_id\", responseCN.data.id);\r",
							"pm.environment.set(\"note_completed\", responseCN.data.completed);\r",
							"pm.environment.set(\"note_created_at\", responseCN.data.created_at);\r",
							"pm.environment.set(\"note_updated_at\", responseCN.data.updated_at);\r",
							"\r",
							"// Testes do endpoint 7.1\r",
							"pm.test(\"7.1 - Check creates a new note success\", function () {\r",
							"    pm.expect(responseCN.success).to.be.equal(true);\r",
							"});\r",
							"pm.test(\"7.1 - Check creates a new note status\", function () {\r",
							"    pm.expect(responseCN.status).to.be.equal(200);\r",
							"});\r",
							"pm.test(\"7.1 - Check creates a new note message\", function () {\r",
							"    pm.expect(responseCN.message).to.be.equal(\"Note successfully created\");\r",
							"});\r",
							"pm.test(\"7.1 - Assert note title\", function () {\r",
							"    pm.expect(pm.environment.get(\"note_title\")).to.be.equal(responseCN.data.title);\r",
							"});\r",
							"pm.test(\"7.1 - Assert note description\", function () {\r",
							"    pm.expect(pm.environment.get(\"note_description\")).to.be.equal(responseCN.data.description);\r",
							"});\r",
							"pm.test(\"7.1 - Assert note category\", function () {\r",
							"    pm.expect(pm.environment.get(\"note_category\")).to.be.equal(responseCN.data.category);\r",
							"});\r",
							"pm.test(\"7.1 - Assert user id\", function () {\r",
							"    pm.expect(pm.environment.get(\"user_id\")).to.be.equal(responseCN.data.user_id);\r",
							"});\r",
							"\r",
							"// Cleanup: deletar nota e depois o usuário; limpar variáveis\r",
							"const baseUrl = pm.environment.get(\"base_url\");\r",
							"const token = pm.environment.get(\"user_token\");\r",
							"const noteId = pm.environment.get(\"note_id\");\r",
							"\r",
							"function unsetAll() {\r",
							"    pm.environment.unset(\"user_id\");\r",
							"    pm.environment.unset(\"user_name\");\r",
							"    pm.environment.unset(\"user_email\");\r",
							"    pm.environment.unset(\"user_password\");\r",
							"    pm.environment.unset(\"user_token\");\r",
							"    pm.environment.unset(\"note_title\");\r",
							"    pm.environment.unset(\"note_description\");\r",
							"    pm.environment.unset(\"note_category\");\r",
							"    pm.environment.unset(\"note_id\");\r",
							"    pm.environment.unset(\"note_completed\");\r",
							"    pm.environment.unset(\"note_created_at\");\r",
							"    pm.environment.unset(\"note_updated_at\");\r",
							"}\r",
							"\r",
							"if (baseUrl && token && noteId) {\r",
							"    // Delete nota\r",
							"    pm.sendRequest({\r",
							"        url: baseUrl + \"/notes/\" + noteId,\r",
							"        method: \"DELETE\",\r",
							"        header: { \"X-Auth-Token\": token }\r",
							"    }, function () {\r",
							"        // Delete usuário\r",
							"        pm.sendRequest({\r",
							"            url: baseUrl + \"/users/delete-account\",\r",
							"            method: \"DELETE\",\r",
							"            header: { \"X-Auth-Token\": token }\r",
							"        }, function () {\r",
							"            unsetAll();\r",
							"        });\r",
							"    });\r",
							"} else if (baseUrl && token) {\r",
							"    // Se não tiver noteId, tenta só deletar usuário\r",
							"    pm.sendRequest({\r",
							"        url: baseUrl + \"/users/delete-account\",\r",
							"        method: \"DELETE\",\r",
							"        header: { \"X-Auth-Token\": token }\r",
							"    }, function () {\r",
							"        unsetAll();\r",
							"    });\r",
							"} else {\r",
							"    unsetAll();\r",
							"}"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							"const baseUrl = pm.environment.get(\"base_url\");\r",
							"\r",
							"// Dados randômicos\r",
							"const randomName = pm.variables.replaceIn(\"{{$randomFullName}}\");\r",
							"const randomEmail = pm.variables.replaceIn(\"{{$randomEmail}}\").toLowerCase();\r",
							"const randomPassword = pm.variables.replaceIn(\"{{$randomPassword}}\");\r",
							"const randomCategory = _.sample(['Home', 'Work', 'Personal']);\r",
							"\r",
							"// Persistir para uso no body/tests\r",
							"pm.environment.set(\"user_name\", randomName);\r",
							"pm.environment.set(\"user_email\", randomEmail);\r",
							"pm.environment.set(\"user_password\", randomPassword);\r",
							"pm.environment.set(\"note_category\", randomCategory);\r",
							"\r",
							"// Criar usuário\r",
							"pm.sendRequest({\r",
							"    url: baseUrl + \"/users/register\",\r",
							"    method: \"POST\",\r",
							"    header: { \"Content-Type\": \"application/json\" },\r",
							"    body: {\r",
							"        mode: \"raw\",\r",
							"        raw: JSON.stringify({\r",
							"            name: randomName,\r",
							"            email: randomEmail,\r",
							"            password: randomPassword\r",
							"        })\r",
							"    }\r",
							"}, function (err, res) {\r",
							"    if (err || !res || res.code !== 201) {\r",
							"        postman.setNextRequest(null);\r",
							"        return;\r",
							"    }\r",
							"    const body = res.json();\r",
							"    pm.environment.set(\"user_id\", body.data.id);\r",
							"\r",
							"    // Login para obter token\r",
							"    pm.sendRequest({\r",
							"        url: baseUrl + \"/users/login\",\r",
							"        method: \"POST\",\r",
							"        header: { \"Content-Type\": \"application/json\" },\r",
							"        body: { mode: \"raw\", raw: JSON.stringify({ email: randomEmail, password: randomPassword }) }\r",
							"    }, function (err2, res2) {\r",
							"        if (err2 || !res2 || res2.code !== 200) {\r",
							"            postman.setNextRequest(null);\r",
							"            return;\r",
							"        }\r",
							"        const login = res2.json();\r",
							"        const token = login && login.data && login.data.token;\r",
							"        if (!token) {\r",
							"            postman.setNextRequest(null);\r",
							"            return;\r",
							"        }\r",
							"        pm.environment.set(\"user_token\", token);\r",
							"    });\r",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"protocolProfileBehavior": {
				"disabledSystemHeaders": {}
			},
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "X-Auth-Token",
						"value": "{{user_token}}"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\r\n    \"title\":\"{{$randomWord}} {{$randomWord}}\",\r\n    \"description\":\"{{$randomWord}} {{$randomWord}} {{$randomWord}}\",\r\n    \"category\":\"{{note_category}}\"\r\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{base_url}}/notes",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"notes"
					]
				}
			},
			"response": []
		},
		{
			"name": "TC017 - Creates a new note - bad request [negative] [br]",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"let responseCNBR = pm.response.json();\r",
							"\r",
							"// Testes do endpoint 7.2\r",
							"pm.test(\"7.2 - Check creates a new note - bad request success\", function () {\r",
							"    pm.expect(responseCNBR.success).to.be.equal(false);\r",
							"});\r",
							"pm.test(\"7.2 - Check creates a new note - bad request status\", function () {\r",
							"    pm.expect(responseCNBR.status).to.be.equal(400);\r",
							"});\r",
							"pm.test(\"7.2 - Check creates a new note - bad request message\", function () {\r",
							"    pm.expect(responseCNBR.message).to.be.equal(\"Category must be one of the categories: Home, Work, Personal\");\r",
							"});\r",
							"\r",
							"// Cleanup: tentar login válido e deletar usuário\r",
							"const baseUrl = pm.environment.get(\"base_url\");\r",
							"const email = pm.environment.get(\"user_email\");\r",
							"const password = pm.environment.get(\"user_password\");\r",
							"\r",
							"function unsetAll() {\r",
							"    pm.environment.unset(\"user_id\");\r",
							"    pm.environment.unset(\"user_name\");\r",
							"    pm.environment.unset(\"user_email\");\r",
							"    pm.environment.unset(\"user_password\");\r",
							"    pm.environment.unset(\"user_token\");\r",
							"    pm.environment.unset(\"note_title\");\r",
							"    pm.environment.unset(\"note_description\");\r",
							"    pm.environment.unset(\"note_category\");\r",
							"    pm.environment.unset(\"note_id\");\r",
							"    pm.environment.unset(\"note_completed\");\r",
							"    pm.environment.unset(\"note_created_at\");\r",
							"    pm.environment.unset(\"note_updated_at\");\r",
							"}\r",
							"\r",
							"if (baseUrl && email && password) {\r",
							"    pm.sendRequest({\r",
							"        url: baseUrl + \"/users/login\",\r",
							"        method: \"POST\",\r",
							"        header: { \"Content-Type\": \"application/json\" },\r",
							"        body: { mode: \"raw\", raw: JSON.stringify({ email, password }) }\r",
							"    }, function (err, res) {\r",
							"        if (err || !res || res.code !== 200) {\r",
							"            unsetAll();\r",
							"            return;\r",
							"        }\r",
							"        const login = res.json();\r",
							"        const token = login && login.data && login.data.token;\r",
							"        pm.environment.set(\"user_token\", token || \"\");\r",
							"        if (!token) {\r",
							"            unsetAll();\r",
							"            return;\r",
							"        }\r",
							"        pm.sendRequest({\r",
							"            url: baseUrl + \"/users/delete-account\",\r",
							"            method: \"DELETE\",\r",
							"            header: { \"X-Auth-Token\": token }\r",
							"        }, function () {\r",
							"            unsetAll();\r",
							"        });\r",
							"    });\r",
							"} else {\r",
							"    unsetAll();\r",
							"}"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							"const baseUrl = pm.environment.get(\"base_url\");\r",
							"\r",
							"// Dados randômicos\r",
							"const randomName = pm.variables.replaceIn(\"{{$randomFullName}}\");\r",
							"const randomEmail = pm.variables.replaceIn(\"{{$randomEmail}}\").toLowerCase();\r",
							"const randomPassword = pm.variables.replaceIn(\"{{$randomPassword}}\");\r",
							"const randomCategory = _.sample(['Home', 'Work', 'Personal']);\r",
							"\r",
							"// Persistir para uso no body/tests\r",
							"pm.environment.set(\"user_name\", randomName);\r",
							"pm.environment.set(\"user_email\", randomEmail);\r",
							"pm.environment.set(\"user_password\", randomPassword);\r",
							"pm.environment.set(\"note_category\", randomCategory);\r",
							"\r",
							"// Criar usuário\r",
							"pm.sendRequest({\r",
							"    url: baseUrl + \"/users/register\",\r",
							"    method: \"POST\",\r",
							"    header: { \"Content-Type\": \"application/json\" },\r",
							"    body: {\r",
							"        mode: \"raw\",\r",
							"        raw: JSON.stringify({\r",
							"            name: randomName,\r",
							"            email: randomEmail,\r",
							"            password: randomPassword\r",
							"        })\r",
							"    }\r",
							"}, function (err, res) {\r",
							"    if (err || !res || res.code !== 201) {\r",
							"        postman.setNextRequest(null);\r",
							"        return;\r",
							"    }\r",
							"    const body = res.json();\r",
							"    pm.environment.set(\"user_id\", body.data.id);\r",
							"\r",
							"    // Login para obter token\r",
							"    pm.sendRequest({\r",
							"        url: baseUrl + \"/users/login\",\r",
							"        method: \"POST\",\r",
							"        header: { \"Content-Type\": \"application/json\" },\r",
							"        body: { mode: \"raw\", raw: JSON.stringify({ email: randomEmail, password: randomPassword }) }\r",
							"    }, function (err2, res2) {\r",
							"        if (err2 || !res2 || res2.code !== 200) {\r",
							"            postman.setNextRequest(null);\r",
							"            return;\r",
							"        }\r",
							"        const login = res2.json();\r",
							"        const token = login && login.data && login.data.token;\r",
							"        if (!token) {\r",
							"            postman.setNextRequest(null);\r",
							"            return;\r",
							"        }\r",
							"        pm.environment.set(\"user_token\", token);\r",
							"    });\r",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"protocolProfileBehavior": {
				"disabledSystemHeaders": {}
			},
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "X-Auth-Token",
						"value": "{{user_token}}"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\r\n    \"title\":\"{{$randomWord}} {{$randomWord}}\",\r\n    \"description\":\"{{$randomWord}} {{$randomWord}} {{$randomWord}}\",\r\n    \"category\":\"a\"\r\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{base_url}}/notes",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"notes"
					]
				}
			},
			"response": []
		},
		{
			"name": "TC018 - Creates a new note - unauthorized request [negative] [ur]",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"let responseCNUR = pm.response.json();\r",
							"\r",
							"// Testes do endpoint 7.3\r",
							"pm.test(\"7.3 - Check creates a new note - unauthorized request success\", function () {\r",
							"    pm.expect(responseCNUR.success).to.be.equal(false);\r",
							"});\r",
							"pm.test(\"7.3 - Check creates a new note - unauthorized request status\", function () {\r",
							"    pm.expect(responseCNUR.status).to.be.equal(401);\r",
							"});\r",
							"pm.test(\"7.3 - Check creates a new note - unauthorized request message\", function () {\r",
							"    pm.expect(responseCNUR.message).to.be.equal(\"Access token is not valid or has expired, you will need to login\");\r",
							"});\r",
							"\r",
							"// Cleanup: login válido (token novo) e delete do usuário\r",
							"const baseUrl = pm.environment.get(\"base_url\");\r",
							"const email = pm.environment.get(\"user_email\");\r",
							"const password = pm.environment.get(\"user_password\");\r",
							"\r",
							"function unsetAll() {\r",
							"    pm.environment.unset(\"user_id\");\r",
							"    pm.environment.unset(\"user_name\");\r",
							"    pm.environment.unset(\"user_email\");\r",
							"    pm.environment.unset(\"user_password\");\r",
							"    pm.environment.unset(\"user_token\");\r",
							"    pm.environment.unset(\"note_title\");\r",
							"    pm.environment.unset(\"note_description\");\r",
							"    pm.environment.unset(\"note_category\");\r",
							"    pm.environment.unset(\"note_id\");\r",
							"    pm.environment.unset(\"note_completed\");\r",
							"    pm.environment.unset(\"note_created_at\");\r",
							"    pm.environment.unset(\"note_updated_at\");\r",
							"}\r",
							"\r",
							"if (baseUrl && email && password) {\r",
							"    pm.sendRequest({\r",
							"        url: baseUrl + \"/users/login\",\r",
							"        method: \"POST\",\r",
							"        header: { \"Content-Type\": \"application/json\" },\r",
							"        body: { mode: \"raw\", raw: JSON.stringify({ email, password }) }\r",
							"    }, function (err, res) {\r",
							"        if (err || !res || res.code !== 200) {\r",
							"            unsetAll();\r",
							"            return;\r",
							"        }\r",
							"        const login = res.json();\r",
							"        const token = login && login.data && login.data.token;\r",
							"        pm.environment.set(\"user_token\", token || \"\");\r",
							"        if (!token) {\r",
							"            unsetAll();\r",
							"            return;\r",
							"        }\r",
							"        pm.sendRequest({\r",
							"            url: baseUrl + \"/users/delete-account\",\r",
							"            method: \"DELETE\",\r",
							"            header: { \"X-Auth-Token\": token }\r",
							"        }, function () {\r",
							"            unsetAll();\r",
							"        });\r",
							"    });\r",
							"} else {\r",
							"    unsetAll();\r",
							"}"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							"const baseUrl = pm.environment.get(\"base_url\");\r",
							"\r",
							"// Dados randômicos\r",
							"const randomName = pm.variables.replaceIn(\"{{$randomFullName}}\");\r",
							"const randomEmail = pm.variables.replaceIn(\"{{$randomEmail}}\").toLowerCase();\r",
							"const randomPassword = pm.variables.replaceIn(\"{{$randomPassword}}\");\r",
							"const randomCategory = _.sample(['Home', 'Work', 'Personal']);\r",
							"\r",
							"// Persistir para uso no body/tests\r",
							"pm.environment.set(\"user_name\", randomName);\r",
							"pm.environment.set(\"user_email\", randomEmail);\r",
							"pm.environment.set(\"user_password\", randomPassword);\r",
							"pm.environment.set(\"note_category\", randomCategory);\r",
							"\r",
							"// Criar usuário\r",
							"pm.sendRequest({\r",
							"    url: baseUrl + \"/users/register\",\r",
							"    method: \"POST\",\r",
							"    header: { \"Content-Type\": \"application/json\" },\r",
							"    body: {\r",
							"        mode: \"raw\",\r",
							"        raw: JSON.stringify({\r",
							"            name: randomName,\r",
							"            email: randomEmail,\r",
							"            password: randomPassword\r",
							"        })\r",
							"    }\r",
							"}, function (err, res) {\r",
							"    if (err || !res || res.code !== 201) {\r",
							"        postman.setNextRequest(null);\r",
							"        return;\r",
							"    }\r",
							"    const body = res.json();\r",
							"    pm.environment.set(\"user_id\", body.data.id);\r",
							"\r",
							"    // Login para obter token\r",
							"    pm.sendRequest({\r",
							"        url: baseUrl + \"/users/login\",\r",
							"        method: \"POST\",\r",
							"        header: { \"Content-Type\": \"application/json\" },\r",
							"        body: { mode: \"raw\", raw: JSON.stringify({ email: randomEmail, password: randomPassword }) }\r",
							"    }, function (err2, res2) {\r",
							"        if (err2 || !res2 || res2.code !== 200) {\r",
							"            postman.setNextRequest(null);\r",
							"            return;\r",
							"        }\r",
							"        const login = res2.json();\r",
							"        const token = login && login.data && login.data.token;\r",
							"        if (!token) {\r",
							"            postman.setNextRequest(null);\r",
							"            return;\r",
							"        }\r",
							"        pm.environment.set(\"user_token\", token);\r",
							"    });\r",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"protocolProfileBehavior": {
				"disabledSystemHeaders": {}
			},
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "X-Auth-Token",
						"value": "@{{user_token}}"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\r\n    \"title\":\"{{$randomWord}} {{$randomWord}}\",\r\n    \"description\":\"{{$randomWord}} {{$randomWord}} {{$randomWord}}\",\r\n    \"category\":\"{{note_category_UR}}\"\r\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{base_url}}/notes",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"notes"
					]
				}
			},
			"response": []
		},
		{
			"name": "TC019 - Get all notes",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"let responseGAN = pm.response.json();\r",
							"\r",
							"// Testes do endpoint 9.1\r",
							"pm.test(\"8.1 - Check get all notes success\", function () {\r",
							"    pm.expect(responseGAN.success).to.be.equal(true);\r",
							"});\r",
							"pm.test(\"8.1 - Check get all notes status\", function () {\r",
							"    pm.expect(responseGAN.status).to.be.equal(200);\r",
							"});\r",
							"pm.test(\"8.1 - Check get all notes message\", function () {\r",
							"    pm.expect(responseGAN.message).to.be.equal(\"Notes successfully retrieved\");\r",
							"});\r",
							"pm.test(\"8.1 - Assert note id\", function () {\r",
							"    pm.expect(pm.environment.get(\"note_id\")).to.be.equal(responseGAN.data[1].id);\r",
							"});\r",
							"pm.test(\"8.1 - Assert note title\", function () {\r",
							"    pm.expect(pm.environment.get(\"note_title\")).to.be.equal(responseGAN.data[1].title);\r",
							"});\r",
							"pm.test(\"8.1 - Assert note description\", function () {\r",
							"    pm.expect(pm.environment.get(\"note_description\")).to.be.equal(responseGAN.data[1].description);\r",
							"});\r",
							"pm.test(\"8.1 - Assert note category\", function () {\r",
							"    pm.expect(pm.environment.get(\"note_category\")).to.be.equal(responseGAN.data[1].category);\r",
							"});\r",
							"pm.test(\"8.1 - Assert note completed\", function () {\r",
							"    pm.expect(pm.environment.get(\"note_completed\")).to.be.equal(responseGAN.data[1].completed);\r",
							"});\r",
							"pm.test(\"8.1 - Assert note created_at\", function () {\r",
							"    pm.expect(pm.environment.get(\"note_created_at\")).to.be.equal(responseGAN.data[1].created_at);\r",
							"});\r",
							"pm.test(\"8.1 - Assert note updated_at\", function () {\r",
							"    pm.expect(pm.environment.get(\"note_updated_at\")).to.be.equal(responseGAN.data[1].updated_at);\r",
							"});\r",
							"pm.test(\"8.1 - Assert user id for note\", function () {\r",
							"    pm.expect(pm.environment.get(\"user_id\")).to.be.equal(responseGAN.data[1].user_id);\r",
							"});\r",
							"pm.test(\"8.1 - Assert note 2 id\", function () {\r",
							"    pm.expect(pm.environment.get(\"note_2_id\")).to.be.equal(responseGAN.data[0].id);\r",
							"});\r",
							"pm.test(\"8.1 - Assert note 2 title\", function () {\r",
							"    pm.expect(pm.environment.get(\"note_2_title\")).to.be.equal(responseGAN.data[0].title);\r",
							"});\r",
							"pm.test(\"8.1 - Assert note 2 description\", function () {\r",
							"    pm.expect(pm.environment.get(\"note_2_description\")).to.be.equal(responseGAN.data[0].description);\r",
							"});\r",
							"pm.test(\"8.1 - Assert note 2 category\", function () {\r",
							"    pm.expect(pm.environment.get(\"note_2_category\")).to.be.equal(responseGAN.data[0].category);\r",
							"});\r",
							"pm.test(\"8.1 - Assert note 2 completed\", function () {\r",
							"    pm.expect(pm.environment.get(\"note_2_completed\")).to.be.equal(responseGAN.data[0].completed);\r",
							"});\r",
							"pm.test(\"8.1 - Assert note 2 created_at\", function () {\r",
							"    pm.expect(pm.environment.get(\"note_2_created_at\")).to.be.equal(responseGAN.data[0].created_at);\r",
							"});\r",
							"pm.test(\"8.1 - Assert note 2 updated_at\", function () {\r",
							"    pm.expect(pm.environment.get(\"note_2_updated_at\")).to.be.equal(responseGAN.data[0].updated_at);\r",
							"});\r",
							"pm.test(\"8.1 - Assert user id for note 2\", function () {\r",
							"    pm.expect(pm.environment.get(\"user_id\")).to.be.equal(responseGAN.data[0].user_id);\r",
							"});\r",
							"\r",
							"// Cleanup: deletar notas e usuário; limpar variáveis\r",
							"const baseUrl = pm.environment.get(\"base_url\");\r",
							"const token = pm.environment.get(\"user_token\");\r",
							"const noteId = pm.environment.get(\"note_id\");\r",
							"const note2Id = pm.environment.get(\"note_2_id\");\r",
							"\r",
							"function unsetAll() {\r",
							"    pm.environment.unset(\"user_id\");\r",
							"    pm.environment.unset(\"user_name\");\r",
							"    pm.environment.unset(\"user_email\");\r",
							"    pm.environment.unset(\"user_password\");\r",
							"    pm.environment.unset(\"user_token\");\r",
							"    pm.environment.unset(\"note_id\");\r",
							"    pm.environment.unset(\"note_title\");\r",
							"    pm.environment.unset(\"note_description\");\r",
							"    pm.environment.unset(\"note_category\");\r",
							"    pm.environment.unset(\"note_completed\");\r",
							"    pm.environment.unset(\"note_created_at\");\r",
							"    pm.environment.unset(\"note_updated_at\");\r",
							"    pm.environment.unset(\"note_2_id\");\r",
							"    pm.environment.unset(\"note_2_title\");\r",
							"    pm.environment.unset(\"note_2_description\");\r",
							"    pm.environment.unset(\"note_2_category\");\r",
							"    pm.environment.unset(\"note_2_completed\");\r",
							"    pm.environment.unset(\"note_2_created_at\");\r",
							"    pm.environment.unset(\"note_2_updated_at\");\r",
							"}\r",
							"\r",
							"if (baseUrl && token) {\r",
							"    // Deleta nota 2 (mais recente, note_2_id)\r",
							"    const deleteNote2 = note2Id ? {\r",
							"        url: baseUrl + \"/notes/\" + note2Id,\r",
							"        method: \"DELETE\",\r",
							"        header: { \"X-Auth-Token\": token }\r",
							"    } : null;\r",
							"\r",
							"    const deleteNote1 = noteId ? {\r",
							"        url: baseUrl + \"/notes/\" + noteId,\r",
							"        method: \"DELETE\",\r",
							"        header: { \"X-Auth-Token\": token }\r",
							"    } : null;\r",
							"\r",
							"    const deleteUser = {\r",
							"        url: baseUrl + \"/users/delete-account\",\r",
							"        method: \"DELETE\",\r",
							"        header: { \"X-Auth-Token\": token }\r",
							"    };\r",
							"\r",
							"    function doDeleteUser() {\r",
							"        pm.sendRequest(deleteUser, function () {\r",
							"            unsetAll();\r",
							"        });\r",
							"    }\r",
							"\r",
							"    function doDeleteNote1() {\r",
							"        if (!deleteNote1) {\r",
							"            doDeleteUser();\r",
							"            return;\r",
							"        }\r",
							"        pm.sendRequest(deleteNote1, function () {\r",
							"            doDeleteUser();\r",
							"        });\r",
							"    }\r",
							"\r",
							"    function doDeleteNote2() {\r",
							"        if (!deleteNote2) {\r",
							"            doDeleteNote1();\r",
							"            return;\r",
							"        }\r",
							"        pm.sendRequest(deleteNote2, function () {\r",
							"            doDeleteNote1();\r",
							"        });\r",
							"    }\r",
							"\r",
							"    doDeleteNote2();\r",
							"} else {\r",
							"    unsetAll();\r",
							"}"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							"const baseUrl = pm.environment.get(\"base_url\");\r",
							"\r",
							"// Dados randômicos de usuário\r",
							"const randomName = pm.variables.replaceIn(\"{{$randomFullName}}\");\r",
							"const randomEmail = pm.variables.replaceIn(\"{{$randomEmail}}\").toLowerCase();\r",
							"const randomPassword = pm.variables.replaceIn(\"{{$randomPassword}}\");\r",
							"\r",
							"// Categorias para as notas\r",
							"const cat1 = _.sample(['Home', 'Work', 'Personal']);\r",
							"const cat2 = _.sample(['Home', 'Work', 'Personal']);\r",
							"\r",
							"// Salvar credenciais para uso posterior\r",
							"pm.environment.set(\"user_name\", randomName);\r",
							"pm.environment.set(\"user_email\", randomEmail);\r",
							"pm.environment.set(\"user_password\", randomPassword);\r",
							"pm.environment.unset(\"user_token\"); // garantir limpeza prévia\r",
							"\r",
							"// Criar usuário\r",
							"pm.sendRequest({\r",
							"    url: baseUrl + \"/users/register\",\r",
							"    method: \"POST\",\r",
							"    header: { \"Content-Type\": \"application/json\" },\r",
							"    body: {\r",
							"        mode: \"raw\",\r",
							"        raw: JSON.stringify({\r",
							"            name: randomName,\r",
							"            email: randomEmail,\r",
							"            password: randomPassword\r",
							"        })\r",
							"    }\r",
							"}, function (err, res) {\r",
							"    if (err || !res || res.code !== 201) {\r",
							"        postman.setNextRequest(null);\r",
							"        return;\r",
							"    }\r",
							"\r",
							"    const body = res.json();\r",
							"    pm.environment.set(\"user_id\", body.data.id);\r",
							"\r",
							"    // Login para obter token\r",
							"    pm.sendRequest({\r",
							"        url: baseUrl + \"/users/login\",\r",
							"        method: \"POST\",\r",
							"        header: { \"Content-Type\": \"application/json\" },\r",
							"        body: { mode: \"raw\", raw: JSON.stringify({ email: randomEmail, password: randomPassword }) }\r",
							"    }, function (err2, res2) {\r",
							"        if (err2 || !res2 || res2.code !== 200) {\r",
							"            postman.setNextRequest(null);\r",
							"            return;\r",
							"        }\r",
							"\r",
							"        const login = res2.json();\r",
							"        const token = login && login.data && login.data.token;\r",
							"        if (!token) {\r",
							"            postman.setNextRequest(null);\r",
							"            return;\r",
							"        }\r",
							"        pm.environment.set(\"user_token\", token);\r",
							"\r",
							"        // Criar primeira nota (será a que esperamos em data[1])\r",
							"        pm.sendRequest({\r",
							"            url: baseUrl + \"/notes\",\r",
							"            method: \"POST\",\r",
							"            header: { \"Content-Type\": \"application/json\", \"X-Auth-Token\": token },\r",
							"            body: {\r",
							"                mode: \"raw\",\r",
							"                raw: JSON.stringify({\r",
							"                    title: pm.variables.replaceIn(\"{{$randomWord}} {{$randomWord}}\"),\r",
							"                    description: pm.variables.replaceIn(\"{{$randomWord}} {{$randomWord}} {{$randomWord}}\"),\r",
							"                    category: cat1\r",
							"                })\r",
							"            }\r",
							"        }, function (err3, res3) {\r",
							"            if (err3 || !res3 || res3.code !== 200) {\r",
							"                postman.setNextRequest(null);\r",
							"                return;\r",
							"            }\r",
							"            const n1 = res3.json();\r",
							"            pm.environment.set(\"note_id\", n1.data.id);\r",
							"            pm.environment.set(\"note_title\", n1.data.title);\r",
							"            pm.environment.set(\"note_description\", n1.data.description);\r",
							"            pm.environment.set(\"note_category\", n1.data.category);\r",
							"            pm.environment.set(\"note_completed\", n1.data.completed);\r",
							"            pm.environment.set(\"note_created_at\", n1.data.created_at);\r",
							"            pm.environment.set(\"note_updated_at\", n1.data.updated_at);\r",
							"\r",
							"            // Criar segunda nota (esperada em data[0], pois normalmente retorna a mais recente primeiro)\r",
							"            pm.sendRequest({\r",
							"                url: baseUrl + \"/notes\",\r",
							"                method: \"POST\",\r",
							"                header: { \"Content-Type\": \"application/json\", \"X-Auth-Token\": token },\r",
							"                body: {\r",
							"                    mode: \"raw\",\r",
							"                    raw: JSON.stringify({\r",
							"                        title: pm.variables.replaceIn(\"{{$randomWord}} {{$randomWord}}\"),\r",
							"                        description: pm.variables.replaceIn(\"{{$randomWord}} {{$randomWord}} {{$randomWord}}\"),\r",
							"                        category: cat2\r",
							"                    })\r",
							"                }\r",
							"            }, function (err4, res4) {\r",
							"                if (err4 || !res4 || res4.code !== 200) {\r",
							"                    postman.setNextRequest(null);\r",
							"                    return;\r",
							"                }\r",
							"                const n2 = res4.json();\r",
							"                pm.environment.set(\"note_2_id\", n2.data.id);\r",
							"                pm.environment.set(\"note_2_title\", n2.data.title);\r",
							"                pm.environment.set(\"note_2_description\", n2.data.description);\r",
							"                pm.environment.set(\"note_2_category\", n2.data.category);\r",
							"                pm.environment.set(\"note_2_completed\", n2.data.completed);\r",
							"                pm.environment.set(\"note_2_created_at\", n2.data.created_at);\r",
							"                pm.environment.set(\"note_2_updated_at\", n2.data.updated_at);\r",
							"            });\r",
							"        });\r",
							"    });\r",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "X-Auth-Token",
						"value": "{{user_token}}"
					}
				],
				"url": {
					"raw": "{{base_url}}/notes",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"notes"
					]
				}
			},
			"response": []
		},
		{
			"name": "TC020 - Get all notes - bad request [negative] [br]",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"let responseGANBR = pm.response.json();\r",
							"\r",
							"// Testes do endpoint 9.2\r",
							"pm.test(\"8.2 - Check get all notes - bad request success\", function () {\r",
							"    pm.expect(responseGANBR.success).to.be.equal(false);\r",
							"});\r",
							"pm.test(\"8.2 - Check get all notes - bad request status\", function () {\r",
							"    pm.expect(responseGANBR.status).to.be.equal(400);\r",
							"});\r",
							"pm.test(\"8.2 - Check get all notes - bad request message\", function () {\r",
							"    pm.expect(responseGANBR.message).to.be.equal(\"Invalid X-Content-Format header, Only application/json is supported.\");\r",
							"});\r",
							"\r",
							"// Cleanup: login válido e delete do usuário\r",
							"const baseUrl = pm.environment.get(\"base_url\");\r",
							"const email = pm.environment.get(\"user_email\");\r",
							"const password = pm.environment.get(\"user_password\");\r",
							"\r",
							"function unsetAll() {\r",
							"    pm.environment.unset(\"user_id\");\r",
							"    pm.environment.unset(\"user_name\");\r",
							"    pm.environment.unset(\"user_email\");\r",
							"    pm.environment.unset(\"user_password\");\r",
							"    pm.environment.unset(\"user_token\");\r",
							"    pm.environment.unset(\"note_id\");\r",
							"    pm.environment.unset(\"note_title\");\r",
							"    pm.environment.unset(\"note_description\");\r",
							"    pm.environment.unset(\"note_category\");\r",
							"    pm.environment.unset(\"note_completed\");\r",
							"    pm.environment.unset(\"note_created_at\");\r",
							"    pm.environment.unset(\"note_updated_at\");\r",
							"    pm.environment.unset(\"note_2_id\");\r",
							"    pm.environment.unset(\"note_2_title\");\r",
							"    pm.environment.unset(\"note_2_description\");\r",
							"    pm.environment.unset(\"note_2_category\");\r",
							"    pm.environment.unset(\"note_2_completed\");\r",
							"    pm.environment.unset(\"note_2_created_at\");\r",
							"    pm.environment.unset(\"note_2_updated_at\");\r",
							"}\r",
							"\r",
							"if (baseUrl && email && password) {\r",
							"    pm.sendRequest({\r",
							"        url: baseUrl + \"/users/login\",\r",
							"        method: \"POST\",\r",
							"        header: { \"Content-Type\": \"application/json\" },\r",
							"        body: { mode: \"raw\", raw: JSON.stringify({ email, password }) }\r",
							"    }, function (err, res) {\r",
							"        if (err || !res || res.code !== 200) {\r",
							"            unsetAll();\r",
							"            return;\r",
							"        }\r",
							"        const login = res.json();\r",
							"        const token = login && login.data && login.data.token;\r",
							"        pm.environment.set(\"user_token\", token || \"\");\r",
							"        if (!token) {\r",
							"            unsetAll();\r",
							"            return;\r",
							"        }\r",
							"        pm.sendRequest({\r",
							"            url: baseUrl + \"/users/delete-account\",\r",
							"            method: \"DELETE\",\r",
							"            header: { \"X-Auth-Token\": token }\r",
							"        }, function () {\r",
							"            unsetAll();\r",
							"        });\r",
							"    });\r",
							"} else {\r",
							"    unsetAll();\r",
							"}"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							"const baseUrl = pm.environment.get(\"base_url\");\r",
							"\r",
							"// Dados randômicos de usuário\r",
							"const randomName = pm.variables.replaceIn(\"{{$randomFullName}}\");\r",
							"const randomEmail = pm.variables.replaceIn(\"{{$randomEmail}}\").toLowerCase();\r",
							"const randomPassword = pm.variables.replaceIn(\"{{$randomPassword}}\");\r",
							"\r",
							"// Categorias para as notas\r",
							"const cat1 = _.sample(['Home', 'Work', 'Personal']);\r",
							"const cat2 = _.sample(['Home', 'Work', 'Personal']);\r",
							"\r",
							"// Salvar credenciais para uso posterior\r",
							"pm.environment.set(\"user_name\", randomName);\r",
							"pm.environment.set(\"user_email\", randomEmail);\r",
							"pm.environment.set(\"user_password\", randomPassword);\r",
							"pm.environment.unset(\"user_token\"); // garantir limpeza prévia\r",
							"\r",
							"// Criar usuário\r",
							"pm.sendRequest({\r",
							"    url: baseUrl + \"/users/register\",\r",
							"    method: \"POST\",\r",
							"    header: { \"Content-Type\": \"application/json\" },\r",
							"    body: {\r",
							"        mode: \"raw\",\r",
							"        raw: JSON.stringify({\r",
							"            name: randomName,\r",
							"            email: randomEmail,\r",
							"            password: randomPassword\r",
							"        })\r",
							"    }\r",
							"}, function (err, res) {\r",
							"    if (err || !res || res.code !== 201) {\r",
							"        postman.setNextRequest(null);\r",
							"        return;\r",
							"    }\r",
							"\r",
							"    const body = res.json();\r",
							"    pm.environment.set(\"user_id\", body.data.id);\r",
							"\r",
							"    // Login para obter token\r",
							"    pm.sendRequest({\r",
							"        url: baseUrl + \"/users/login\",\r",
							"        method: \"POST\",\r",
							"        header: { \"Content-Type\": \"application/json\" },\r",
							"        body: { mode: \"raw\", raw: JSON.stringify({ email: randomEmail, password: randomPassword }) }\r",
							"    }, function (err2, res2) {\r",
							"        if (err2 || !res2 || res2.code !== 200) {\r",
							"            postman.setNextRequest(null);\r",
							"            return;\r",
							"        }\r",
							"\r",
							"        const login = res2.json();\r",
							"        const token = login && login.data && login.data.token;\r",
							"        if (!token) {\r",
							"            postman.setNextRequest(null);\r",
							"            return;\r",
							"        }\r",
							"        pm.environment.set(\"user_token\", token);\r",
							"\r",
							"        // Criar primeira nota (será a que esperamos em data[1])\r",
							"        pm.sendRequest({\r",
							"            url: baseUrl + \"/notes\",\r",
							"            method: \"POST\",\r",
							"            header: { \"Content-Type\": \"application/json\", \"X-Auth-Token\": token },\r",
							"            body: {\r",
							"                mode: \"raw\",\r",
							"                raw: JSON.stringify({\r",
							"                    title: pm.variables.replaceIn(\"{{$randomWord}} {{$randomWord}}\"),\r",
							"                    description: pm.variables.replaceIn(\"{{$randomWord}} {{$randomWord}} {{$randomWord}}\"),\r",
							"                    category: cat1\r",
							"                })\r",
							"            }\r",
							"        }, function (err3, res3) {\r",
							"            if (err3 || !res3 || res3.code !== 200) {\r",
							"                postman.setNextRequest(null);\r",
							"                return;\r",
							"            }\r",
							"            const n1 = res3.json();\r",
							"            pm.environment.set(\"note_id\", n1.data.id);\r",
							"            pm.environment.set(\"note_title\", n1.data.title);\r",
							"            pm.environment.set(\"note_description\", n1.data.description);\r",
							"            pm.environment.set(\"note_category\", n1.data.category);\r",
							"            pm.environment.set(\"note_completed\", n1.data.completed);\r",
							"            pm.environment.set(\"note_created_at\", n1.data.created_at);\r",
							"            pm.environment.set(\"note_updated_at\", n1.data.updated_at);\r",
							"\r",
							"            // Criar segunda nota (esperada em data[0], pois normalmente retorna a mais recente primeiro)\r",
							"            pm.sendRequest({\r",
							"                url: baseUrl + \"/notes\",\r",
							"                method: \"POST\",\r",
							"                header: { \"Content-Type\": \"application/json\", \"X-Auth-Token\": token },\r",
							"                body: {\r",
							"                    mode: \"raw\",\r",
							"                    raw: JSON.stringify({\r",
							"                        title: pm.variables.replaceIn(\"{{$randomWord}} {{$randomWord}}\"),\r",
							"                        description: pm.variables.replaceIn(\"{{$randomWord}} {{$randomWord}} {{$randomWord}}\"),\r",
							"                        category: cat2\r",
							"                    })\r",
							"                }\r",
							"            }, function (err4, res4) {\r",
							"                if (err4 || !res4 || res4.code !== 200) {\r",
							"                    postman.setNextRequest(null);\r",
							"                    return;\r",
							"                }\r",
							"                const n2 = res4.json();\r",
							"                pm.environment.set(\"note_2_id\", n2.data.id);\r",
							"                pm.environment.set(\"note_2_title\", n2.data.title);\r",
							"                pm.environment.set(\"note_2_description\", n2.data.description);\r",
							"                pm.environment.set(\"note_2_category\", n2.data.category);\r",
							"                pm.environment.set(\"note_2_completed\", n2.data.completed);\r",
							"                pm.environment.set(\"note_2_created_at\", n2.data.created_at);\r",
							"                pm.environment.set(\"note_2_updated_at\", n2.data.updated_at);\r",
							"            });\r",
							"        });\r",
							"    });\r",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "X-Auth-Token",
						"value": "{{user_token}}"
					},
					{
						"key": "x-content-format",
						"value": "badRequest",
						"type": "text"
					}
				],
				"url": {
					"raw": "{{base_url}}/notes",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"notes"
					]
				}
			},
			"response": []
		},
		{
			"name": "TC021 - Get all notes - unauthorized request [negative] [ur]",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"let responseGANUR = pm.response.json();\r",
							"\r",
							"// Testes do endpoint 9.3\r",
							"pm.test(\"8.3 - Check get all notes - unauthorized request success\", function () {\r",
							"    pm.expect(responseGANUR.success).to.be.equal(false);\r",
							"});\r",
							"pm.test(\"8.3 - Check get all notes - unauthorized request status\", function () {\r",
							"    pm.expect(responseGANUR.status).to.be.equal(401);\r",
							"});\r",
							"pm.test(\"8.3 - Check get all notes - unauthorized request message\", function () {\r",
							"    pm.expect(responseGANUR.message).to.be.equal(\"Access token is not valid or has expired, you will need to login\");\r",
							"});\r",
							"\r",
							"// Cleanup: login válido e delete do usuário\r",
							"const baseUrl = pm.environment.get(\"base_url\");\r",
							"const email = pm.environment.get(\"user_email\");\r",
							"const password = pm.environment.get(\"user_password\");\r",
							"\r",
							"function unsetAll() {\r",
							"    pm.environment.unset(\"user_id\");\r",
							"    pm.environment.unset(\"user_name\");\r",
							"    pm.environment.unset(\"user_email\");\r",
							"    pm.environment.unset(\"user_password\");\r",
							"    pm.environment.unset(\"user_token\");\r",
							"    pm.environment.unset(\"note_id\");\r",
							"    pm.environment.unset(\"note_title\");\r",
							"    pm.environment.unset(\"note_description\");\r",
							"    pm.environment.unset(\"note_category\");\r",
							"    pm.environment.unset(\"note_completed\");\r",
							"    pm.environment.unset(\"note_created_at\");\r",
							"    pm.environment.unset(\"note_updated_at\");\r",
							"    pm.environment.unset(\"note_2_id\");\r",
							"    pm.environment.unset(\"note_2_title\");\r",
							"    pm.environment.unset(\"note_2_description\");\r",
							"    pm.environment.unset(\"note_2_category\");\r",
							"    pm.environment.unset(\"note_2_completed\");\r",
							"    pm.environment.unset(\"note_2_created_at\");\r",
							"    pm.environment.unset(\"note_2_updated_at\");\r",
							"}\r",
							"\r",
							"if (baseUrl && email && password) {\r",
							"    pm.sendRequest({\r",
							"        url: baseUrl + \"/users/login\",\r",
							"        method: \"POST\",\r",
							"        header: { \"Content-Type\": \"application/json\" },\r",
							"        body: { mode: \"raw\", raw: JSON.stringify({ email, password }) }\r",
							"    }, function (err, res) {\r",
							"        if (err || !res || res.code !== 200) {\r",
							"            unsetAll();\r",
							"            return;\r",
							"        }\r",
							"        const login = res.json();\r",
							"        const token = login && login.data && login.data.token;\r",
							"        pm.environment.set(\"user_token\", token || \"\");\r",
							"        if (!token) {\r",
							"            unsetAll();\r",
							"            return;\r",
							"        }\r",
							"        pm.sendRequest({\r",
							"            url: baseUrl + \"/users/delete-account\",\r",
							"            method: \"DELETE\",\r",
							"            header: { \"X-Auth-Token\": token }\r",
							"        }, function () {\r",
							"            unsetAll();\r",
							"        });\r",
							"    });\r",
							"} else {\r",
							"    unsetAll();\r",
							"}"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							"const baseUrl = pm.environment.get(\"base_url\");\r",
							"\r",
							"// Dados randômicos de usuário\r",
							"const randomName = pm.variables.replaceIn(\"{{$randomFullName}}\");\r",
							"const randomEmail = pm.variables.replaceIn(\"{{$randomEmail}}\").toLowerCase();\r",
							"const randomPassword = pm.variables.replaceIn(\"{{$randomPassword}}\");\r",
							"\r",
							"// Categorias para as notas\r",
							"const cat1 = _.sample(['Home', 'Work', 'Personal']);\r",
							"const cat2 = _.sample(['Home', 'Work', 'Personal']);\r",
							"\r",
							"// Salvar credenciais para uso posterior\r",
							"pm.environment.set(\"user_name\", randomName);\r",
							"pm.environment.set(\"user_email\", randomEmail);\r",
							"pm.environment.set(\"user_password\", randomPassword);\r",
							"pm.environment.unset(\"user_token\"); // garantir limpeza prévia\r",
							"\r",
							"// Criar usuário\r",
							"pm.sendRequest({\r",
							"    url: baseUrl + \"/users/register\",\r",
							"    method: \"POST\",\r",
							"    header: { \"Content-Type\": \"application/json\" },\r",
							"    body: {\r",
							"        mode: \"raw\",\r",
							"        raw: JSON.stringify({\r",
							"            name: randomName,\r",
							"            email: randomEmail,\r",
							"            password: randomPassword\r",
							"        })\r",
							"    }\r",
							"}, function (err, res) {\r",
							"    if (err || !res || res.code !== 201) {\r",
							"        postman.setNextRequest(null);\r",
							"        return;\r",
							"    }\r",
							"\r",
							"    const body = res.json();\r",
							"    pm.environment.set(\"user_id\", body.data.id);\r",
							"\r",
							"    // Login para obter token\r",
							"    pm.sendRequest({\r",
							"        url: baseUrl + \"/users/login\",\r",
							"        method: \"POST\",\r",
							"        header: { \"Content-Type\": \"application/json\" },\r",
							"        body: { mode: \"raw\", raw: JSON.stringify({ email: randomEmail, password: randomPassword }) }\r",
							"    }, function (err2, res2) {\r",
							"        if (err2 || !res2 || res2.code !== 200) {\r",
							"            postman.setNextRequest(null);\r",
							"            return;\r",
							"        }\r",
							"\r",
							"        const login = res2.json();\r",
							"        const token = login && login.data && login.data.token;\r",
							"        if (!token) {\r",
							"            postman.setNextRequest(null);\r",
							"            return;\r",
							"        }\r",
							"        pm.environment.set(\"user_token\", token);\r",
							"\r",
							"        // Criar primeira nota (será a que esperamos em data[1])\r",
							"        pm.sendRequest({\r",
							"            url: baseUrl + \"/notes\",\r",
							"            method: \"POST\",\r",
							"            header: { \"Content-Type\": \"application/json\", \"X-Auth-Token\": token },\r",
							"            body: {\r",
							"                mode: \"raw\",\r",
							"                raw: JSON.stringify({\r",
							"                    title: pm.variables.replaceIn(\"{{$randomWord}} {{$randomWord}}\"),\r",
							"                    description: pm.variables.replaceIn(\"{{$randomWord}} {{$randomWord}} {{$randomWord}}\"),\r",
							"                    category: cat1\r",
							"                })\r",
							"            }\r",
							"        }, function (err3, res3) {\r",
							"            if (err3 || !res3 || res3.code !== 200) {\r",
							"                postman.setNextRequest(null);\r",
							"                return;\r",
							"            }\r",
							"            const n1 = res3.json();\r",
							"            pm.environment.set(\"note_id\", n1.data.id);\r",
							"            pm.environment.set(\"note_title\", n1.data.title);\r",
							"            pm.environment.set(\"note_description\", n1.data.description);\r",
							"            pm.environment.set(\"note_category\", n1.data.category);\r",
							"            pm.environment.set(\"note_completed\", n1.data.completed);\r",
							"            pm.environment.set(\"note_created_at\", n1.data.created_at);\r",
							"            pm.environment.set(\"note_updated_at\", n1.data.updated_at);\r",
							"\r",
							"            // Criar segunda nota (esperada em data[0], pois normalmente retorna a mais recente primeiro)\r",
							"            pm.sendRequest({\r",
							"                url: baseUrl + \"/notes\",\r",
							"                method: \"POST\",\r",
							"                header: { \"Content-Type\": \"application/json\", \"X-Auth-Token\": token },\r",
							"                body: {\r",
							"                    mode: \"raw\",\r",
							"                    raw: JSON.stringify({\r",
							"                        title: pm.variables.replaceIn(\"{{$randomWord}} {{$randomWord}}\"),\r",
							"                        description: pm.variables.replaceIn(\"{{$randomWord}} {{$randomWord}} {{$randomWord}}\"),\r",
							"                        category: cat2\r",
							"                    })\r",
							"                }\r",
							"            }, function (err4, res4) {\r",
							"                if (err4 || !res4 || res4.code !== 200) {\r",
							"                    postman.setNextRequest(null);\r",
							"                    return;\r",
							"                }\r",
							"                const n2 = res4.json();\r",
							"                pm.environment.set(\"note_2_id\", n2.data.id);\r",
							"                pm.environment.set(\"note_2_title\", n2.data.title);\r",
							"                pm.environment.set(\"note_2_description\", n2.data.description);\r",
							"                pm.environment.set(\"note_2_category\", n2.data.category);\r",
							"                pm.environment.set(\"note_2_completed\", n2.data.completed);\r",
							"                pm.environment.set(\"note_2_created_at\", n2.data.created_at);\r",
							"                pm.environment.set(\"note_2_updated_at\", n2.data.updated_at);\r",
							"            });\r",
							"        });\r",
							"    });\r",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "X-Auth-Token",
						"value": "@{{user_token}}"
					},
					{
						"key": "",
						"value": "",
						"type": "text"
					}
				],
				"url": {
					"raw": "{{base_url}}/notes",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"notes"
					]
				}
			},
			"response": []
		},
		{
			"name": "TC022 - Get note by ID",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"let responseGN = pm.response.json();\r",
							"\r",
							"// Testes do endpoint 10.1\r",
							"pm.test(\"9.1 - Check get note by ID success\", function () {\r",
							"    pm.expect(responseGN.success).to.be.equal(true);\r",
							"});\r",
							"pm.test(\"9.1 - Check get note by ID status\", function () {\r",
							"    pm.expect(responseGN.status).to.be.equal(200);\r",
							"});\r",
							"pm.test(\"9.1 - Check get note by ID message\", function () {\r",
							"    pm.expect(responseGN.message).to.be.equal(\"Note successfully retrieved\");\r",
							"});\r",
							"pm.test(\"9.1 - Assert note id\", function () {\r",
							"    pm.expect(pm.environment.get(\"note_id\")).to.be.equal(responseGN.data.id);\r",
							"});\r",
							"pm.test(\"9.1 - Assert note title\", function () {\r",
							"    pm.expect(pm.environment.get(\"note_title\")).to.be.equal(responseGN.data.title);\r",
							"});\r",
							"pm.test(\"9.1 - Assert note description\", function () {\r",
							"    pm.expect(pm.environment.get(\"note_description\")).to.be.equal(responseGN.data.description);\r",
							"});\r",
							"pm.test(\"9.1 - Assert note category\", function () {\r",
							"    pm.expect(pm.environment.get(\"note_category\")).to.be.equal(responseGN.data.category);\r",
							"});\r",
							"pm.test(\"9.1 - Assert note completed\", function () {\r",
							"    pm.expect(pm.environment.get(\"note_completed\")).to.be.equal(responseGN.data.completed);\r",
							"});\r",
							"pm.test(\"9.1 - Assert note created_at\", function () {\r",
							"    pm.expect(pm.environment.get(\"note_created_at\")).to.be.equal(responseGN.data.created_at);\r",
							"});\r",
							"pm.test(\"9.1 - Assert note updated_at\", function () {\r",
							"    pm.expect(pm.environment.get(\"note_updated_at\")).to.be.equal(responseGN.data.updated_at);\r",
							"});\r",
							"pm.test(\"9.1 - Assert user id for note\", function () {\r",
							"    pm.expect(pm.environment.get(\"user_id\")).to.be.equal(responseGN.data.user_id);\r",
							"});\r",
							"\r",
							"// Cleanup: deletar nota e usuário; limpar variáveis\r",
							"const baseUrl = pm.environment.get(\"base_url\");\r",
							"const token = pm.environment.get(\"user_token\");\r",
							"const noteId = pm.environment.get(\"note_id\");\r",
							"\r",
							"function unsetAll() {\r",
							"    pm.environment.unset(\"user_id\");\r",
							"    pm.environment.unset(\"user_name\");\r",
							"    pm.environment.unset(\"user_email\");\r",
							"    pm.environment.unset(\"user_password\");\r",
							"    pm.environment.unset(\"user_token\");\r",
							"    pm.environment.unset(\"note_id\");\r",
							"    pm.environment.unset(\"note_title\");\r",
							"    pm.environment.unset(\"note_description\");\r",
							"    pm.environment.unset(\"note_category\");\r",
							"    pm.environment.unset(\"note_completed\");\r",
							"    pm.environment.unset(\"note_created_at\");\r",
							"    pm.environment.unset(\"note_updated_at\");\r",
							"}\r",
							"\r",
							"if (baseUrl && token && noteId) {\r",
							"    pm.sendRequest({\r",
							"        url: baseUrl + \"/notes/\" + noteId,\r",
							"        method: \"DELETE\",\r",
							"        header: { \"X-Auth-Token\": token }\r",
							"    }, function () {\r",
							"        pm.sendRequest({\r",
							"            url: baseUrl + \"/users/delete-account\",\r",
							"            method: \"DELETE\",\r",
							"            header: { \"X-Auth-Token\": token }\r",
							"        }, function () {\r",
							"            unsetAll();\r",
							"        });\r",
							"    });\r",
							"} else if (baseUrl && token) {\r",
							"    pm.sendRequest({\r",
							"        url: baseUrl + \"/users/delete-account\",\r",
							"        method: \"DELETE\",\r",
							"        header: { \"X-Auth-Token\": token }\r",
							"    }, function () {\r",
							"        unsetAll();\r",
							"    });\r",
							"} else {\r",
							"    unsetAll();\r",
							"}"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							"const baseUrl = pm.environment.get(\"base_url\");\r",
							"\r",
							"// Dados randômicos\r",
							"const randomName = pm.variables.replaceIn(\"{{$randomFullName}}\");\r",
							"const randomEmail = pm.variables.replaceIn(\"{{$randomEmail}}\").toLowerCase();\r",
							"const randomPassword = pm.variables.replaceIn(\"{{$randomPassword}}\");\r",
							"const randomCategory = _.sample(['Home', 'Work', 'Personal']);\r",
							"const randomTitle = pm.variables.replaceIn(\"{{$randomWord}} {{$randomWord}}\");\r",
							"const randomDescription = pm.variables.replaceIn(\"{{$randomWord}} {{$randomWord}} {{$randomWord}}\");\r",
							"\r",
							"// Persistir para uso e asserts\r",
							"pm.environment.set(\"user_name\", randomName);\r",
							"pm.environment.set(\"user_email\", randomEmail);\r",
							"pm.environment.set(\"user_password\", randomPassword);\r",
							"pm.environment.set(\"note_category\", randomCategory);\r",
							"pm.environment.unset(\"user_token\");\r",
							"\r",
							"// Criar usuário\r",
							"pm.sendRequest({\r",
							"    url: baseUrl + \"/users/register\",\r",
							"    method: \"POST\",\r",
							"    header: { \"Content-Type\": \"application/json\" },\r",
							"    body: {\r",
							"        mode: \"raw\",\r",
							"        raw: JSON.stringify({\r",
							"            name: randomName,\r",
							"            email: randomEmail,\r",
							"            password: randomPassword\r",
							"        })\r",
							"    }\r",
							"}, function (err, res) {\r",
							"    if (err || !res || res.code !== 201) {\r",
							"        postman.setNextRequest(null);\r",
							"        return;\r",
							"    }\r",
							"    const body = res.json();\r",
							"    pm.environment.set(\"user_id\", body.data.id);\r",
							"\r",
							"    // Login\r",
							"    pm.sendRequest({\r",
							"        url: baseUrl + \"/users/login\",\r",
							"        method: \"POST\",\r",
							"        header: { \"Content-Type\": \"application/json\" },\r",
							"        body: { mode: \"raw\", raw: JSON.stringify({ email: randomEmail, password: randomPassword }) }\r",
							"    }, function (err2, res2) {\r",
							"        if (err2 || !res2 || res2.code !== 200) {\r",
							"            postman.setNextRequest(null);\r",
							"            return;\r",
							"        }\r",
							"        const login = res2.json();\r",
							"        const token = login && login.data && login.data.token;\r",
							"        if (!token) {\r",
							"            postman.setNextRequest(null);\r",
							"            return;\r",
							"        }\r",
							"        pm.environment.set(\"user_token\", token);\r",
							"\r",
							"        // Criar nota\r",
							"        pm.sendRequest({\r",
							"            url: baseUrl + \"/notes\",\r",
							"            method: \"POST\",\r",
							"            header: { \"Content-Type\": \"application/json\", \"X-Auth-Token\": token },\r",
							"            body: {\r",
							"                mode: \"raw\",\r",
							"                raw: JSON.stringify({\r",
							"                    title: randomTitle,\r",
							"                    description: randomDescription,\r",
							"                    category: randomCategory\r",
							"                })\r",
							"            }\r",
							"        }, function (err3, res3) {\r",
							"            if (err3 || !res3 || res3.code !== 200) {\r",
							"                postman.setNextRequest(null);\r",
							"                return;\r",
							"            }\r",
							"            const n = res3.json();\r",
							"            pm.environment.set(\"note_id\", n.data.id);\r",
							"            pm.environment.set(\"note_title\", n.data.title);\r",
							"            pm.environment.set(\"note_description\", n.data.description);\r",
							"            pm.environment.set(\"note_category\", n.data.category);\r",
							"            pm.environment.set(\"note_completed\", n.data.completed);\r",
							"            pm.environment.set(\"note_created_at\", n.data.created_at);\r",
							"            pm.environment.set(\"note_updated_at\", n.data.updated_at);\r",
							"        });\r",
							"    });\r",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "X-Auth-Token",
						"value": "{{user_token}}"
					}
				],
				"url": {
					"raw": "{{base_url}}/notes/{{note_id}}",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"notes",
						"{{note_id}}"
					]
				}
			},
			"response": []
		},
		{
			"name": "TC023 - Get note by ID - bad request [negative] [br]",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"let responseGNBR = pm.response.json();\r",
							"\r",
							"// Testes do endpoint 10.2\r",
							"pm.test(\"9.2 - Check get note by ID - bad request success\", function () {\r",
							"    pm.expect(responseGNBR.success).to.be.equal(false);\r",
							"});\r",
							"pm.test(\"9.2 - Check get note by ID - bad request status\", function () {\r",
							"    pm.expect(responseGNBR.status).to.be.equal(400);\r",
							"});\r",
							"pm.test(\"9.2 - Check get note by ID - bad request message\", function () {\r",
							"    pm.expect(responseGNBR.message).to.be.equal(\"Invalid X-Content-Format header, Only application/json is supported.\");\r",
							"});\r",
							"\r",
							"// Cleanup: login válido e delete do usuário\r",
							"const baseUrl = pm.environment.get(\"base_url\");\r",
							"const email = pm.environment.get(\"user_email\");\r",
							"const password = pm.environment.get(\"user_password\");\r",
							"\r",
							"function unsetAll() {\r",
							"    pm.environment.unset(\"user_id\");\r",
							"    pm.environment.unset(\"user_name\");\r",
							"    pm.environment.unset(\"user_email\");\r",
							"    pm.environment.unset(\"user_password\");\r",
							"    pm.environment.unset(\"user_token\");\r",
							"    pm.environment.unset(\"note_id\");\r",
							"    pm.environment.unset(\"note_title\");\r",
							"    pm.environment.unset(\"note_description\");\r",
							"    pm.environment.unset(\"note_category\");\r",
							"    pm.environment.unset(\"note_completed\");\r",
							"    pm.environment.unset(\"note_created_at\");\r",
							"    pm.environment.unset(\"note_updated_at\");\r",
							"}\r",
							"\r",
							"if (baseUrl && email && password) {\r",
							"    pm.sendRequest({\r",
							"        url: baseUrl + \"/users/login\",\r",
							"        method: \"POST\",\r",
							"        header: { \"Content-Type\": \"application/json\" },\r",
							"        body: { mode: \"raw\", raw: JSON.stringify({ email, password }) }\r",
							"    }, function (err, res) {\r",
							"        if (err || !res || res.code !== 200) {\r",
							"            unsetAll();\r",
							"            return;\r",
							"        }\r",
							"        const login = res.json();\r",
							"        const token = login && login.data && login.data.token;\r",
							"        pm.environment.set(\"user_token\", token || \"\");\r",
							"        if (!token) {\r",
							"            unsetAll();\r",
							"            return;\r",
							"        }\r",
							"        pm.sendRequest({\r",
							"            url: baseUrl + \"/users/delete-account\",\r",
							"            method: \"DELETE\",\r",
							"            header: { \"X-Auth-Token\": token }\r",
							"        }, function () {\r",
							"            unsetAll();\r",
							"        });\r",
							"    });\r",
							"} else {\r",
							"    unsetAll();\r",
							"}"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							"const baseUrl = pm.environment.get(\"base_url\");\r",
							"\r",
							"// Dados randômicos\r",
							"const randomName = pm.variables.replaceIn(\"{{$randomFullName}}\");\r",
							"const randomEmail = pm.variables.replaceIn(\"{{$randomEmail}}\").toLowerCase();\r",
							"const randomPassword = pm.variables.replaceIn(\"{{$randomPassword}}\");\r",
							"const randomCategory = _.sample(['Home', 'Work', 'Personal']);\r",
							"const randomTitle = pm.variables.replaceIn(\"{{$randomWord}} {{$randomWord}}\");\r",
							"const randomDescription = pm.variables.replaceIn(\"{{$randomWord}} {{$randomWord}} {{$randomWord}}\");\r",
							"\r",
							"// Persistir para uso e asserts\r",
							"pm.environment.set(\"user_name\", randomName);\r",
							"pm.environment.set(\"user_email\", randomEmail);\r",
							"pm.environment.set(\"user_password\", randomPassword);\r",
							"pm.environment.set(\"note_category\", randomCategory);\r",
							"pm.environment.unset(\"user_token\");\r",
							"\r",
							"// Criar usuário\r",
							"pm.sendRequest({\r",
							"    url: baseUrl + \"/users/register\",\r",
							"    method: \"POST\",\r",
							"    header: { \"Content-Type\": \"application/json\" },\r",
							"    body: {\r",
							"        mode: \"raw\",\r",
							"        raw: JSON.stringify({\r",
							"            name: randomName,\r",
							"            email: randomEmail,\r",
							"            password: randomPassword\r",
							"        })\r",
							"    }\r",
							"}, function (err, res) {\r",
							"    if (err || !res || res.code !== 201) {\r",
							"        postman.setNextRequest(null);\r",
							"        return;\r",
							"    }\r",
							"    const body = res.json();\r",
							"    pm.environment.set(\"user_id\", body.data.id);\r",
							"\r",
							"    // Login\r",
							"    pm.sendRequest({\r",
							"        url: baseUrl + \"/users/login\",\r",
							"        method: \"POST\",\r",
							"        header: { \"Content-Type\": \"application/json\" },\r",
							"        body: { mode: \"raw\", raw: JSON.stringify({ email: randomEmail, password: randomPassword }) }\r",
							"    }, function (err2, res2) {\r",
							"        if (err2 || !res2 || res2.code !== 200) {\r",
							"            postman.setNextRequest(null);\r",
							"            return;\r",
							"        }\r",
							"        const login = res2.json();\r",
							"        const token = login && login.data && login.data.token;\r",
							"        if (!token) {\r",
							"            postman.setNextRequest(null);\r",
							"            return;\r",
							"        }\r",
							"        pm.environment.set(\"user_token\", token);\r",
							"\r",
							"        // Criar nota\r",
							"        pm.sendRequest({\r",
							"            url: baseUrl + \"/notes\",\r",
							"            method: \"POST\",\r",
							"            header: { \"Content-Type\": \"application/json\", \"X-Auth-Token\": token },\r",
							"            body: {\r",
							"                mode: \"raw\",\r",
							"                raw: JSON.stringify({\r",
							"                    title: randomTitle,\r",
							"                    description: randomDescription,\r",
							"                    category: randomCategory\r",
							"                })\r",
							"            }\r",
							"        }, function (err3, res3) {\r",
							"            if (err3 || !res3 || res3.code !== 200) {\r",
							"                postman.setNextRequest(null);\r",
							"                return;\r",
							"            }\r",
							"            const n = res3.json();\r",
							"            pm.environment.set(\"note_id\", n.data.id);\r",
							"            pm.environment.set(\"note_title\", n.data.title);\r",
							"            pm.environment.set(\"note_description\", n.data.description);\r",
							"            pm.environment.set(\"note_category\", n.data.category);\r",
							"            pm.environment.set(\"note_completed\", n.data.completed);\r",
							"            pm.environment.set(\"note_created_at\", n.data.created_at);\r",
							"            pm.environment.set(\"note_updated_at\", n.data.updated_at);\r",
							"        });\r",
							"    });\r",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "X-Auth-Token",
						"value": "{{user_token}}"
					},
					{
						"key": "x-content-format",
						"value": "badRequest",
						"type": "text"
					}
				],
				"url": {
					"raw": "{{base_url}}/notes/{{note_id}}",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"notes",
						"{{note_id}}"
					]
				}
			},
			"response": []
		},
		{
			"name": "TC024 - Get note by ID - unauthorized request [negative] [ur]",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"let responseGNUR = pm.response.json();\r",
							"\r",
							"// Testes do endpoint 10.3\r",
							"pm.test(\"9.3 - Check get note by ID - unauthorized request success\", function () {\r",
							"    pm.expect(responseGNUR.success).to.be.equal(false);\r",
							"});\r",
							"pm.test(\"9.3 - Check get note by ID - unauthorized request status\", function () {\r",
							"    pm.expect(responseGNUR.status).to.be.equal(401);\r",
							"});\r",
							"pm.test(\"9.3 - Check get note by ID - unauthorized request message\", function () {\r",
							"    pm.expect(responseGNUR.message).to.be.equal(\"Access token is not valid or has expired, you will need to login\");\r",
							"});\r",
							"\r",
							"// Cleanup: login válido e delete do usuário\r",
							"const baseUrl = pm.environment.get(\"base_url\");\r",
							"const email = pm.environment.get(\"user_email\");\r",
							"const password = pm.environment.get(\"user_password\");\r",
							"\r",
							"function unsetAll() {\r",
							"    pm.environment.unset(\"user_id\");\r",
							"    pm.environment.unset(\"user_name\");\r",
							"    pm.environment.unset(\"user_email\");\r",
							"    pm.environment.unset(\"user_password\");\r",
							"    pm.environment.unset(\"user_token\");\r",
							"    pm.environment.unset(\"note_id\");\r",
							"    pm.environment.unset(\"note_title\");\r",
							"    pm.environment.unset(\"note_description\");\r",
							"    pm.environment.unset(\"note_category\");\r",
							"    pm.environment.unset(\"note_completed\");\r",
							"    pm.environment.unset(\"note_created_at\");\r",
							"    pm.environment.unset(\"note_updated_at\");\r",
							"}\r",
							"\r",
							"if (baseUrl && email && password) {\r",
							"    pm.sendRequest({\r",
							"        url: baseUrl + \"/users/login\",\r",
							"        method: \"POST\",\r",
							"        header: { \"Content-Type\": \"application/json\" },\r",
							"        body: { mode: \"raw\", raw: JSON.stringify({ email, password }) }\r",
							"    }, function (err, res) {\r",
							"        if (err || !res || res.code !== 200) {\r",
							"            unsetAll();\r",
							"            return;\r",
							"        }\r",
							"        const login = res.json();\r",
							"        const token = login && login.data && login.data.token;\r",
							"        pm.environment.set(\"user_token\", token || \"\");\r",
							"        if (!token) {\r",
							"            unsetAll();\r",
							"            return;\r",
							"        }\r",
							"        pm.sendRequest({\r",
							"            url: baseUrl + \"/users/delete-account\",\r",
							"            method: \"DELETE\",\r",
							"            header: { \"X-Auth-Token\": token }\r",
							"        }, function () {\r",
							"            unsetAll();\r",
							"        });\r",
							"    });\r",
							"} else {\r",
							"    unsetAll();\r",
							"}"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							"const baseUrl = pm.environment.get(\"base_url\");\r",
							"\r",
							"// Dados randômicos\r",
							"const randomName = pm.variables.replaceIn(\"{{$randomFullName}}\");\r",
							"const randomEmail = pm.variables.replaceIn(\"{{$randomEmail}}\").toLowerCase();\r",
							"const randomPassword = pm.variables.replaceIn(\"{{$randomPassword}}\");\r",
							"const randomCategory = _.sample(['Home', 'Work', 'Personal']);\r",
							"const randomTitle = pm.variables.replaceIn(\"{{$randomWord}} {{$randomWord}}\");\r",
							"const randomDescription = pm.variables.replaceIn(\"{{$randomWord}} {{$randomWord}} {{$randomWord}}\");\r",
							"\r",
							"// Persistir para uso e asserts\r",
							"pm.environment.set(\"user_name\", randomName);\r",
							"pm.environment.set(\"user_email\", randomEmail);\r",
							"pm.environment.set(\"user_password\", randomPassword);\r",
							"pm.environment.set(\"note_category\", randomCategory);\r",
							"pm.environment.unset(\"user_token\");\r",
							"\r",
							"// Criar usuário\r",
							"pm.sendRequest({\r",
							"    url: baseUrl + \"/users/register\",\r",
							"    method: \"POST\",\r",
							"    header: { \"Content-Type\": \"application/json\" },\r",
							"    body: {\r",
							"        mode: \"raw\",\r",
							"        raw: JSON.stringify({\r",
							"            name: randomName,\r",
							"            email: randomEmail,\r",
							"            password: randomPassword\r",
							"        })\r",
							"    }\r",
							"}, function (err, res) {\r",
							"    if (err || !res || res.code !== 201) {\r",
							"        postman.setNextRequest(null);\r",
							"        return;\r",
							"    }\r",
							"    const body = res.json();\r",
							"    pm.environment.set(\"user_id\", body.data.id);\r",
							"\r",
							"    // Login\r",
							"    pm.sendRequest({\r",
							"        url: baseUrl + \"/users/login\",\r",
							"        method: \"POST\",\r",
							"        header: { \"Content-Type\": \"application/json\" },\r",
							"        body: { mode: \"raw\", raw: JSON.stringify({ email: randomEmail, password: randomPassword }) }\r",
							"    }, function (err2, res2) {\r",
							"        if (err2 || !res2 || res2.code !== 200) {\r",
							"            postman.setNextRequest(null);\r",
							"            return;\r",
							"        }\r",
							"        const login = res2.json();\r",
							"        const token = login && login.data && login.data.token;\r",
							"        if (!token) {\r",
							"            postman.setNextRequest(null);\r",
							"            return;\r",
							"        }\r",
							"        pm.environment.set(\"user_token\", token);\r",
							"\r",
							"        // Criar nota\r",
							"        pm.sendRequest({\r",
							"            url: baseUrl + \"/notes\",\r",
							"            method: \"POST\",\r",
							"            header: { \"Content-Type\": \"application/json\", \"X-Auth-Token\": token },\r",
							"            body: {\r",
							"                mode: \"raw\",\r",
							"                raw: JSON.stringify({\r",
							"                    title: randomTitle,\r",
							"                    description: randomDescription,\r",
							"                    category: randomCategory\r",
							"                })\r",
							"            }\r",
							"        }, function (err3, res3) {\r",
							"            if (err3 || !res3 || res3.code !== 200) {\r",
							"                postman.setNextRequest(null);\r",
							"                return;\r",
							"            }\r",
							"            const n = res3.json();\r",
							"            pm.environment.set(\"note_id\", n.data.id);\r",
							"            pm.environment.set(\"note_title\", n.data.title);\r",
							"            pm.environment.set(\"note_description\", n.data.description);\r",
							"            pm.environment.set(\"note_category\", n.data.category);\r",
							"            pm.environment.set(\"note_completed\", n.data.completed);\r",
							"            pm.environment.set(\"note_created_at\", n.data.created_at);\r",
							"            pm.environment.set(\"note_updated_at\", n.data.updated_at);\r",
							"        });\r",
							"    });\r",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "X-Auth-Token",
						"value": "@{{user_token}}"
					},
					{
						"key": "",
						"value": "",
						"type": "text"
					}
				],
				"url": {
					"raw": "{{base_url}}/notes/{{note_id}}",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"notes",
						"{{note_id}}"
					]
				}
			},
			"response": []
		},
		{
			"name": "TC025 - Update an existing note",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"let responseUN = pm.response.json();\r",
							"let requestUN = JSON.parse(pm.request.body.raw);\r",
							"\r",
							"// Atualizar ambiente com o que foi enviado\r",
							"pm.environment.set(\"note_title\", requestUN.title);\r",
							"pm.environment.set(\"note_description\", requestUN.description);\r",
							"pm.environment.set(\"note_category\", requestUN.category);\r",
							"pm.environment.set(\"note_completed\", requestUN.completed);\r",
							"\r",
							"pm.test(\"10.1  - Check update an existing note success\", function () {\r",
							"    pm.expect(responseUN.success).to.be.equal(true);\r",
							"});\r",
							"pm.test(\"10.1  - Check update an existing note status\", function () {\r",
							"    pm.expect(responseUN.status).to.be.equal(200);\r",
							"});\r",
							"pm.test(\"10.1  - Check update an existing note message\", function () {\r",
							"    pm.expect(responseUN.message).to.be.equal(\"Note successfully Updated\");\r",
							"});\r",
							"pm.test(\"10.1  - Assert note id\", function () {\r",
							"    pm.expect(pm.environment.get(\"note_id\")).to.be.equal(responseUN.data.id);\r",
							"});\r",
							"pm.test(\"10.1  - Assert note title\", function () {\r",
							"    pm.expect(pm.environment.get(\"note_title\")).to.be.equal(responseUN.data.title);\r",
							"});\r",
							"pm.test(\"10.1  - Assert note description\", function () {\r",
							"    pm.expect(pm.environment.get(\"note_description\")).to.be.equal(responseUN.data.description);\r",
							"});\r",
							"pm.test(\"10.1  - Assert note category\", function () {\r",
							"    pm.expect(pm.environment.get(\"note_category\")).to.be.equal(responseUN.data.category);\r",
							"});\r",
							"pm.test(\"10.1  - Assert note completed\", function () {\r",
							"    pm.expect(String(pm.environment.get(\"note_completed\"))).to.equal(String(responseUN.data.completed));\r",
							"});\r",
							"pm.test(\"10.1  - Assert note created_at\", function () {\r",
							"    pm.expect(pm.environment.get(\"note_created_at\")).to.be.equal(responseUN.data.created_at);\r",
							"});\r",
							"pm.test(\"10.1  - Assert user id for note\", function () {\r",
							"    pm.expect(pm.environment.get(\"user_id\")).to.be.equal(responseUN.data.user_id);\r",
							"});\r",
							"\r",
							"// Cleanup\r",
							"const baseUrl = pm.environment.get(\"base_url\");\r",
							"const token = pm.environment.get(\"user_token\");\r",
							"const noteId = pm.environment.get(\"note_id\");\r",
							"\r",
							"function unsetAll() {\r",
							"    pm.environment.unset(\"user_id\");\r",
							"    pm.environment.unset(\"user_name\");\r",
							"    pm.environment.unset(\"user_email\");\r",
							"    pm.environment.unset(\"user_password\");\r",
							"    pm.environment.unset(\"user_token\");\r",
							"    pm.environment.unset(\"note_id\");\r",
							"    pm.environment.unset(\"note_title\");\r",
							"    pm.environment.unset(\"note_description\");\r",
							"    pm.environment.unset(\"note_category\");\r",
							"    pm.environment.unset(\"note_completed\");\r",
							"    pm.environment.unset(\"note_created_at\");\r",
							"    pm.environment.unset(\"note_updated_at\");\r",
							"}\r",
							"\r",
							"if (baseUrl && token && noteId) {\r",
							"    pm.sendRequest({\r",
							"        url: baseUrl + \"/notes/\" + noteId,\r",
							"        method: \"DELETE\",\r",
							"        header: { \"X-Auth-Token\": token }\r",
							"    }, function () {\r",
							"        pm.sendRequest({\r",
							"            url: baseUrl + \"/users/delete-account\",\r",
							"            method: \"DELETE\",\r",
							"            header: { \"X-Auth-Token\": token }\r",
							"        }, function () {\r",
							"            unsetAll();\r",
							"        });\r",
							"    });\r",
							"} else if (baseUrl && token) {\r",
							"    pm.sendRequest({\r",
							"        url: baseUrl + \"/users/delete-account\",\r",
							"        method: \"DELETE\",\r",
							"        header: { \"X-Auth-Token\": token }\r",
							"    }, function () {\r",
							"        unsetAll();\r",
							"    });\r",
							"} else {\r",
							"    unsetAll();\r",
							"}"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							"const baseUrl = pm.environment.get(\"base_url\");\r",
							"\r",
							"// Dados randômicos\r",
							"const randomName = pm.variables.replaceIn(\"{{$randomFullName}}\");\r",
							"const randomEmail = pm.variables.replaceIn(\"{{$randomEmail}}\").toLowerCase();\r",
							"const randomPassword = pm.variables.replaceIn(\"{{$randomPassword}}\");\r",
							"const randomCategory = _.sample(['Home', 'Work', 'Personal']);\r",
							"const randomTitle = pm.variables.replaceIn(\"{{$randomWord}} {{$randomWord}}\");\r",
							"const randomDescription = pm.variables.replaceIn(\"{{$randomWord}} {{$randomWord}} {{$randomWord}}\");\r",
							"\r",
							"// Persistir para body/asserções\r",
							"pm.environment.set(\"user_name\", randomName);\r",
							"pm.environment.set(\"user_email\", randomEmail);\r",
							"pm.environment.set(\"user_password\", randomPassword);\r",
							"pm.environment.set(\"note_category\", randomCategory);\r",
							"pm.environment.unset(\"user_token\");\r",
							"\r",
							"// Criar usuário\r",
							"pm.sendRequest({\r",
							"    url: baseUrl + \"/users/register\",\r",
							"    method: \"POST\",\r",
							"    header: { \"Content-Type\": \"application/json\" },\r",
							"    body: {\r",
							"        mode: \"raw\",\r",
							"        raw: JSON.stringify({\r",
							"            name: randomName,\r",
							"            email: randomEmail,\r",
							"            password: randomPassword\r",
							"        })\r",
							"    }\r",
							"}, function (err, res) {\r",
							"    if (err || !res || res.code !== 201) {\r",
							"        postman.setNextRequest(null);\r",
							"        return;\r",
							"    }\r",
							"    const body = res.json();\r",
							"    pm.environment.set(\"user_id\", body.data.id);\r",
							"\r",
							"    // Login\r",
							"    pm.sendRequest({\r",
							"        url: baseUrl + \"/users/login\",\r",
							"        method: \"POST\",\r",
							"        header: { \"Content-Type\": \"application/json\" },\r",
							"        body: { mode: \"raw\", raw: JSON.stringify({ email: randomEmail, password: randomPassword }) }\r",
							"    }, function (err2, res2) {\r",
							"        if (err2 || !res2 || res2.code !== 200) {\r",
							"            postman.setNextRequest(null);\r",
							"            return;\r",
							"        }\r",
							"        const login = res2.json();\r",
							"        const token = login && login.data && login.data.token;\r",
							"        if (!token) {\r",
							"            postman.setNextRequest(null);\r",
							"            return;\r",
							"        }\r",
							"        pm.environment.set(\"user_token\", token);\r",
							"\r",
							"        // Criar nota inicial que será atualizada\r",
							"        pm.sendRequest({\r",
							"            url: baseUrl + \"/notes\",\r",
							"            method: \"POST\",\r",
							"            header: { \"Content-Type\": \"application/json\", \"X-Auth-Token\": token },\r",
							"            body: {\r",
							"                mode: \"raw\",\r",
							"                raw: JSON.stringify({\r",
							"                    title: randomTitle,\r",
							"                    description: randomDescription,\r",
							"                    category: randomCategory\r",
							"                })\r",
							"            }\r",
							"        }, function (err3, res3) {\r",
							"            if (err3 || !res3 || res3.code !== 200) {\r",
							"                postman.setNextRequest(null);\r",
							"                return;\r",
							"            }\r",
							"            const n = res3.json();\r",
							"            pm.environment.set(\"note_id\", n.data.id);\r",
							"            pm.environment.set(\"note_title\", n.data.title);\r",
							"            pm.environment.set(\"note_description\", n.data.description);\r",
							"            pm.environment.set(\"note_category\", n.data.category);\r",
							"            pm.environment.set(\"note_completed\", n.data.completed);\r",
							"            pm.environment.set(\"note_created_at\", n.data.created_at);\r",
							"            pm.environment.set(\"note_updated_at\", n.data.updated_at);\r",
							"        });\r",
							"    });\r",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"method": "PUT",
				"header": [
					{
						"key": "X-Auth-Token",
						"value": "{{user_token}}"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\r\n    \"title\":\"{{$randomWord}} {{$randomWord}}\",\r\n    \"description\":\"{{$randomWord}} {{$randomWord}} {{$randomWord}}\",\r\n    \"category\":\"{{note_category}}\",\r\n    \"completed\":\"{{$randomBoolean}}\"\r\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{base_url}}/notes/{{note_id}}",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"notes",
						"{{note_id}}"
					]
				}
			},
			"response": []
		},
		{
			"name": "TC026 - Update an existing note - bad request [negative] [br]",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"let responseUNBR = pm.response.json();\r",
							"\r",
							"// Testes do endpoint 11.2\r",
							"pm.test(\"10.2  - Check update an existing note - bad request success\", function () {\r",
							"    pm.expect(responseUNBR.success).to.be.equal(false);\r",
							"});\r",
							"pm.test(\"10.2  - Check update an existing note - bad request status\", function () {\r",
							"    pm.expect(responseUNBR.status).to.be.equal(400);\r",
							"});\r",
							"pm.test(\"10.2  - Check update an existing note - bad request message\", function () {\r",
							"    pm.expect(responseUNBR.message).to.be.equal(\"Category must be one of the categories: Home, Work, Personal\");\r",
							"});\r",
							"\r",
							"// Cleanup: login válido e delete nota + usuário\r",
							"const baseUrl = pm.environment.get(\"base_url\");\r",
							"const email = pm.environment.get(\"user_email\");\r",
							"const password = pm.environment.get(\"user_password\");\r",
							"const noteId = pm.environment.get(\"note_id\");\r",
							"\r",
							"function unsetAll() {\r",
							"    pm.environment.unset(\"user_id\");\r",
							"    pm.environment.unset(\"user_name\");\r",
							"    pm.environment.unset(\"user_email\");\r",
							"    pm.environment.unset(\"user_password\");\r",
							"    pm.environment.unset(\"user_token\");\r",
							"    pm.environment.unset(\"note_id\");\r",
							"    pm.environment.unset(\"note_title\");\r",
							"    pm.environment.unset(\"note_description\");\r",
							"    pm.environment.unset(\"note_category\");\r",
							"    pm.environment.unset(\"note_completed\");\r",
							"    pm.environment.unset(\"note_created_at\");\r",
							"    pm.environment.unset(\"note_updated_at\");\r",
							"}\r",
							"\r",
							"if (baseUrl && email && password) {\r",
							"    pm.sendRequest({\r",
							"        url: baseUrl + \"/users/login\",\r",
							"        method: \"POST\",\r",
							"        header: { \"Content-Type\": \"application/json\" },\r",
							"        body: { mode: \"raw\", raw: JSON.stringify({ email, password }) }\r",
							"    }, function (err, res) {\r",
							"        if (err || !res || res.code !== 200) {\r",
							"            unsetAll();\r",
							"            return;\r",
							"        }\r",
							"        const login = res.json();\r",
							"        const token = login && login.data && login.data.token;\r",
							"        pm.environment.set(\"user_token\", token || \"\");\r",
							"        if (!token) {\r",
							"            unsetAll();\r",
							"            return;\r",
							"        }\r",
							"\r",
							"        function deleteUser() {\r",
							"            pm.sendRequest({\r",
							"                url: baseUrl + \"/users/delete-account\",\r",
							"                method: \"DELETE\",\r",
							"                header: { \"X-Auth-Token\": token }\r",
							"            }, function () { unsetAll(); });\r",
							"        }\r",
							"\r",
							"        if (noteId) {\r",
							"            pm.sendRequest({\r",
							"                url: baseUrl + \"/notes/\" + noteId,\r",
							"                method: \"DELETE\",\r",
							"                header: { \"X-Auth-Token\": token }\r",
							"            }, function () { deleteUser(); });\r",
							"        } else {\r",
							"            deleteUser();\r",
							"        }\r",
							"    });\r",
							"} else {\r",
							"    unsetAll();\r",
							"}"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							"const baseUrl = pm.environment.get(\"base_url\");\r",
							"\r",
							"// Dados randômicos\r",
							"const randomName = pm.variables.replaceIn(\"{{$randomFullName}}\");\r",
							"const randomEmail = pm.variables.replaceIn(\"{{$randomEmail}}\").toLowerCase();\r",
							"const randomPassword = pm.variables.replaceIn(\"{{$randomPassword}}\");\r",
							"const randomCategory = _.sample(['Home', 'Work', 'Personal']);\r",
							"const randomTitle = pm.variables.replaceIn(\"{{$randomWord}} {{$randomWord}}\");\r",
							"const randomDescription = pm.variables.replaceIn(\"{{$randomWord}} {{$randomWord}} {{$randomWord}}\");\r",
							"\r",
							"// Persistir para body/asserções\r",
							"pm.environment.set(\"user_name\", randomName);\r",
							"pm.environment.set(\"user_email\", randomEmail);\r",
							"pm.environment.set(\"user_password\", randomPassword);\r",
							"pm.environment.set(\"note_category\", randomCategory);\r",
							"pm.environment.unset(\"user_token\");\r",
							"\r",
							"// Criar usuário\r",
							"pm.sendRequest({\r",
							"    url: baseUrl + \"/users/register\",\r",
							"    method: \"POST\",\r",
							"    header: { \"Content-Type\": \"application/json\" },\r",
							"    body: {\r",
							"        mode: \"raw\",\r",
							"        raw: JSON.stringify({\r",
							"            name: randomName,\r",
							"            email: randomEmail,\r",
							"            password: randomPassword\r",
							"        })\r",
							"    }\r",
							"}, function (err, res) {\r",
							"    if (err || !res || res.code !== 201) {\r",
							"        postman.setNextRequest(null);\r",
							"        return;\r",
							"    }\r",
							"    const body = res.json();\r",
							"    pm.environment.set(\"user_id\", body.data.id);\r",
							"\r",
							"    // Login\r",
							"    pm.sendRequest({\r",
							"        url: baseUrl + \"/users/login\",\r",
							"        method: \"POST\",\r",
							"        header: { \"Content-Type\": \"application/json\" },\r",
							"        body: { mode: \"raw\", raw: JSON.stringify({ email: randomEmail, password: randomPassword }) }\r",
							"    }, function (err2, res2) {\r",
							"        if (err2 || !res2 || res2.code !== 200) {\r",
							"            postman.setNextRequest(null);\r",
							"            return;\r",
							"        }\r",
							"        const login = res2.json();\r",
							"        const token = login && login.data && login.data.token;\r",
							"        if (!token) {\r",
							"            postman.setNextRequest(null);\r",
							"            return;\r",
							"        }\r",
							"        pm.environment.set(\"user_token\", token);\r",
							"\r",
							"        // Criar nota inicial que será atualizada\r",
							"        pm.sendRequest({\r",
							"            url: baseUrl + \"/notes\",\r",
							"            method: \"POST\",\r",
							"            header: { \"Content-Type\": \"application/json\", \"X-Auth-Token\": token },\r",
							"            body: {\r",
							"                mode: \"raw\",\r",
							"                raw: JSON.stringify({\r",
							"                    title: randomTitle,\r",
							"                    description: randomDescription,\r",
							"                    category: randomCategory\r",
							"                })\r",
							"            }\r",
							"        }, function (err3, res3) {\r",
							"            if (err3 || !res3 || res3.code !== 200) {\r",
							"                postman.setNextRequest(null);\r",
							"                return;\r",
							"            }\r",
							"            const n = res3.json();\r",
							"            pm.environment.set(\"note_id\", n.data.id);\r",
							"            pm.environment.set(\"note_title\", n.data.title);\r",
							"            pm.environment.set(\"note_description\", n.data.description);\r",
							"            pm.environment.set(\"note_category\", n.data.category);\r",
							"            pm.environment.set(\"note_completed\", n.data.completed);\r",
							"            pm.environment.set(\"note_created_at\", n.data.created_at);\r",
							"            pm.environment.set(\"note_updated_at\", n.data.updated_at);\r",
							"        });\r",
							"    });\r",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"method": "PUT",
				"header": [
					{
						"key": "X-Auth-Token",
						"value": "{{user_token}}"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\r\n    \"title\":\"{{$randomWord}} {{$randomWord}}\",\r\n    \"description\":\"{{$randomWord}} {{$randomWord}} {{$randomWord}}\",\r\n    \"category\":\"a\",\r\n    \"completed\":\"{{$randomBoolean}}\"\r\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{base_url}}/notes/{{note_id}}",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"notes",
						"{{note_id}}"
					]
				}
			},
			"response": []
		},
		{
			"name": "TC027 - Update an existing note - unauthorized request [negative] [ur]",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"let responseUNUR = pm.response.json();\r",
							"\r",
							"// Testes do endpoint 11.3\r",
							"pm.test(\"10.3  - Check update an existing note - unauthorized request success\", function () {\r",
							"    pm.expect(responseUNUR.success).to.be.equal(false);\r",
							"});\r",
							"pm.test(\"10.3  - Check update an existing note - unauthorized request status\", function () {\r",
							"    pm.expect(responseUNUR.status).to.be.equal(401);\r",
							"});\r",
							"pm.test(\"10.3  - Check update an existing note - unauthorized request message\", function () {\r",
							"    pm.expect(responseUNUR.message).to.be.equal(\"Access token is not valid or has expired, you will need to login\");\r",
							"});\r",
							"\r",
							"// Cleanup: login válido e delete nota + usuário\r",
							"const baseUrl = pm.environment.get(\"base_url\");\r",
							"const email = pm.environment.get(\"user_email\");\r",
							"const password = pm.environment.get(\"user_password\");\r",
							"const noteId = pm.environment.get(\"note_id\");\r",
							"\r",
							"function unsetAll() {\r",
							"    pm.environment.unset(\"user_id\");\r",
							"    pm.environment.unset(\"user_name\");\r",
							"    pm.environment.unset(\"user_email\");\r",
							"    pm.environment.unset(\"user_password\");\r",
							"    pm.environment.unset(\"user_token\");\r",
							"    pm.environment.unset(\"note_id\");\r",
							"    pm.environment.unset(\"note_title\");\r",
							"    pm.environment.unset(\"note_description\");\r",
							"    pm.environment.unset(\"note_category\");\r",
							"    pm.environment.unset(\"note_completed\");\r",
							"    pm.environment.unset(\"note_created_at\");\r",
							"    pm.environment.unset(\"note_updated_at\");\r",
							"}\r",
							"\r",
							"if (baseUrl && email && password) {\r",
							"    pm.sendRequest({\r",
							"        url: baseUrl + \"/users/login\",\r",
							"        method: \"POST\",\r",
							"        header: { \"Content-Type\": \"application/json\" },\r",
							"        body: { mode: \"raw\", raw: JSON.stringify({ email, password }) }\r",
							"    }, function (err, res) {\r",
							"        if (err || !res || res.code !== 200) {\r",
							"            unsetAll();\r",
							"            return;\r",
							"        }\r",
							"        const login = res.json();\r",
							"        const token = login && login.data && login.data.token;\r",
							"        pm.environment.set(\"user_token\", token || \"\");\r",
							"        if (!token) {\r",
							"            unsetAll();\r",
							"            return;\r",
							"        }\r",
							"\r",
							"        function deleteUser() {\r",
							"            pm.sendRequest({\r",
							"                url: baseUrl + \"/users/delete-account\",\r",
							"                method: \"DELETE\",\r",
							"                header: { \"X-Auth-Token\": token }\r",
							"            }, function () { unsetAll(); });\r",
							"        }\r",
							"\r",
							"        if (noteId) {\r",
							"            pm.sendRequest({\r",
							"                url: baseUrl + \"/notes/\" + noteId,\r",
							"                method: \"DELETE\",\r",
							"                header: { \"X-Auth-Token\": token }\r",
							"            }, function () { deleteUser(); });\r",
							"        } else {\r",
							"            deleteUser();\r",
							"        }\r",
							"    });\r",
							"} else {\r",
							"    unsetAll();\r",
							"}"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							"const baseUrl = pm.environment.get(\"base_url\");\r",
							"\r",
							"// Dados randômicos\r",
							"const randomName = pm.variables.replaceIn(\"{{$randomFullName}}\");\r",
							"const randomEmail = pm.variables.replaceIn(\"{{$randomEmail}}\").toLowerCase();\r",
							"const randomPassword = pm.variables.replaceIn(\"{{$randomPassword}}\");\r",
							"const randomCategory = _.sample(['Home', 'Work', 'Personal']);\r",
							"const randomTitle = pm.variables.replaceIn(\"{{$randomWord}} {{$randomWord}}\");\r",
							"const randomDescription = pm.variables.replaceIn(\"{{$randomWord}} {{$randomWord}} {{$randomWord}}\");\r",
							"\r",
							"// Persistir para body/asserções\r",
							"pm.environment.set(\"user_name\", randomName);\r",
							"pm.environment.set(\"user_email\", randomEmail);\r",
							"pm.environment.set(\"user_password\", randomPassword);\r",
							"pm.environment.set(\"note_category\", randomCategory);\r",
							"pm.environment.unset(\"user_token\");\r",
							"\r",
							"// Criar usuário\r",
							"pm.sendRequest({\r",
							"    url: baseUrl + \"/users/register\",\r",
							"    method: \"POST\",\r",
							"    header: { \"Content-Type\": \"application/json\" },\r",
							"    body: {\r",
							"        mode: \"raw\",\r",
							"        raw: JSON.stringify({\r",
							"            name: randomName,\r",
							"            email: randomEmail,\r",
							"            password: randomPassword\r",
							"        })\r",
							"    }\r",
							"}, function (err, res) {\r",
							"    if (err || !res || res.code !== 201) {\r",
							"        postman.setNextRequest(null);\r",
							"        return;\r",
							"    }\r",
							"    const body = res.json();\r",
							"    pm.environment.set(\"user_id\", body.data.id);\r",
							"\r",
							"    // Login\r",
							"    pm.sendRequest({\r",
							"        url: baseUrl + \"/users/login\",\r",
							"        method: \"POST\",\r",
							"        header: { \"Content-Type\": \"application/json\" },\r",
							"        body: { mode: \"raw\", raw: JSON.stringify({ email: randomEmail, password: randomPassword }) }\r",
							"    }, function (err2, res2) {\r",
							"        if (err2 || !res2 || res2.code !== 200) {\r",
							"            postman.setNextRequest(null);\r",
							"            return;\r",
							"        }\r",
							"        const login = res2.json();\r",
							"        const token = login && login.data && login.data.token;\r",
							"        if (!token) {\r",
							"            postman.setNextRequest(null);\r",
							"            return;\r",
							"        }\r",
							"        pm.environment.set(\"user_token\", token);\r",
							"\r",
							"        // Criar nota inicial que será atualizada\r",
							"        pm.sendRequest({\r",
							"            url: baseUrl + \"/notes\",\r",
							"            method: \"POST\",\r",
							"            header: { \"Content-Type\": \"application/json\", \"X-Auth-Token\": token },\r",
							"            body: {\r",
							"                mode: \"raw\",\r",
							"                raw: JSON.stringify({\r",
							"                    title: randomTitle,\r",
							"                    description: randomDescription,\r",
							"                    category: randomCategory\r",
							"                })\r",
							"            }\r",
							"        }, function (err3, res3) {\r",
							"            if (err3 || !res3 || res3.code !== 200) {\r",
							"                postman.setNextRequest(null);\r",
							"                return;\r",
							"            }\r",
							"            const n = res3.json();\r",
							"            pm.environment.set(\"note_id\", n.data.id);\r",
							"            pm.environment.set(\"note_title\", n.data.title);\r",
							"            pm.environment.set(\"note_description\", n.data.description);\r",
							"            pm.environment.set(\"note_category\", n.data.category);\r",
							"            pm.environment.set(\"note_completed\", n.data.completed);\r",
							"            pm.environment.set(\"note_created_at\", n.data.created_at);\r",
							"            pm.environment.set(\"note_updated_at\", n.data.updated_at);\r",
							"        });\r",
							"    });\r",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"method": "PUT",
				"header": [
					{
						"key": "X-Auth-Token",
						"value": "@{{user_token}}"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\r\n    \"title\":\"{{$randomWord}} {{$randomWord}}\",\r\n    \"description\":\"{{$randomWord}} {{$randomWord}} {{$randomWord}}\",\r\n    \"category\":\"{{note_category_UR}}\",\r\n    \"completed\":\"{{$randomBoolean}}\"\r\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{base_url}}/notes/{{note_id}}",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"notes",
						"{{note_id}}"
					]
				}
			},
			"response": []
		},
		{
			"name": "TC028 - Update the completed status of a note",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"let responseUCSN = pm.response.json();\r",
							"let requestUCSN = JSON.parse(pm.request.body.raw);\r",
							"\r",
							"pm.environment.set(\"note_completed\", requestUCSN.completed);\r",
							"\r",
							"pm.test(\"11.1 - Check update the completed status of a note success\", function () {\r",
							"    pm.expect(responseUCSN.success).to.be.equal(true);\r",
							"});\r",
							"pm.test(\"11.1 - Check update the completed status of a note status\", function () {\r",
							"    pm.expect(responseUCSN.status).to.be.equal(200);\r",
							"});\r",
							"pm.test(\"11.1 - Check update the completed status of a note message\", function () {\r",
							"    pm.expect(responseUCSN.message).to.be.equal(\"Note successfully Updated\");\r",
							"});\r",
							"pm.test(\"11.1 - Assert note id\", function () {\r",
							"    pm.expect(pm.environment.get(\"note_id\")).to.be.equal(responseUCSN.data.id);\r",
							"});\r",
							"pm.test(\"11.1 - Assert note title\", function () {\r",
							"    pm.expect(pm.environment.get(\"note_title\")).to.be.equal(responseUCSN.data.title);\r",
							"});\r",
							"pm.test(\"11.1 - Assert note description\", function () {\r",
							"    pm.expect(pm.environment.get(\"note_description\")).to.be.equal(responseUCSN.data.description);\r",
							"});\r",
							"pm.test(\"11.1 - Assert note category\", function () {\r",
							"    pm.expect(pm.environment.get(\"note_category\")).to.be.equal(responseUCSN.data.category);\r",
							"});\r",
							"pm.test(\"11.1 - Assert note completed\", function () {\r",
							"    pm.expect(String(pm.environment.get(\"note_completed\"))).to.equal(String(responseUCSN.data.completed));\r",
							"});\r",
							"pm.test(\"11.1 - Assert note created_at\", function () {\r",
							"    pm.expect(pm.environment.get(\"note_created_at\")).to.be.equal(responseUCSN.data.created_at);\r",
							"});\r",
							"pm.test(\"11.1 - Assert user id for note\", function () {\r",
							"    pm.expect(pm.environment.get(\"user_id\")).to.be.equal(responseUCSN.data.user_id);\r",
							"});\r",
							"\r",
							"// Cleanup\r",
							"const baseUrl = pm.environment.get(\"base_url\");\r",
							"const token = pm.environment.get(\"user_token\");\r",
							"const noteId = pm.environment.get(\"note_id\");\r",
							"\r",
							"function unsetAll() {\r",
							"    pm.environment.unset(\"user_id\");\r",
							"    pm.environment.unset(\"user_name\");\r",
							"    pm.environment.unset(\"user_email\");\r",
							"    pm.environment.unset(\"user_password\");\r",
							"    pm.environment.unset(\"user_token\");\r",
							"    pm.environment.unset(\"note_id\");\r",
							"    pm.environment.unset(\"note_title\");\r",
							"    pm.environment.unset(\"note_description\");\r",
							"    pm.environment.unset(\"note_category\");\r",
							"    pm.environment.unset(\"note_completed\");\r",
							"    pm.environment.unset(\"note_created_at\");\r",
							"    pm.environment.unset(\"note_updated_at\");\r",
							"}\r",
							"\r",
							"if (baseUrl && token && noteId) {\r",
							"    pm.sendRequest({\r",
							"        url: baseUrl + \"/notes/\" + noteId,\r",
							"        method: \"DELETE\",\r",
							"        header: { \"X-Auth-Token\": token }\r",
							"    }, function () {\r",
							"        pm.sendRequest({\r",
							"            url: baseUrl + \"/users/delete-account\",\r",
							"            method: \"DELETE\",\r",
							"            header: { \"X-Auth-Token\": token }\r",
							"        }, function () { unsetAll(); });\r",
							"    });\r",
							"} else if (baseUrl && token) {\r",
							"    pm.sendRequest({\r",
							"        url: baseUrl + \"/users/delete-account\",\r",
							"        method: \"DELETE\",\r",
							"        header: { \"X-Auth-Token\": token }\r",
							"    }, function () { unsetAll(); });\r",
							"} else {\r",
							"    unsetAll();\r",
							"}"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							"const baseUrl = pm.environment.get(\"base_url\");\r",
							"\r",
							"// Dados randômicos\r",
							"const randomName = pm.variables.replaceIn(\"{{$randomFullName}}\");\r",
							"const randomEmail = pm.variables.replaceIn(\"{{$randomEmail}}\").toLowerCase();\r",
							"const randomPassword = pm.variables.replaceIn(\"{{$randomPassword}}\");\r",
							"const randomCategory = _.sample(['Home', 'Work', 'Personal']);\r",
							"const randomTitle = pm.variables.replaceIn(\"{{$randomWord}} {{$randomWord}}\");\r",
							"const randomDescription = pm.variables.replaceIn(\"{{$randomWord}} {{$randomWord}} {{$randomWord}}\");\r",
							"\r",
							"// Persistir\r",
							"pm.environment.set(\"user_name\", randomName);\r",
							"pm.environment.set(\"user_email\", randomEmail);\r",
							"pm.environment.set(\"user_password\", randomPassword);\r",
							"pm.environment.set(\"note_category\", randomCategory);\r",
							"pm.environment.unset(\"user_token\");\r",
							"\r",
							"// Criar usuário\r",
							"pm.sendRequest({\r",
							"    url: baseUrl + \"/users/register\",\r",
							"    method: \"POST\",\r",
							"    header: { \"Content-Type\": \"application/json\" },\r",
							"    body: { mode: \"raw\", raw: JSON.stringify({ name: randomName, email: randomEmail, password: randomPassword }) }\r",
							"}, function (err, res) {\r",
							"    if (err || !res || res.code !== 201) { postman.setNextRequest(null); return; }\r",
							"    const body = res.json();\r",
							"    pm.environment.set(\"user_id\", body.data.id);\r",
							"\r",
							"    // Login\r",
							"    pm.sendRequest({\r",
							"        url: baseUrl + \"/users/login\",\r",
							"        method: \"POST\",\r",
							"        header: { \"Content-Type\": \"application/json\" },\r",
							"        body: { mode: \"raw\", raw: JSON.stringify({ email: randomEmail, password: randomPassword }) }\r",
							"    }, function (err2, res2) {\r",
							"        if (err2 || !res2 || res2.code !== 200) { postman.setNextRequest(null); return; }\r",
							"        const login = res2.json();\r",
							"        const token = login && login.data && login.data.token;\r",
							"        if (!token) { postman.setNextRequest(null); return; }\r",
							"        pm.environment.set(\"user_token\", token);\r",
							"\r",
							"        // Criar nota inicial\r",
							"        pm.sendRequest({\r",
							"            url: baseUrl + \"/notes\",\r",
							"            method: \"POST\",\r",
							"            header: { \"Content-Type\": \"application/json\", \"X-Auth-Token\": token },\r",
							"            body: { mode: \"raw\", raw: JSON.stringify({\r",
							"                title: randomTitle,\r",
							"                description: randomDescription,\r",
							"                category: randomCategory\r",
							"            }) }\r",
							"        }, function (err3, res3) {\r",
							"            if (err3 || !res3 || res3.code !== 200) { postman.setNextRequest(null); return; }\r",
							"            const n = res3.json();\r",
							"            pm.environment.set(\"note_id\", n.data.id);\r",
							"            pm.environment.set(\"note_title\", n.data.title);\r",
							"            pm.environment.set(\"note_description\", n.data.description);\r",
							"            pm.environment.set(\"note_category\", n.data.category);\r",
							"            pm.environment.set(\"note_completed\", n.data.completed);\r",
							"            pm.environment.set(\"note_created_at\", n.data.created_at);\r",
							"            pm.environment.set(\"note_updated_at\", n.data.updated_at);\r",
							"\r",
							"            // Alternar completed para o próximo request\r",
							"            if (pm.environment.get(\"note_completed\") === false) {\r",
							"                pm.environment.set(\"note_completed\", true);\r",
							"            } else {\r",
							"                pm.environment.set(\"note_completed\", false);\r",
							"            }\r",
							"        });\r",
							"    });\r",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"method": "PATCH",
				"header": [
					{
						"key": "X-Auth-Token",
						"value": "{{user_token}}"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\r\n    \"completed\":\"{{note_completed}}\"\r\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{base_url}}/notes/{{note_id}}",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"notes",
						"{{note_id}}"
					]
				}
			},
			"response": []
		},
		{
			"name": "TC029 - Update the completed status of a note - bad request [negative] [br]",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"let responseUCSNBR = pm.response.json();\r",
							"\r",
							"pm.test(\"11.2 - Check update the completed status of a note - bad request success\", function () {\r",
							"    pm.expect(responseUCSNBR.success).to.be.equal(false);\r",
							"});\r",
							"pm.test(\"11.2 - Check update the completed status of a note - bad request status\", function () {\r",
							"    pm.expect(responseUCSNBR.status).to.be.equal(400);\r",
							"});\r",
							"pm.test(\"11.2 - Check update the completed status of a note - bad request message\", function () {\r",
							"    pm.expect(responseUCSNBR.message).to.be.equal(\"Note completed status must be boolean\");\r",
							"});\r",
							"\r",
							"// Cleanup via login e deleção\r",
							"const baseUrl = pm.environment.get(\"base_url\");\r",
							"const email = pm.environment.get(\"user_email\");\r",
							"const password = pm.environment.get(\"user_password\");\r",
							"const noteId = pm.environment.get(\"note_id\");\r",
							"\r",
							"function unsetAll() {\r",
							"    pm.environment.unset(\"user_id\");\r",
							"    pm.environment.unset(\"user_name\");\r",
							"    pm.environment.unset(\"user_email\");\r",
							"    pm.environment.unset(\"user_password\");\r",
							"    pm.environment.unset(\"user_token\");\r",
							"    pm.environment.unset(\"note_id\");\r",
							"    pm.environment.unset(\"note_title\");\r",
							"    pm.environment.unset(\"note_description\");\r",
							"    pm.environment.unset(\"note_category\");\r",
							"    pm.environment.unset(\"note_completed\");\r",
							"    pm.environment.unset(\"note_created_at\");\r",
							"    pm.environment.unset(\"note_updated_at\");\r",
							"}\r",
							"\r",
							"if (baseUrl && email && password) {\r",
							"    pm.sendRequest({\r",
							"        url: baseUrl + \"/users/login\",\r",
							"        method: \"POST\",\r",
							"        header: { \"Content-Type\": \"application/json\" },\r",
							"        body: { mode: \"raw\", raw: JSON.stringify({ email, password }) }\r",
							"    }, function (err, res) {\r",
							"        if (err || !res || res.code !== 200) { unsetAll(); return; }\r",
							"        const login = res.json();\r",
							"        const token = login && login.data && login.data.token;\r",
							"        pm.environment.set(\"user_token\", token || \"\");\r",
							"        if (!token) { unsetAll(); return; }\r",
							"\r",
							"        function deleteUser() {\r",
							"            pm.sendRequest({\r",
							"                url: baseUrl + \"/users/delete-account\",\r",
							"                method: \"DELETE\",\r",
							"                header: { \"X-Auth-Token\": token }\r",
							"            }, function () { unsetAll(); });\r",
							"        }\r",
							"\r",
							"        if (noteId) {\r",
							"            pm.sendRequest({\r",
							"                url: baseUrl + \"/notes/\" + noteId,\r",
							"                method: \"DELETE\",\r",
							"                header: { \"X-Auth-Token\": token }\r",
							"            }, function () { deleteUser(); });\r",
							"        } else {\r",
							"            deleteUser();\r",
							"        }\r",
							"    });\r",
							"} else {\r",
							"    unsetAll();\r",
							"}"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							"const baseUrl = pm.environment.get(\"base_url\");\r",
							"\r",
							"// Dados randômicos\r",
							"const randomName = pm.variables.replaceIn(\"{{$randomFullName}}\");\r",
							"const randomEmail = pm.variables.replaceIn(\"{{$randomEmail}}\").toLowerCase();\r",
							"const randomPassword = pm.variables.replaceIn(\"{{$randomPassword}}\");\r",
							"const randomCategory = _.sample(['Home', 'Work', 'Personal']);\r",
							"const randomTitle = pm.variables.replaceIn(\"{{$randomWord}} {{$randomWord}}\");\r",
							"const randomDescription = pm.variables.replaceIn(\"{{$randomWord}} {{$randomWord}} {{$randomWord}}\");\r",
							"\r",
							"// Persistir\r",
							"pm.environment.set(\"user_name\", randomName);\r",
							"pm.environment.set(\"user_email\", randomEmail);\r",
							"pm.environment.set(\"user_password\", randomPassword);\r",
							"pm.environment.set(\"note_category\", randomCategory);\r",
							"pm.environment.unset(\"user_token\");\r",
							"\r",
							"// Criar usuário\r",
							"pm.sendRequest({\r",
							"    url: baseUrl + \"/users/register\",\r",
							"    method: \"POST\",\r",
							"    header: { \"Content-Type\": \"application/json\" },\r",
							"    body: { mode: \"raw\", raw: JSON.stringify({ name: randomName, email: randomEmail, password: randomPassword }) }\r",
							"}, function (err, res) {\r",
							"    if (err || !res || res.code !== 201) { postman.setNextRequest(null); return; }\r",
							"    const body = res.json();\r",
							"    pm.environment.set(\"user_id\", body.data.id);\r",
							"\r",
							"    // Login\r",
							"    pm.sendRequest({\r",
							"        url: baseUrl + \"/users/login\",\r",
							"        method: \"POST\",\r",
							"        header: { \"Content-Type\": \"application/json\" },\r",
							"        body: { mode: \"raw\", raw: JSON.stringify({ email: randomEmail, password: randomPassword }) }\r",
							"    }, function (err2, res2) {\r",
							"        if (err2 || !res2 || res2.code !== 200) { postman.setNextRequest(null); return; }\r",
							"        const login = res2.json();\r",
							"        const token = login && login.data && login.data.token;\r",
							"        if (!token) { postman.setNextRequest(null); return; }\r",
							"        pm.environment.set(\"user_token\", token);\r",
							"\r",
							"        // Criar nota inicial\r",
							"        pm.sendRequest({\r",
							"            url: baseUrl + \"/notes\",\r",
							"            method: \"POST\",\r",
							"            header: { \"Content-Type\": \"application/json\", \"X-Auth-Token\": token },\r",
							"            body: { mode: \"raw\", raw: JSON.stringify({\r",
							"                title: randomTitle,\r",
							"                description: randomDescription,\r",
							"                category: randomCategory\r",
							"            }) }\r",
							"        }, function (err3, res3) {\r",
							"            if (err3 || !res3 || res3.code !== 200) { postman.setNextRequest(null); return; }\r",
							"            const n = res3.json();\r",
							"            pm.environment.set(\"note_id\", n.data.id);\r",
							"            pm.environment.set(\"note_title\", n.data.title);\r",
							"            pm.environment.set(\"note_description\", n.data.description);\r",
							"            pm.environment.set(\"note_category\", n.data.category);\r",
							"            pm.environment.set(\"note_completed\", n.data.completed);\r",
							"            pm.environment.set(\"note_created_at\", n.data.created_at);\r",
							"            pm.environment.set(\"note_updated_at\", n.data.updated_at);\r",
							"\r",
							"            // Alternar completed para o próximo request\r",
							"            if (pm.environment.get(\"note_completed\") === false) {\r",
							"                pm.environment.set(\"note_completed\", true);\r",
							"            } else {\r",
							"                pm.environment.set(\"note_completed\", false);\r",
							"            }\r",
							"        });\r",
							"    });\r",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"method": "PATCH",
				"header": [
					{
						"key": "X-Auth-Token",
						"value": "{{user_token}}"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\r\n    \"completed\":\"a\"\r\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{base_url}}/notes/{{note_id}}",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"notes",
						"{{note_id}}"
					]
				}
			},
			"response": []
		},
		{
			"name": "TC030 - Update the completed status of a note - unauthorized request [negative] [ur]",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"let responseUCSNUR = pm.response.json();\r",
							"\r",
							"pm.test(\"11.3 - Check update the completed status of a note - unauthorized request success\", function () {\r",
							"    pm.expect(responseUCSNUR.success).to.be.equal(false);\r",
							"});\r",
							"pm.test(\"11.3 - Check update the completed status of a note - unauthorized request status\", function () {\r",
							"    pm.expect(responseUCSNUR.status).to.be.equal(401);\r",
							"});\r",
							"pm.test(\"11.3 - Check update the completed status of a note - unauthorized request message\", function () {\r",
							"    pm.expect(responseUCSNUR.message).to.be.equal(\"Access token is not valid or has expired, you will need to login\");\r",
							"});\r",
							"\r",
							"// Cleanup via login e deleção\r",
							"const baseUrl = pm.environment.get(\"base_url\");\r",
							"const email = pm.environment.get(\"user_email\");\r",
							"const password = pm.environment.get(\"user_password\");\r",
							"const noteId = pm.environment.get(\"note_id\");\r",
							"\r",
							"function unsetAll() {\r",
							"    pm.environment.unset(\"user_id\");\r",
							"    pm.environment.unset(\"user_name\");\r",
							"    pm.environment.unset(\"user_email\");\r",
							"    pm.environment.unset(\"user_password\");\r",
							"    pm.environment.unset(\"user_token\");\r",
							"    pm.environment.unset(\"note_id\");\r",
							"    pm.environment.unset(\"note_title\");\r",
							"    pm.environment.unset(\"note_description\");\r",
							"    pm.environment.unset(\"note_category\");\r",
							"    pm.environment.unset(\"note_completed\");\r",
							"    pm.environment.unset(\"note_created_at\");\r",
							"    pm.environment.unset(\"note_updated_at\");\r",
							"}\r",
							"\r",
							"if (baseUrl && email && password) {\r",
							"    pm.sendRequest({\r",
							"        url: baseUrl + \"/users/login\",\r",
							"        method: \"POST\",\r",
							"        header: { \"Content-Type\": \"application/json\" },\r",
							"        body: { mode: \"raw\", raw: JSON.stringify({ email, password }) }\r",
							"    }, function (err, res) {\r",
							"        if (err || !res || res.code !== 200) { unsetAll(); return; }\r",
							"        const login = res.json();\r",
							"        const token = login && login.data && login.data.token;\r",
							"        pm.environment.set(\"user_token\", token || \"\");\r",
							"        if (!token) { unsetAll(); return; }\r",
							"\r",
							"        function deleteUser() {\r",
							"            pm.sendRequest({\r",
							"                url: baseUrl + \"/users/delete-account\",\r",
							"                method: \"DELETE\",\r",
							"                header: { \"X-Auth-Token\": token }\r",
							"            }, function () { unsetAll(); });\r",
							"        }\r",
							"\r",
							"        if (noteId) {\r",
							"            pm.sendRequest({\r",
							"                url: baseUrl + \"/notes/\" + noteId,\r",
							"                method: \"DELETE\",\r",
							"                header: { \"X-Auth-Token\": token }\r",
							"            }, function () { deleteUser(); });\r",
							"        } else {\r",
							"            deleteUser();\r",
							"        }\r",
							"    });\r",
							"} else {\r",
							"    unsetAll();\r",
							"}"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							"const baseUrl = pm.environment.get(\"base_url\");\r",
							"\r",
							"// Dados randômicos\r",
							"const randomName = pm.variables.replaceIn(\"{{$randomFullName}}\");\r",
							"const randomEmail = pm.variables.replaceIn(\"{{$randomEmail}}\").toLowerCase();\r",
							"const randomPassword = pm.variables.replaceIn(\"{{$randomPassword}}\");\r",
							"const randomCategory = _.sample(['Home', 'Work', 'Personal']);\r",
							"const randomTitle = pm.variables.replaceIn(\"{{$randomWord}} {{$randomWord}}\");\r",
							"const randomDescription = pm.variables.replaceIn(\"{{$randomWord}} {{$randomWord}} {{$randomWord}}\");\r",
							"\r",
							"// Persistir\r",
							"pm.environment.set(\"user_name\", randomName);\r",
							"pm.environment.set(\"user_email\", randomEmail);\r",
							"pm.environment.set(\"user_password\", randomPassword);\r",
							"pm.environment.set(\"note_category\", randomCategory);\r",
							"pm.environment.unset(\"user_token\");\r",
							"\r",
							"// Criar usuário\r",
							"pm.sendRequest({\r",
							"    url: baseUrl + \"/users/register\",\r",
							"    method: \"POST\",\r",
							"    header: { \"Content-Type\": \"application/json\" },\r",
							"    body: { mode: \"raw\", raw: JSON.stringify({ name: randomName, email: randomEmail, password: randomPassword }) }\r",
							"}, function (err, res) {\r",
							"    if (err || !res || res.code !== 201) { postman.setNextRequest(null); return; }\r",
							"    const body = res.json();\r",
							"    pm.environment.set(\"user_id\", body.data.id);\r",
							"\r",
							"    // Login\r",
							"    pm.sendRequest({\r",
							"        url: baseUrl + \"/users/login\",\r",
							"        method: \"POST\",\r",
							"        header: { \"Content-Type\": \"application/json\" },\r",
							"        body: { mode: \"raw\", raw: JSON.stringify({ email: randomEmail, password: randomPassword }) }\r",
							"    }, function (err2, res2) {\r",
							"        if (err2 || !res2 || res2.code !== 200) { postman.setNextRequest(null); return; }\r",
							"        const login = res2.json();\r",
							"        const token = login && login.data && login.data.token;\r",
							"        if (!token) { postman.setNextRequest(null); return; }\r",
							"        pm.environment.set(\"user_token\", token);\r",
							"\r",
							"        // Criar nota inicial\r",
							"        pm.sendRequest({\r",
							"            url: baseUrl + \"/notes\",\r",
							"            method: \"POST\",\r",
							"            header: { \"Content-Type\": \"application/json\", \"X-Auth-Token\": token },\r",
							"            body: { mode: \"raw\", raw: JSON.stringify({\r",
							"                title: randomTitle,\r",
							"                description: randomDescription,\r",
							"                category: randomCategory\r",
							"            }) }\r",
							"        }, function (err3, res3) {\r",
							"            if (err3 || !res3 || res3.code !== 200) { postman.setNextRequest(null); return; }\r",
							"            const n = res3.json();\r",
							"            pm.environment.set(\"note_id\", n.data.id);\r",
							"            pm.environment.set(\"note_title\", n.data.title);\r",
							"            pm.environment.set(\"note_description\", n.data.description);\r",
							"            pm.environment.set(\"note_category\", n.data.category);\r",
							"            pm.environment.set(\"note_completed\", n.data.completed);\r",
							"            pm.environment.set(\"note_created_at\", n.data.created_at);\r",
							"            pm.environment.set(\"note_updated_at\", n.data.updated_at);\r",
							"\r",
							"            // Alternar completed para o próximo request\r",
							"            if (pm.environment.get(\"note_completed\") === false) {\r",
							"                pm.environment.set(\"note_completed\", true);\r",
							"            } else {\r",
							"                pm.environment.set(\"note_completed\", false);\r",
							"            }\r",
							"        });\r",
							"    });\r",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"method": "PATCH",
				"header": [
					{
						"key": "X-Auth-Token",
						"value": "@{{user_token}}"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\r\n    \"completed\":\"{{note_completed_UR}}\"\r\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{base_url}}/notes/{{note_id}}",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"notes",
						"{{note_id}}"
					]
				}
			},
			"response": []
		},
		{
			"name": "TC031 - Delete a note by ID",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"let responseDN = pm.response.json();\r",
							"\r",
							"pm.test(\"12.1 - Check delete a note by ID success\", function () {\r",
							"    pm.expect(responseDN.success).to.be.equal(true);\r",
							"});\r",
							"pm.test(\"12.1 - Check delete a note by ID status\", function () {\r",
							"    pm.expect(responseDN.status).to.be.equal(200);\r",
							"});\r",
							"pm.test(\"12.1 - Check delete a note by ID message\", function () {\r",
							"    pm.expect(responseDN.message).to.be.equal(\"Note successfully deleted\");\r",
							"});\r",
							"\r",
							"// Cleanup: deletar usuário e limpar variáveis\r",
							"const baseUrl = pm.environment.get(\"base_url\");\r",
							"const token = pm.environment.get(\"user_token\");\r",
							"\r",
							"function unsetAll() {\r",
							"    pm.environment.unset(\"user_id\");\r",
							"    pm.environment.unset(\"user_name\");\r",
							"    pm.environment.unset(\"user_email\");\r",
							"    pm.environment.unset(\"user_password\");\r",
							"    pm.environment.unset(\"user_token\");\r",
							"    pm.environment.unset(\"note_id\");\r",
							"    pm.environment.unset(\"note_title\");\r",
							"    pm.environment.unset(\"note_description\");\r",
							"    pm.environment.unset(\"note_category\");\r",
							"    pm.environment.unset(\"note_completed\");\r",
							"    pm.environment.unset(\"note_created_at\");\r",
							"    pm.environment.unset(\"note_updated_at\");\r",
							"}\r",
							"\r",
							"if (baseUrl && token) {\r",
							"    pm.sendRequest({\r",
							"        url: baseUrl + \"/users/delete-account\",\r",
							"        method: \"DELETE\",\r",
							"        header: { \"X-Auth-Token\": token }\r",
							"    }, function () { unsetAll(); });\r",
							"} else {\r",
							"    unsetAll();\r",
							"}"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							"const baseUrl = pm.environment.get(\"base_url\");\r",
							"\r",
							"// Dados randômicos\r",
							"const randomName = pm.variables.replaceIn(\"{{$randomFullName}}\");\r",
							"const randomEmail = pm.variables.replaceIn(\"{{$randomEmail}}\").toLowerCase();\r",
							"const randomPassword = pm.variables.replaceIn(\"{{$randomPassword}}\");\r",
							"const randomCategory = _.sample(['Home', 'Work', 'Personal']);\r",
							"const randomTitle = pm.variables.replaceIn(\"{{$randomWord}} {{$randomWord}}\");\r",
							"const randomDescription = pm.variables.replaceIn(\"{{$randomWord}} {{$randomWord}} {{$randomWord}}\");\r",
							"\r",
							"// Persistir credenciais\r",
							"pm.environment.set(\"user_name\", randomName);\r",
							"pm.environment.set(\"user_email\", randomEmail);\r",
							"pm.environment.set(\"user_password\", randomPassword);\r",
							"pm.environment.unset(\"user_token\");\r",
							"\r",
							"// Criar usuário\r",
							"pm.sendRequest({\r",
							"    url: baseUrl + \"/users/register\",\r",
							"    method: \"POST\",\r",
							"    header: { \"Content-Type\": \"application/json\" },\r",
							"    body: { mode: \"raw\", raw: JSON.stringify({ name: randomName, email: randomEmail, password: randomPassword }) }\r",
							"}, function (err, res) {\r",
							"    if (err || !res || res.code !== 201) { postman.setNextRequest(null); return; }\r",
							"\r",
							"    const body = res.json();\r",
							"    pm.environment.set(\"user_id\", body.data.id);\r",
							"\r",
							"    // Login\r",
							"    pm.sendRequest({\r",
							"        url: baseUrl + \"/users/login\",\r",
							"        method: \"POST\",\r",
							"        header: { \"Content-Type\": \"application/json\" },\r",
							"        body: { mode: \"raw\", raw: JSON.stringify({ email: randomEmail, password: randomPassword }) }\r",
							"    }, function (err2, res2) {\r",
							"        if (err2 || !res2 || res2.code !== 200) { postman.setNextRequest(null); return; }\r",
							"        const login = res2.json();\r",
							"        const token = login && login.data && login.data.token;\r",
							"        if (!token) { postman.setNextRequest(null); return; }\r",
							"        pm.environment.set(\"user_token\", token);\r",
							"\r",
							"        // Criar nota para deletar\r",
							"        pm.sendRequest({\r",
							"            url: baseUrl + \"/notes\",\r",
							"            method: \"POST\",\r",
							"            header: { \"Content-Type\": \"application/json\", \"X-Auth-Token\": token },\r",
							"            body: { mode: \"raw\", raw: JSON.stringify({\r",
							"                title: randomTitle,\r",
							"                description: randomDescription,\r",
							"                category: randomCategory\r",
							"            }) }\r",
							"        }, function (err3, res3) {\r",
							"            if (err3 || !res3 || res3.code !== 200) { postman.setNextRequest(null); return; }\r",
							"            const n = res3.json();\r",
							"            pm.environment.set(\"note_id\", n.data.id);\r",
							"            pm.environment.set(\"note_title\", n.data.title);\r",
							"            pm.environment.set(\"note_description\", n.data.description);\r",
							"            pm.environment.set(\"note_category\", n.data.category);\r",
							"            pm.environment.set(\"note_completed\", n.data.completed);\r",
							"            pm.environment.set(\"note_created_at\", n.data.created_at);\r",
							"            pm.environment.set(\"note_updated_at\", n.data.updated_at);\r",
							"        });\r",
							"    });\r",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"method": "DELETE",
				"header": [
					{
						"key": "X-Auth-Token",
						"value": "{{user_token}}"
					}
				],
				"url": {
					"raw": "{{base_url}}/notes/{{note_id}}",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"notes",
						"{{note_id}}"
					]
				}
			},
			"response": []
		},
		{
			"name": "TC032 - Delete a note by ID - bad request [negative] [br]",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"let responseDNBR = pm.response.json();\r",
							"\r",
							"pm.test(\"12.2 - Check delete a note by ID - bad request success\", function () {\r",
							"    pm.expect(responseDNBR.success).to.be.equal(false);\r",
							"});\r",
							"pm.test(\"12.2 - Check delete a note by ID - bad request status\", function () {\r",
							"    pm.expect(responseDNBR.status).to.be.equal(400);\r",
							"});\r",
							"pm.test(\"12.2 - Check delete a note by ID - bad request message\", function () {\r",
							"    pm.expect(responseDNBR.message).to.be.equal(\"Note ID must be a valid ID\");\r",
							"});\r",
							"\r",
							"// Cleanup: login e apagar nota existente + usuário\r",
							"const baseUrl = pm.environment.get(\"base_url\");\r",
							"const email = pm.environment.get(\"user_email\");\r",
							"const password = pm.environment.get(\"user_password\");\r",
							"const noteId = pm.environment.get(\"note_id\");\r",
							"\r",
							"function unsetAll() {\r",
							"    pm.environment.unset(\"user_id\");\r",
							"    pm.environment.unset(\"user_name\");\r",
							"    pm.environment.unset(\"user_email\");\r",
							"    pm.environment.unset(\"user_password\");\r",
							"    pm.environment.unset(\"user_token\");\r",
							"    pm.environment.unset(\"note_id\");\r",
							"    pm.environment.unset(\"note_title\");\r",
							"    pm.environment.unset(\"note_description\");\r",
							"    pm.environment.unset(\"note_category\");\r",
							"    pm.environment.unset(\"note_completed\");\r",
							"    pm.environment.unset(\"note_created_at\");\r",
							"    pm.environment.unset(\"note_updated_at\");\r",
							"}\r",
							"\r",
							"if (baseUrl && email && password) {\r",
							"    pm.sendRequest({\r",
							"        url: baseUrl + \"/users/login\",\r",
							"        method: \"POST\",\r",
							"        header: { \"Content-Type\": \"application/json\" },\r",
							"        body: { mode: \"raw\", raw: JSON.stringify({ email, password }) }\r",
							"    }, function (err, res) {\r",
							"        if (err || !res || res.code !== 200) { unsetAll(); return; }\r",
							"        const login = res.json();\r",
							"        const token = login && login.data && login.data.token;\r",
							"        pm.environment.set(\"user_token\", token || \"\");\r",
							"        if (!token) { unsetAll(); return; }\r",
							"\r",
							"        function deleteUser() {\r",
							"            pm.sendRequest({\r",
							"                url: baseUrl + \"/users/delete-account\",\r",
							"                method: \"DELETE\",\r",
							"                header: { \"X-Auth-Token\": token }\r",
							"            }, function () { unsetAll(); });\r",
							"        }\r",
							"\r",
							"        if (noteId) {\r",
							"            pm.sendRequest({\r",
							"                url: baseUrl + \"/notes/\" + noteId,\r",
							"                method: \"DELETE\",\r",
							"                header: { \"X-Auth-Token\": token }\r",
							"            }, function () { deleteUser(); });\r",
							"        } else {\r",
							"            deleteUser();\r",
							"        }\r",
							"    });\r",
							"} else {\r",
							"    unsetAll();\r",
							"}"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							"const baseUrl = pm.environment.get(\"base_url\");\r",
							"\r",
							"// Dados randômicos\r",
							"const randomName = pm.variables.replaceIn(\"{{$randomFullName}}\");\r",
							"const randomEmail = pm.variables.replaceIn(\"{{$randomEmail}}\").toLowerCase();\r",
							"const randomPassword = pm.variables.replaceIn(\"{{$randomPassword}}\");\r",
							"const randomCategory = _.sample(['Home', 'Work', 'Personal']);\r",
							"const randomTitle = pm.variables.replaceIn(\"{{$randomWord}} {{$randomWord}}\");\r",
							"const randomDescription = pm.variables.replaceIn(\"{{$randomWord}} {{$randomWord}} {{$randomWord}}\");\r",
							"\r",
							"// Persistir credenciais\r",
							"pm.environment.set(\"user_name\", randomName);\r",
							"pm.environment.set(\"user_email\", randomEmail);\r",
							"pm.environment.set(\"user_password\", randomPassword);\r",
							"pm.environment.unset(\"user_token\");\r",
							"\r",
							"// Criar usuário\r",
							"pm.sendRequest({\r",
							"    url: baseUrl + \"/users/register\",\r",
							"    method: \"POST\",\r",
							"    header: { \"Content-Type\": \"application/json\" },\r",
							"    body: { mode: \"raw\", raw: JSON.stringify({ name: randomName, email: randomEmail, password: randomPassword }) }\r",
							"}, function (err, res) {\r",
							"    if (err || !res || res.code !== 201) { postman.setNextRequest(null); return; }\r",
							"\r",
							"    const body = res.json();\r",
							"    pm.environment.set(\"user_id\", body.data.id);\r",
							"\r",
							"    // Login\r",
							"    pm.sendRequest({\r",
							"        url: baseUrl + \"/users/login\",\r",
							"        method: \"POST\",\r",
							"        header: { \"Content-Type\": \"application/json\" },\r",
							"        body: { mode: \"raw\", raw: JSON.stringify({ email: randomEmail, password: randomPassword }) }\r",
							"    }, function (err2, res2) {\r",
							"        if (err2 || !res2 || res2.code !== 200) { postman.setNextRequest(null); return; }\r",
							"        const login = res2.json();\r",
							"        const token = login && login.data && login.data.token;\r",
							"        if (!token) { postman.setNextRequest(null); return; }\r",
							"        pm.environment.set(\"user_token\", token);\r",
							"\r",
							"        // Criar nota para deletar\r",
							"        pm.sendRequest({\r",
							"            url: baseUrl + \"/notes\",\r",
							"            method: \"POST\",\r",
							"            header: { \"Content-Type\": \"application/json\", \"X-Auth-Token\": token },\r",
							"            body: { mode: \"raw\", raw: JSON.stringify({\r",
							"                title: randomTitle,\r",
							"                description: randomDescription,\r",
							"                category: randomCategory\r",
							"            }) }\r",
							"        }, function (err3, res3) {\r",
							"            if (err3 || !res3 || res3.code !== 200) { postman.setNextRequest(null); return; }\r",
							"            const n = res3.json();\r",
							"            pm.environment.set(\"note_id\", n.data.id);\r",
							"            pm.environment.set(\"note_title\", n.data.title);\r",
							"            pm.environment.set(\"note_description\", n.data.description);\r",
							"            pm.environment.set(\"note_category\", n.data.category);\r",
							"            pm.environment.set(\"note_completed\", n.data.completed);\r",
							"            pm.environment.set(\"note_created_at\", n.data.created_at);\r",
							"            pm.environment.set(\"note_updated_at\", n.data.updated_at);\r",
							"        });\r",
							"    });\r",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"method": "DELETE",
				"header": [
					{
						"key": "X-Auth-Token",
						"value": "{{user_token}}"
					}
				],
				"url": {
					"raw": "{{base_url}}/notes/@{{note_id}}",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"notes",
						"@{{note_id}}"
					]
				}
			},
			"response": []
		},
		{
			"name": "TC033 - Delete a note by ID - unauthorized request [negative] [ur]",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"let responseDNUR = pm.response.json();\r",
							"\r",
							"pm.test(\"12.3 - Check delete a note by ID - unauthorized request success\", function () {\r",
							"    pm.expect(responseDNUR.success).to.be.equal(false);\r",
							"});\r",
							"pm.test(\"12.3 - Check delete a note by ID - unauthorized request status\", function () {\r",
							"    pm.expect(responseDNUR.status).to.be.equal(401);\r",
							"});\r",
							"pm.test(\"12.3 - Check delete a note by ID - unauthorized request message\", function () {\r",
							"    pm.expect(responseDNUR.message).to.be.equal(\"Access token is not valid or has expired, you will need to login\");\r",
							"});\r",
							"\r",
							"// Cleanup: login e apagar nota + usuário\r",
							"const baseUrl = pm.environment.get(\"base_url\");\r",
							"const email = pm.environment.get(\"user_email\");\r",
							"const password = pm.environment.get(\"user_password\");\r",
							"const noteId = pm.environment.get(\"note_id\");\r",
							"\r",
							"function unsetAll() {\r",
							"    pm.environment.unset(\"user_id\");\r",
							"    pm.environment.unset(\"user_name\");\r",
							"    pm.environment.unset(\"user_email\");\r",
							"    pm.environment.unset(\"user_password\");\r",
							"    pm.environment.unset(\"user_token\");\r",
							"    pm.environment.unset(\"note_id\");\r",
							"    pm.environment.unset(\"note_title\");\r",
							"    pm.environment.unset(\"note_description\");\r",
							"    pm.environment.unset(\"note_category\");\r",
							"    pm.environment.unset(\"note_completed\");\r",
							"    pm.environment.unset(\"note_created_at\");\r",
							"    pm.environment.unset(\"note_updated_at\");\r",
							"}\r",
							"\r",
							"if (baseUrl && email && password) {\r",
							"    pm.sendRequest({\r",
							"        url: baseUrl + \"/users/login\",\r",
							"        method: \"POST\",\r",
							"        header: { \"Content-Type\": \"application/json\" },\r",
							"        body: { mode: \"raw\", raw: JSON.stringify({ email, password }) }\r",
							"    }, function (err, res) {\r",
							"        if (err || !res || res.code !== 200) { unsetAll(); return; }\r",
							"        const login = res.json();\r",
							"        const token = login && login.data && login.data.token;\r",
							"        pm.environment.set(\"user_token\", token || \"\");\r",
							"        if (!token) { unsetAll(); return; }\r",
							"\r",
							"        function deleteUser() {\r",
							"            pm.sendRequest({\r",
							"                url: baseUrl + \"/users/delete-account\",\r",
							"                method: \"DELETE\",\r",
							"                header: { \"X-Auth-Token\": token }\r",
							"            }, function () { unsetAll(); });\r",
							"        }\r",
							"\r",
							"        if (noteId) {\r",
							"            pm.sendRequest({\r",
							"                url: baseUrl + \"/notes/\" + noteId,\r",
							"                method: \"DELETE\",\r",
							"                header: { \"X-Auth-Token\": token }\r",
							"            }, function () { deleteUser(); });\r",
							"        } else {\r",
							"            deleteUser();\r",
							"        }\r",
							"    });\r",
							"} else {\r",
							"    unsetAll();\r",
							"}"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							"const baseUrl = pm.environment.get(\"base_url\");\r",
							"\r",
							"// Dados randômicos\r",
							"const randomName = pm.variables.replaceIn(\"{{$randomFullName}}\");\r",
							"const randomEmail = pm.variables.replaceIn(\"{{$randomEmail}}\").toLowerCase();\r",
							"const randomPassword = pm.variables.replaceIn(\"{{$randomPassword}}\");\r",
							"const randomCategory = _.sample(['Home', 'Work', 'Personal']);\r",
							"const randomTitle = pm.variables.replaceIn(\"{{$randomWord}} {{$randomWord}}\");\r",
							"const randomDescription = pm.variables.replaceIn(\"{{$randomWord}} {{$randomWord}} {{$randomWord}}\");\r",
							"\r",
							"// Persistir credenciais\r",
							"pm.environment.set(\"user_name\", randomName);\r",
							"pm.environment.set(\"user_email\", randomEmail);\r",
							"pm.environment.set(\"user_password\", randomPassword);\r",
							"pm.environment.unset(\"user_token\");\r",
							"\r",
							"// Criar usuário\r",
							"pm.sendRequest({\r",
							"    url: baseUrl + \"/users/register\",\r",
							"    method: \"POST\",\r",
							"    header: { \"Content-Type\": \"application/json\" },\r",
							"    body: { mode: \"raw\", raw: JSON.stringify({ name: randomName, email: randomEmail, password: randomPassword }) }\r",
							"}, function (err, res) {\r",
							"    if (err || !res || res.code !== 201) { postman.setNextRequest(null); return; }\r",
							"\r",
							"    const body = res.json();\r",
							"    pm.environment.set(\"user_id\", body.data.id);\r",
							"\r",
							"    // Login\r",
							"    pm.sendRequest({\r",
							"        url: baseUrl + \"/users/login\",\r",
							"        method: \"POST\",\r",
							"        header: { \"Content-Type\": \"application/json\" },\r",
							"        body: { mode: \"raw\", raw: JSON.stringify({ email: randomEmail, password: randomPassword }) }\r",
							"    }, function (err2, res2) {\r",
							"        if (err2 || !res2 || res2.code !== 200) { postman.setNextRequest(null); return; }\r",
							"        const login = res2.json();\r",
							"        const token = login && login.data && login.data.token;\r",
							"        if (!token) { postman.setNextRequest(null); return; }\r",
							"        pm.environment.set(\"user_token\", token);\r",
							"\r",
							"        // Criar nota para deletar\r",
							"        pm.sendRequest({\r",
							"            url: baseUrl + \"/notes\",\r",
							"            method: \"POST\",\r",
							"            header: { \"Content-Type\": \"application/json\", \"X-Auth-Token\": token },\r",
							"            body: { mode: \"raw\", raw: JSON.stringify({\r",
							"                title: randomTitle,\r",
							"                description: randomDescription,\r",
							"                category: randomCategory\r",
							"            }) }\r",
							"        }, function (err3, res3) {\r",
							"            if (err3 || !res3 || res3.code !== 200) { postman.setNextRequest(null); return; }\r",
							"            const n = res3.json();\r",
							"            pm.environment.set(\"note_id\", n.data.id);\r",
							"            pm.environment.set(\"note_title\", n.data.title);\r",
							"            pm.environment.set(\"note_description\", n.data.description);\r",
							"            pm.environment.set(\"note_category\", n.data.category);\r",
							"            pm.environment.set(\"note_completed\", n.data.completed);\r",
							"            pm.environment.set(\"note_created_at\", n.data.created_at);\r",
							"            pm.environment.set(\"note_updated_at\", n.data.updated_at);\r",
							"        });\r",
							"    });\r",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"method": "DELETE",
				"header": [
					{
						"key": "X-Auth-Token",
						"value": "@{{user_token}}"
					}
				],
				"url": {
					"raw": "{{base_url}}/notes/{{note_id}}",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"notes",
						"{{note_id}}"
					]
				}
			},
			"response": []
		},
		{
			"name": "TC034 - Log out a user",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"let responseLOU = pm.response.json();\r",
							"\r",
							"pm.test(\"13.1 - Check log out a user success\", function () {\r",
							"    pm.expect(responseLOU.success).to.be.equal(true);\r",
							"});\r",
							"pm.test(\"13.1 - Check log out a user status\", function () {\r",
							"    pm.expect(responseLOU.status).to.be.equal(200);\r",
							"});\r",
							"pm.test(\"13.1 - Check log out a user message\", function () {\r",
							"    pm.expect(responseLOU.message).to.be.equal(\"User has been successfully logged out\");\r",
							"});\r",
							"\r",
							"// Cleanup: relogar para obter novo token e deletar usuário\r",
							"const baseUrl = pm.environment.get(\"base_url\");\r",
							"const email = pm.environment.get(\"user_email\");\r",
							"const password = pm.environment.get(\"user_password\");\r",
							"\r",
							"function unsetAll() {\r",
							"    pm.environment.unset(\"user_id\");\r",
							"    pm.environment.unset(\"user_name\");\r",
							"    pm.environment.unset(\"user_email\");\r",
							"    pm.environment.unset(\"user_password\");\r",
							"    pm.environment.unset(\"user_token\");\r",
							"}\r",
							"\r",
							"if (baseUrl && email && password) {\r",
							"    pm.sendRequest({\r",
							"        url: baseUrl + \"/users/login\",\r",
							"        method: \"POST\",\r",
							"        header: { \"Content-Type\": \"application/json\" },\r",
							"        body: { mode: \"raw\", raw: JSON.stringify({ email, password }) }\r",
							"    }, function (err, res) {\r",
							"        if (err || !res || res.code !== 200) { unsetAll(); return; }\r",
							"        const login = res.json();\r",
							"        const token = login && login.data && login.data.token;\r",
							"        if (!token) { unsetAll(); return; }\r",
							"\r",
							"        pm.environment.set(\"user_token\", token);\r",
							"\r",
							"        pm.sendRequest({\r",
							"            url: baseUrl + \"/users/delete-account\",\r",
							"            method: \"DELETE\",\r",
							"            header: { \"X-Auth-Token\": token }\r",
							"        }, function () { unsetAll(); });\r",
							"    });\r",
							"} else {\r",
							"    unsetAll();\r",
							"}"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							"const baseUrl = pm.environment.get(\"base_url\");\r",
							"\r",
							"// Dados randômicos\r",
							"const randomName = pm.variables.replaceIn(\"{{$randomFullName}}\");\r",
							"const randomEmail = pm.variables.replaceIn(\"{{$randomEmail}}\").toLowerCase();\r",
							"const randomPassword = pm.variables.replaceIn(\"{{$randomPassword}}\");\r",
							"\r",
							"// Persistir\r",
							"pm.environment.set(\"user_name\", randomName);\r",
							"pm.environment.set(\"user_email\", randomEmail);\r",
							"pm.environment.set(\"user_password\", randomPassword);\r",
							"pm.environment.unset(\"user_token\");\r",
							"\r",
							"// Criar usuário\r",
							"pm.sendRequest({\r",
							"    url: baseUrl + \"/users/register\",\r",
							"    method: \"POST\",\r",
							"    header: { \"Content-Type\": \"application/json\" },\r",
							"    body: { mode: \"raw\", raw: JSON.stringify({ name: randomName, email: randomEmail, password: randomPassword }) }\r",
							"}, function (err, res) {\r",
							"    if (err || !res || res.code !== 201) { postman.setNextRequest(null); return; }\r",
							"    const body = res.json();\r",
							"    pm.environment.set(\"user_id\", body.data.id);\r",
							"\r",
							"    // Login para obter token\r",
							"    pm.sendRequest({\r",
							"        url: baseUrl + \"/users/login\",\r",
							"        method: \"POST\",\r",
							"        header: { \"Content-Type\": \"application/json\" },\r",
							"        body: { mode: \"raw\", raw: JSON.stringify({ email: randomEmail, password: randomPassword }) }\r",
							"    }, function (err2, res2) {\r",
							"        if (err2 || !res2 || res2.code !== 200) { postman.setNextRequest(null); return; }\r",
							"        const login = res2.json();\r",
							"        const token = login && login.data && login.data.token;\r",
							"        if (!token) { postman.setNextRequest(null); return; }\r",
							"        pm.environment.set(\"user_token\", token);\r",
							"    });\r",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"method": "DELETE",
				"header": [
					{
						"key": "X-Auth-Token",
						"value": "{{user_token}}"
					}
				],
				"url": {
					"raw": "{{base_url}}/users/logout",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"users",
						"logout"
					]
				}
			},
			"response": []
		},
		{
			"name": "TC035 - Log out a user - bad request [negative] [br]",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"let responseLOUBR = pm.response.json();\r",
							"\r",
							"pm.test(\"13.2 - Check log out a user - bad request success\", function () {\r",
							"    pm.expect(responseLOUBR.success).to.be.equal(false);\r",
							"});\r",
							"pm.test(\"13.2 - Check log out a user - bad request status\", function () {\r",
							"    pm.expect(responseLOUBR.status).to.be.equal(400);\r",
							"});\r",
							"pm.test(\"13.2 - Check log out a user - bad request message\", function () {\r",
							"    pm.expect(responseLOUBR.message).to.be.equal(\"Invalid X-Content-Format header, Only application/json is supported.\");\r",
							"});\r",
							"\r",
							"// Cleanup: login e delete usuário\r",
							"const baseUrl = pm.environment.get(\"base_url\");\r",
							"const email = pm.environment.get(\"user_email\");\r",
							"const password = pm.environment.get(\"user_password\");\r",
							"\r",
							"function unsetAll() {\r",
							"    pm.environment.unset(\"user_id\");\r",
							"    pm.environment.unset(\"user_name\");\r",
							"    pm.environment.unset(\"user_email\");\r",
							"    pm.environment.unset(\"user_password\");\r",
							"    pm.environment.unset(\"user_token\");\r",
							"}\r",
							"\r",
							"if (baseUrl && email && password) {\r",
							"    pm.sendRequest({\r",
							"        url: baseUrl + \"/users/login\",\r",
							"        method: \"POST\",\r",
							"        header: { \"Content-Type\": \"application/json\" },\r",
							"        body: { mode: \"raw\", raw: JSON.stringify({ email, password }) }\r",
							"    }, function (err, res) {\r",
							"        if (err || !res || res.code !== 200) { unsetAll(); return; }\r",
							"        const login = res.json();\r",
							"        const token = login && login.data && login.data.token;\r",
							"        pm.environment.set(\"user_token\", token || \"\");\r",
							"        if (!token) { unsetAll(); return; }\r",
							"\r",
							"        pm.sendRequest({\r",
							"            url: baseUrl + \"/users/delete-account\",\r",
							"            method: \"DELETE\",\r",
							"            header: { \"X-Auth-Token\": token }\r",
							"        }, function () { unsetAll(); });\r",
							"    });\r",
							"} else {\r",
							"    unsetAll();\r",
							"}"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							"const baseUrl = pm.environment.get(\"base_url\");\r",
							"\r",
							"// Dados randômicos\r",
							"const randomName = pm.variables.replaceIn(\"{{$randomFullName}}\");\r",
							"const randomEmail = pm.variables.replaceIn(\"{{$randomEmail}}\").toLowerCase();\r",
							"const randomPassword = pm.variables.replaceIn(\"{{$randomPassword}}\");\r",
							"\r",
							"// Persistir\r",
							"pm.environment.set(\"user_name\", randomName);\r",
							"pm.environment.set(\"user_email\", randomEmail);\r",
							"pm.environment.set(\"user_password\", randomPassword);\r",
							"pm.environment.unset(\"user_token\");\r",
							"\r",
							"// Criar usuário\r",
							"pm.sendRequest({\r",
							"    url: baseUrl + \"/users/register\",\r",
							"    method: \"POST\",\r",
							"    header: { \"Content-Type\": \"application/json\" },\r",
							"    body: { mode: \"raw\", raw: JSON.stringify({ name: randomName, email: randomEmail, password: randomPassword }) }\r",
							"}, function (err, res) {\r",
							"    if (err || !res || res.code !== 201) { postman.setNextRequest(null); return; }\r",
							"    const body = res.json();\r",
							"    pm.environment.set(\"user_id\", body.data.id);\r",
							"\r",
							"    // Login para obter token\r",
							"    pm.sendRequest({\r",
							"        url: baseUrl + \"/users/login\",\r",
							"        method: \"POST\",\r",
							"        header: { \"Content-Type\": \"application/json\" },\r",
							"        body: { mode: \"raw\", raw: JSON.stringify({ email: randomEmail, password: randomPassword }) }\r",
							"    }, function (err2, res2) {\r",
							"        if (err2 || !res2 || res2.code !== 200) { postman.setNextRequest(null); return; }\r",
							"        const login = res2.json();\r",
							"        const token = login && login.data && login.data.token;\r",
							"        if (!token) { postman.setNextRequest(null); return; }\r",
							"        pm.environment.set(\"user_token\", token);\r",
							"    });\r",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"method": "DELETE",
				"header": [
					{
						"key": "X-Auth-Token",
						"value": "{{user_token}}"
					},
					{
						"key": "x-content-format",
						"value": "badRequest",
						"type": "text"
					}
				],
				"url": {
					"raw": "{{base_url}}/users/logout",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"users",
						"logout"
					]
				}
			},
			"response": []
		},
		{
			"name": "TC036 - Log out a user - unauthorized request [negative] [ur]",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"let responseLOUUR = pm.response.json();\r",
							"\r",
							"pm.test(\"13.3 - Check log out a user - unauthorized request success\", function () {\r",
							"    pm.expect(responseLOUUR.success).to.be.equal(false);\r",
							"});\r",
							"pm.test(\"13.3 - Check log out a user - unauthorized request status\", function () {\r",
							"    pm.expect(responseLOUUR.status).to.be.equal(401);\r",
							"});\r",
							"pm.test(\"13.3 - Check log out a user - unauthorized request message\", function () {\r",
							"    pm.expect(responseLOUUR.message).to.be.equal(\"Access token is not valid or has expired, you will need to login\");\r",
							"});\r",
							"\r",
							"// Cleanup: login e delete usuário\r",
							"const baseUrl = pm.environment.get(\"base_url\");\r",
							"const email = pm.environment.get(\"user_email\");\r",
							"const password = pm.environment.get(\"user_password\");\r",
							"\r",
							"function unsetAll() {\r",
							"    pm.environment.unset(\"user_id\");\r",
							"    pm.environment.unset(\"user_name\");\r",
							"    pm.environment.unset(\"user_email\");\r",
							"    pm.environment.unset(\"user_password\");\r",
							"    pm.environment.unset(\"user_token\");\r",
							"}\r",
							"\r",
							"if (baseUrl && email && password) {\r",
							"    pm.sendRequest({\r",
							"        url: baseUrl + \"/users/login\",\r",
							"        method: \"POST\",\r",
							"        header: { \"Content-Type\": \"application/json\" },\r",
							"        body: { mode: \"raw\", raw: JSON.stringify({ email, password }) }\r",
							"    }, function (err, res) {\r",
							"        if (err || !res || res.code !== 200) { unsetAll(); return; }\r",
							"        const login = res.json();\r",
							"        const token = login && login.data && login.data.token;\r",
							"        pm.environment.set(\"user_token\", token || \"\");\r",
							"        if (!token) { unsetAll(); return; }\r",
							"\r",
							"        pm.sendRequest({\r",
							"            url: baseUrl + \"/users/delete-account\",\r",
							"            method: \"DELETE\",\r",
							"            header: { \"X-Auth-Token\": token }\r",
							"        }, function () { unsetAll(); });\r",
							"    });\r",
							"} else {\r",
							"    unsetAll();\r",
							"}"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							"const baseUrl = pm.environment.get(\"base_url\");\r",
							"\r",
							"// Dados randômicos\r",
							"const randomName = pm.variables.replaceIn(\"{{$randomFullName}}\");\r",
							"const randomEmail = pm.variables.replaceIn(\"{{$randomEmail}}\").toLowerCase();\r",
							"const randomPassword = pm.variables.replaceIn(\"{{$randomPassword}}\");\r",
							"\r",
							"// Persistir\r",
							"pm.environment.set(\"user_name\", randomName);\r",
							"pm.environment.set(\"user_email\", randomEmail);\r",
							"pm.environment.set(\"user_password\", randomPassword);\r",
							"pm.environment.unset(\"user_token\");\r",
							"\r",
							"// Criar usuário\r",
							"pm.sendRequest({\r",
							"    url: baseUrl + \"/users/register\",\r",
							"    method: \"POST\",\r",
							"    header: { \"Content-Type\": \"application/json\" },\r",
							"    body: { mode: \"raw\", raw: JSON.stringify({ name: randomName, email: randomEmail, password: randomPassword }) }\r",
							"}, function (err, res) {\r",
							"    if (err || !res || res.code !== 201) { postman.setNextRequest(null); return; }\r",
							"    const body = res.json();\r",
							"    pm.environment.set(\"user_id\", body.data.id);\r",
							"\r",
							"    // Login para obter token\r",
							"    pm.sendRequest({\r",
							"        url: baseUrl + \"/users/login\",\r",
							"        method: \"POST\",\r",
							"        header: { \"Content-Type\": \"application/json\" },\r",
							"        body: { mode: \"raw\", raw: JSON.stringify({ email: randomEmail, password: randomPassword }) }\r",
							"    }, function (err2, res2) {\r",
							"        if (err2 || !res2 || res2.code !== 200) { postman.setNextRequest(null); return; }\r",
							"        const login = res2.json();\r",
							"        const token = login && login.data && login.data.token;\r",
							"        if (!token) { postman.setNextRequest(null); return; }\r",
							"        pm.environment.set(\"user_token\", token);\r",
							"    });\r",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"method": "DELETE",
				"header": [
					{
						"key": "X-Auth-Token",
						"value": "@{{user_token}}"
					},
					{
						"key": "",
						"value": "",
						"type": "text"
					}
				],
				"url": {
					"raw": "{{base_url}}/users/logout",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"users",
						"logout"
					]
				}
			},
			"response": []
		},
		{
			"name": "TC037 - Delete user account",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"let responseDU = pm.response.json();\r",
							"\r",
							"pm.test(\"14.1 - Check delete user account success\", function () {\r",
							"    pm.expect(responseDU.success).to.be.equal(true);\r",
							"});\r",
							"pm.test(\"14.1 - Check delete user account status\", function () {\r",
							"    pm.expect(responseDU.status).to.be.equal(200);\r",
							"});\r",
							"pm.test(\"14.1 - Check delete user account message\", function () {\r",
							"    pm.expect(responseDU.message).to.be.equal(\"Account successfully deleted\");\r",
							"});\r",
							"\r",
							"// Cleanup: apenas limpar variáveis (usuário já deletado)\r",
							"pm.environment.unset(\"user_id\");\r",
							"pm.environment.unset(\"user_name\");\r",
							"pm.environment.unset(\"user_email\");\r",
							"pm.environment.unset(\"user_password\");\r",
							"pm.environment.unset(\"user_token\");"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							"const baseUrl = pm.environment.get(\"base_url\");\r",
							"\r",
							"// Dados randômicos\r",
							"const randomName = pm.variables.replaceIn(\"{{$randomFullName}}\");\r",
							"const randomEmail = pm.variables.replaceIn(\"{{$randomEmail}}\").toLowerCase();\r",
							"const randomPassword = pm.variables.replaceIn(\"{{$randomPassword}}\");\r",
							"\r",
							"// Persistir para uso e asserts\r",
							"pm.environment.set(\"user_name\", randomName);\r",
							"pm.environment.set(\"user_email\", randomEmail);\r",
							"pm.environment.set(\"user_password\", randomPassword);\r",
							"pm.environment.unset(\"user_token\");\r",
							"\r",
							"// Criar usuário\r",
							"pm.sendRequest({\r",
							"    url: baseUrl + \"/users/register\",\r",
							"    method: \"POST\",\r",
							"    header: { \"Content-Type\": \"application/json\" },\r",
							"    body: { mode: \"raw\", raw: JSON.stringify({ name: randomName, email: randomEmail, password: randomPassword }) }\r",
							"}, function (err, res) {\r",
							"    if (err || !res || res.code !== 201) { postman.setNextRequest(null); return; }\r",
							"    const body = res.json();\r",
							"    pm.environment.set(\"user_id\", body.data.id);\r",
							"\r",
							"    // Login para obter token\r",
							"    pm.sendRequest({\r",
							"        url: baseUrl + \"/users/login\",\r",
							"        method: \"POST\",\r",
							"        header: { \"Content-Type\": \"application/json\" },\r",
							"        body: { mode: \"raw\", raw: JSON.stringify({ email: randomEmail, password: randomPassword }) }\r",
							"    }, function (err2, res2) {\r",
							"        if (err2 || !res2 || res2.code !== 200) { postman.setNextRequest(null); return; }\r",
							"        const login = res2.json();\r",
							"        const token = login && login.data && login.data.token;\r",
							"        if (!token) { postman.setNextRequest(null); return; }\r",
							"        pm.environment.set(\"user_token\", token);\r",
							"    });\r",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"method": "DELETE",
				"header": [
					{
						"key": "X-Auth-Token",
						"value": "{{user_token}}"
					}
				],
				"url": {
					"raw": "{{base_url}}/users/delete-account",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"users",
						"delete-account"
					]
				}
			},
			"response": []
		},
		{
			"name": "TC038 - Delete user account - bad request [negative] [br]",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"let responseDUBR = pm.response.json();\r",
							"\r",
							"pm.test(\"14.2 - Check delete user account - bad request success\", function () {\r",
							"    pm.expect(responseDUBR.success).to.be.equal(false);\r",
							"});\r",
							"pm.test(\"14.2 - Check delete user account - bad request status\", function () {\r",
							"    pm.expect(responseDUBR.status).to.be.equal(400);\r",
							"});\r",
							"pm.test(\"14.2 - Check delete user account - bad request message\", function () {\r",
							"    pm.expect(responseDUBR.message).to.be.equal(\"Invalid X-Content-Format header, Only application/json is supported.\");\r",
							"});\r",
							"\r",
							"// Cleanup: login com credenciais válidas e deletar o usuário\r",
							"const baseUrl = pm.environment.get(\"base_url\");\r",
							"const email = pm.environment.get(\"user_email\");\r",
							"const password = pm.environment.get(\"user_password\");\r",
							"\r",
							"function unsetAll() {\r",
							"    pm.environment.unset(\"user_id\");\r",
							"    pm.environment.unset(\"user_name\");\r",
							"    pm.environment.unset(\"user_email\");\r",
							"    pm.environment.unset(\"user_password\");\r",
							"    pm.environment.unset(\"user_token\");\r",
							"}\r",
							"\r",
							"if (baseUrl && email && password) {\r",
							"    pm.sendRequest({\r",
							"        url: baseUrl + \"/users/login\",\r",
							"        method: \"POST\",\r",
							"        header: { \"Content-Type\": \"application/json\" },\r",
							"        body: { mode: \"raw\", raw: JSON.stringify({ email, password }) }\r",
							"    }, function (err, res) {\r",
							"        if (err || !res || res.code !== 200) { unsetAll(); return; }\r",
							"        const login = res.json();\r",
							"        const token = login && login.data && login.data.token;\r",
							"        pm.environment.set(\"user_token\", token || \"\");\r",
							"        if (!token) { unsetAll(); return; }\r",
							"\r",
							"        pm.sendRequest({\r",
							"            url: baseUrl + \"/users/delete-account\",\r",
							"            method: \"DELETE\",\r",
							"            header: { \"X-Auth-Token\": token }\r",
							"        }, function () { unsetAll(); });\r",
							"    });\r",
							"} else {\r",
							"    unsetAll();\r",
							"}"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							"const baseUrl = pm.environment.get(\"base_url\");\r",
							"\r",
							"// Dados randômicos\r",
							"const randomName = pm.variables.replaceIn(\"{{$randomFullName}}\");\r",
							"const randomEmail = pm.variables.replaceIn(\"{{$randomEmail}}\").toLowerCase();\r",
							"const randomPassword = pm.variables.replaceIn(\"{{$randomPassword}}\");\r",
							"\r",
							"// Persistir para uso e asserts\r",
							"pm.environment.set(\"user_name\", randomName);\r",
							"pm.environment.set(\"user_email\", randomEmail);\r",
							"pm.environment.set(\"user_password\", randomPassword);\r",
							"pm.environment.unset(\"user_token\");\r",
							"\r",
							"// Criar usuário\r",
							"pm.sendRequest({\r",
							"    url: baseUrl + \"/users/register\",\r",
							"    method: \"POST\",\r",
							"    header: { \"Content-Type\": \"application/json\" },\r",
							"    body: { mode: \"raw\", raw: JSON.stringify({ name: randomName, email: randomEmail, password: randomPassword }) }\r",
							"}, function (err, res) {\r",
							"    if (err || !res || res.code !== 201) { postman.setNextRequest(null); return; }\r",
							"    const body = res.json();\r",
							"    pm.environment.set(\"user_id\", body.data.id);\r",
							"\r",
							"    // Login para obter token\r",
							"    pm.sendRequest({\r",
							"        url: baseUrl + \"/users/login\",\r",
							"        method: \"POST\",\r",
							"        header: { \"Content-Type\": \"application/json\" },\r",
							"        body: { mode: \"raw\", raw: JSON.stringify({ email: randomEmail, password: randomPassword }) }\r",
							"    }, function (err2, res2) {\r",
							"        if (err2 || !res2 || res2.code !== 200) { postman.setNextRequest(null); return; }\r",
							"        const login = res2.json();\r",
							"        const token = login && login.data && login.data.token;\r",
							"        if (!token) { postman.setNextRequest(null); return; }\r",
							"        pm.environment.set(\"user_token\", token);\r",
							"    });\r",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"method": "DELETE",
				"header": [
					{
						"key": "X-Auth-Token",
						"value": "{{user_token}}"
					},
					{
						"key": "x-content-format",
						"value": "badRequest",
						"type": "text"
					}
				],
				"url": {
					"raw": "{{base_url}}/users/delete-account",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"users",
						"delete-account"
					]
				}
			},
			"response": []
		},
		{
			"name": "TC039 - Delete user account - unauthorized request [negative] [ur]",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"let responseDUUR = pm.response.json();\r",
							"\r",
							"pm.test(\"14.3 - Check delete user account - unauthorized request success\", function () {\r",
							"    pm.expect(responseDUUR.success).to.be.equal(false);\r",
							"});\r",
							"pm.test(\"14.3 - Check delete user account - unauthorized request status\", function () {\r",
							"    pm.expect(responseDUUR.status).to.be.equal(401);\r",
							"});\r",
							"pm.test(\"14.3 - Check delete user account - unauthorized request message\", function () {\r",
							"    pm.expect(responseDUUR.message).to.be.equal(\"Access token is not valid or has expired, you will need to login\");\r",
							"});\r",
							"\r",
							"// Cleanup: login com credenciais válidas e deletar o usuário\r",
							"const baseUrl = pm.environment.get(\"base_url\");\r",
							"const email = pm.environment.get(\"user_email\");\r",
							"const password = pm.environment.get(\"user_password\");\r",
							"\r",
							"function unsetAll() {\r",
							"    pm.environment.unset(\"user_id\");\r",
							"    pm.environment.unset(\"user_name\");\r",
							"    pm.environment.unset(\"user_email\");\r",
							"    pm.environment.unset(\"user_password\");\r",
							"    pm.environment.unset(\"user_token\");\r",
							"}\r",
							"\r",
							"if (baseUrl && email && password) {\r",
							"    pm.sendRequest({\r",
							"        url: baseUrl + \"/users/login\",\r",
							"        method: \"POST\",\r",
							"        header: { \"Content-Type\": \"application/json\" },\r",
							"        body: { mode: \"raw\", raw: JSON.stringify({ email, password }) }\r",
							"    }, function (err, res) {\r",
							"        if (err || !res || res.code !== 200) { unsetAll(); return; }\r",
							"        const login = res.json();\r",
							"        const token = login && login.data && login.data.token;\r",
							"        pm.environment.set(\"user_token\", token || \"\");\r",
							"        if (!token) { unsetAll(); return; }\r",
							"\r",
							"        pm.sendRequest({\r",
							"            url: baseUrl + \"/users/delete-account\",\r",
							"            method: \"DELETE\",\r",
							"            header: { \"X-Auth-Token\": token }\r",
							"        }, function () { unsetAll(); });\r",
							"    });\r",
							"} else {\r",
							"    unsetAll();\r",
							"}"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							"const baseUrl = pm.environment.get(\"base_url\");\r",
							"\r",
							"// Dados randômicos\r",
							"const randomName = pm.variables.replaceIn(\"{{$randomFullName}}\");\r",
							"const randomEmail = pm.variables.replaceIn(\"{{$randomEmail}}\").toLowerCase();\r",
							"const randomPassword = pm.variables.replaceIn(\"{{$randomPassword}}\");\r",
							"\r",
							"// Persistir para uso e asserts\r",
							"pm.environment.set(\"user_name\", randomName);\r",
							"pm.environment.set(\"user_email\", randomEmail);\r",
							"pm.environment.set(\"user_password\", randomPassword);\r",
							"pm.environment.unset(\"user_token\");\r",
							"\r",
							"// Criar usuário\r",
							"pm.sendRequest({\r",
							"    url: baseUrl + \"/users/register\",\r",
							"    method: \"POST\",\r",
							"    header: { \"Content-Type\": \"application/json\" },\r",
							"    body: { mode: \"raw\", raw: JSON.stringify({ name: randomName, email: randomEmail, password: randomPassword }) }\r",
							"}, function (err, res) {\r",
							"    if (err || !res || res.code !== 201) { postman.setNextRequest(null); return; }\r",
							"    const body = res.json();\r",
							"    pm.environment.set(\"user_id\", body.data.id);\r",
							"\r",
							"    // Login para obter token\r",
							"    pm.sendRequest({\r",
							"        url: baseUrl + \"/users/login\",\r",
							"        method: \"POST\",\r",
							"        header: { \"Content-Type\": \"application/json\" },\r",
							"        body: { mode: \"raw\", raw: JSON.stringify({ email: randomEmail, password: randomPassword }) }\r",
							"    }, function (err2, res2) {\r",
							"        if (err2 || !res2 || res2.code !== 200) { postman.setNextRequest(null); return; }\r",
							"        const login = res2.json();\r",
							"        const token = login && login.data && login.data.token;\r",
							"        if (!token) { postman.setNextRequest(null); return; }\r",
							"        pm.environment.set(\"user_token\", token);\r",
							"    });\r",
							"});"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"method": "DELETE",
				"header": [
					{
						"key": "X-Auth-Token",
						"value": "@{{user_token}}"
					},
					{
						"key": "",
						"value": "",
						"type": "text"
					}
				],
				"url": {
					"raw": "{{base_url}}/users/delete-account",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"users",
						"delete-account"
					]
				}
			},
			"response": []
		}
	]
}